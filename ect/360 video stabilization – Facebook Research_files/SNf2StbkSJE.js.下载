if (self.CavalryLogger) { CavalryLogger.start_js(["wKPlX"]); }

__d("DesktopHscrollUnitEventConstants",[],(function a(b,c,d,e,f,g){f.exports={HSCROLL_ITEM_INSERTED_EVENT:"DesktopHScrollUnit/itemInserted",HSCROLL_ITEM_SHOWN_EVENT:"DesktopHScrollUnit/itemShown",HSCROLL_ITEM_HIDE_EVENT:"DesktopHScrollUnit/HideIndividualItem",HSCROLL_ITEM_SCROLL_BEFORE_XOUT_EVENT:"DesktopHScrollUnit/scrollItemBeforeXout",HSCROLL_ITEM_UNHIDE_EVENT:"DesktopHScrollUnit/unhideIndividualItem",HSCROLL_LAST_ITEM_NFX_ACTION_TAKEN:"logLastAdXout",HSCROLL_PAGER_ITEM_HIDE_EVENT:"onXoutIndividualItem"}}),null);
__d("TooltipMixin",["React","ReactDOM","TooltipData","DOM"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes;function i(k){var l=k.tooltip;return l!=null&&c("React").isValidElement(l)}var j={propTypes:{tooltip:h.oneOfType([h.element,h.string]),position:h.oneOf(["above","below","left","right"]),alignH:h.oneOf(["left","center","right"])},getInitialState:function k(){return{tooltipContainer:i(this.props)?c("DOM").create("div"):null}},componentWillReceiveProps:function k(l){var m=i(l),n=this.state.tooltipContainer;if(n&&!m)this.setState({tooltipContainer:null});else if(!n&&m)this.setState({tooltipContainer:c("DOM").create("div")})},componentDidMount:function k(){this._updateTooltip()},componentDidUpdate:function k(l,m){if(m.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(m.tooltipContainer);this._updateTooltip()},_updateTooltip:function k(){var l;if(i(this.props)){l=this.state.tooltipContainer;c("ReactDOM").render(this.props.tooltip,l)}else l=this.props.tooltip;if(l!=null)c("TooltipData").set(c("ReactDOM").findDOMNode(this),l,this.props.position,this.props.alignH);else c("TooltipData").remove(c("ReactDOM").findDOMNode(this))},componentWillUnmount:function k(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);c("TooltipData").remove(c("ReactDOM").findDOMNode(this))},_cleanupContainer:function k(l){c("ReactDOM").unmountComponentAtNode(l)}};f.exports=j}),null);
__d("Tooltip.react",["React","TooltipMixin"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=c("React").createClass({displayName:"Tooltip",propTypes:{display:h.oneOf(["inline","block"])},getDefaultProps:function j(){return{display:"inline"}},mixins:[c("TooltipMixin")],render:function j(){if(this.props.display==="block")return c("React").createElement("div",this.props,this.props.children);return c("React").createElement("span",this.props,this.props.children)}});f.exports=i}),null);
__d("Rect",["invariant","Vector","$"],(function a(b,c,d,e,f,g,h){function i(j,k,l,m,n){"use strict";if(arguments.length===1){if(j instanceof i)return j;if(j instanceof c("Vector"))return new i(j.y,j.x,j.y,j.x,j.domain);return i.getElementBounds(c("$")(j))}typeof j==="number"&&typeof k==="number"&&typeof l==="number"&&typeof m==="number"&&(!n||typeof n==="string")||h(0);Object.assign(this,{t:j,r:k,b:l,l:m,domain:n||"pure"});return this}i.prototype.w=function(){"use strict";return this.r-this.l};i.prototype.h=function(){"use strict";return this.b-this.t};i.prototype.getWidth=function(){"use strict";return this.w()};i.prototype.getHeight=function(){"use strict";return this.h()};i.prototype.toString=function(){"use strict";return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};i.prototype.contains=function(j){"use strict";j=new i(j).convertTo(this.domain);var k=this;return k.l<=j.l&&k.r>=j.r&&k.t<=j.t&&k.b>=j.b};i.prototype.isEqualTo=function(j){"use strict";return this.t===j.t&&this.r===j.r&&this.b===j.b&&this.l===j.l&&this.domain===j.domain};i.prototype.add=function(j,k){"use strict";if(arguments.length==1){if(j instanceof i&&j.domain!="pure")j=j.convertTo(this.domain);if(j instanceof c("Vector"))return this.add(j.x,j.y);return this}var l=parseFloat(j),m=parseFloat(k);return new i(this.t+m,this.r+l,this.b+m,this.l+l,this.domain)};i.prototype.sub=function(j,k){"use strict";if(arguments.length==1&&j instanceof c("Vector"))return this.add(j.mul(-1));else if(typeof j==="number"&&typeof k==="number")return this.add(-j,-k);return this};i.prototype.rotateAroundOrigin=function(j){"use strict";var k=this.getCenter().rotate(j*Math.PI/2),l=0,m=0;if(j%2){l=this.h();m=this.w()}else{l=this.w();m=this.h()}var n=k.y-m/2,o=k.x-l/2,p=n+m,q=o+l;return new i(n,q,p,o,this.domain)};i.prototype.boundWithin=function(j){"use strict";var k=0,l=0;if(this.l<j.l)k=j.l-this.l;else if(this.r>j.r)k=j.r-this.r;if(this.t<j.t)l=j.t-this.t;else if(this.b>j.b)l=j.b-this.b;return this.add(k,l)};i.prototype.getCenter=function(){"use strict";return new(c("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};i.prototype.getTop=function(){"use strict";return this.t};i.prototype.getRight=function(){"use strict";return this.r};i.prototype.getBottom=function(){"use strict";return this.b};i.prototype.getLeft=function(){"use strict";return this.l};i.prototype.getPositionVector=function(){"use strict";return new(c("Vector"))(this.l,this.t,this.domain)};i.prototype.getDimensionVector=function(){"use strict";return new(c("Vector"))(this.w(),this.h(),"pure")};i.prototype.convertTo=function(j){"use strict";if(this.domain==j)return this;if(j=="pure")return new i(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new i(0,0,0,0);var k=new(c("Vector"))(this.l,this.t,this.domain).convertTo(j);return new i(k.y,k.x+this.w(),k.y+this.h(),k.x,j)};i.deserialize=function(j){"use strict";var k=j.split(":");return new i(parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[0]))};i.newFromVectors=function(j,k){"use strict";return new i(j.y,j.x+k.x,j.y+k.y,j.x,j.domain)};i.getElementBounds=function(j){"use strict";return i.newFromVectors(c("Vector").getElementPosition(j),c("Vector").getElementDimensions(j))};i.getViewportBounds=function(){"use strict";return i.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportDimensions())};i.getViewportWithoutScrollbarsBounds=function(){"use strict";return i.newFromVectors(c("Vector").getScrollPosition(),c("Vector").getViewportWithoutScrollbarDimensions())};i.minimumBoundingBox=function(j){"use strict";var k=new i(Infinity,-Infinity,-Infinity,Infinity),l;for(var m=0;m<j.length;m++){l=j[m];k.t=Math.min(k.t,l.t);k.r=Math.max(k.r,l.r);k.b=Math.max(k.b,l.b);k.l=Math.min(k.l,l.l)}return k};f.exports=i}),null);
__d("getOverlayZIndex",["Style"],(function a(b,c,d,e,f,g){function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(c("Style").get(m,"position")!="static"){var n=parseInt(c("Style").get(m,"z-index"),10);if(!isNaN(n))return n}}return 0}f.exports=h}),null);
__d("ARIA",["DOM","emptyFunction","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){var h,i,j=function m(){h=c("ge")("ariaAssertiveAlert");if(!h){h=c("DOM").create("div",{id:"ariaAssertiveAlert",className:"accessible_elem","aria-live":"assertive"});c("DOM").appendContent(document.body,h)}i=c("ge")("ariaPoliteAlert");if(!i){i=h.cloneNode(false);i.setAttribute("id","ariaPoliteAlert");i.setAttribute("aria-live","polite");c("DOM").appendContent(document.body,i)}j=c("emptyFunction")};function k(m,n){j();var o=n?h:i;c("DOM").setContent(o,m)}var l={controls:function m(n){for(var o=arguments.length,p=Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];var r=p.map(function(s){return c("getOrCreateDOMID")(s)}).join(" ");n.setAttribute("aria-controls",r)},describedBy:function m(n){for(var o=arguments.length,p=Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];var r=p.map(function(s){return c("getOrCreateDOMID")(s)}).join(" ");n.setAttribute("aria-describedby",r)},owns:function m(n,o){n.setAttribute("aria-owns",c("getOrCreateDOMID")(o))},setPopup:function m(n,o){var p=c("getOrCreateDOMID")(o);n.setAttribute("aria-controls",p);n.setAttribute("aria-haspopup","true");var q=n.getAttribute("role")||"";if(q)n.setAttribute("role",q)},announce:function m(n){k(n,true)},notify:function m(n){k(n,false)}};f.exports=l}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function a(b,c,d,e,f,g){var h={register:function i(j,k){j.setAttribute("data-ownerid",c("getOrCreateDOMID")(k))},containsIncludingLayers:function i(j,k){var l=k;while(l){if(c("containsNode")(j,l))return true;l=h.getContext(l)}return false},getContext:function i(j){var k=j,l=void 0;while(k){if(k.getAttribute&&(l=k.getAttribute("data-ownerid")))return c("ge")(l);k=k.parentNode}return null},parentByClass:function i(j,k){var l=j,m=void 0;while(l&&!c("CSS").hasClass(l,k))if(l.getAttribute&&(m=l.getAttribute("data-ownerid")))l=c("ge")(m);else l=l.parentNode;return l}};f.exports=h}),null);
__d("BehaviorsMixin",[],(function a(b,c,d,e,f,g){function h(l){"use strict";this.$InstalledBehavior1=l;this.$InstalledBehavior2=false}h.prototype.enable=function(){"use strict";if(!this.$InstalledBehavior2){this.$InstalledBehavior2=true;this.$InstalledBehavior1.enable()}};h.prototype.disable=function(){"use strict";if(this.$InstalledBehavior2){this.$InstalledBehavior2=false;this.$InstalledBehavior1.disable()}};var i=1;function j(l){if(!l.__BEHAVIOR_ID)l.__BEHAVIOR_ID=i++;return l.__BEHAVIOR_ID}var k={enableBehavior:function l(m){if(!this._behaviors)this._behaviors={};var n=j(m);if(!this._behaviors[n])this._behaviors[n]=new h(new m(this));this._behaviors[n].enable();return this},disableBehavior:function l(m){if(this._behaviors){var n=j(m);if(this._behaviors[n])this._behaviors[n].disable()}return this},enableBehaviors:function l(m){m.forEach(this.enableBehavior,this);return this},destroyBehaviors:function l(){if(this._behaviors){for(var m in this._behaviors)this._behaviors[m].disable();this._behaviors={}}},hasBehavior:function l(m){return this._behaviors&&j(m)in this._behaviors}};f.exports=k}),null);
__d("isValidReactElement",[],(function a(b,c,d,e,f,g){var h=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function i(j){return!!(typeof j==="object"&&j!==null&&j.$$typeof===h)}f.exports=i}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function a(b,c,d,e,f,g){var h=function h(j){c("Bootloader").loadModules(["ReactDOM"],j,"BootloadedReact")},i={isValidElement:function j(k){return c("isValidReactElement")(k)},render:function j(k,l,m){h(function(n){n.render(k,l,function(){m&&m(this)})})},unmountComponentAtNode:function j(k,l){h(function(m){m.unmountComponentAtNode(k);l&&l()})}};f.exports=i}),null);
__d("Layer",["KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function a(b,c,d,e,f,g){var h,i;c("KeyStatus");var j=[];h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));i=h&&h.prototype;function k(n,o){"use strict";i.constructor.call(this);this._config=n||{};if(o){this._configure(this._config,o);var p=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(p))}}k.prototype.init=function(n){"use strict";this._configure(this._config,n);var o=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(o));this._initialized=true;return this};k.prototype._configure=function(n,o){var p,q=this;"use strict";if(o){var r=c("isNode")(o),s=typeof o==="string"||c("HTML").isHTML(o);this.containsReactComponent=c("BootloadedReact").isValidElement(o);if(s)o=c("HTML")(o).getRootNode();else if(this.containsReactComponent){var t;(function(){t=document.createElement("div");var u=true;c("BootloadedReact").render(o,t,function(){this.inform("reactshow");if(!u)this.updatePosition()}.bind(q));u=false;o=q._reactContainer=t})()}}this._root=this._buildWrapper(n,o);if(n.attributes)c("DOM").setAttributes(this._root,n.attributes);if(n.classNames)n.classNames.forEach(c("CSS").addClass.bind(null,this._root));c("CSS").addClass(this._root,"uiLayer");if(n.causalElement)this._causalElement=c("ge")(n.causalElement);if(n.permanent)this._permanent=n.permanent;if(n.isStrictlyControlled)this._isStrictlyControlled=n.isStrictlyControlled;c("DataStore").set(this._root,"layer",this)};k.prototype._getDefaultBehaviors=function(){"use strict";return[]};k.prototype.getCausalElement=function(){"use strict";return this._causalElement};k.prototype.setCausalElement=function(n){"use strict";this._causalElement=n;return this};k.prototype.getInsertParent=function(){"use strict";return this._insertParent||document.body};k.prototype.getRoot=function(){"use strict";return this._root};k.prototype.getContentRoot=function(){"use strict";return this._root};k.prototype._buildWrapper=function(n,o){"use strict";return o};k.prototype.setInsertParent=function(n){"use strict";if(n){if(this._shown&&n!==this.getInsertParent()){c("DOM").appendContent(n,this.getRoot());this.updatePosition()}this._insertParent=n}return this};k.prototype.showAfterDelay=function(n){"use strict";setTimeout(this.show.bind(this),n)};k.prototype.show=function(){"use strict";if(this._shown)return this;var n=this.getRoot();this.inform("beforeshow");c("Style").set(n,"visibility","hidden");c("Style").set(n,"overflow","hidden");c("CSS").show(n);c("DOM").appendContent(this.getInsertParent(),n);if(this.updatePosition()!==false){this._shown=true;this.inform("show");k.inform("show",this);if(!this._permanent)setTimeout(function(){if(this._shown)j.push(this)}.bind(this),0)}else c("CSS").hide(n);c("Style").set(n,"visibility","");c("Style").set(n,"overflow","");c("Style").set(n,"opacity","1");this.inform("aftershow");return this};k.prototype.hide=function(){"use strict";if(this._isStrictlyControlled){this._shown&&this.inform("runhide");return this}return this._hide()};k.prototype._hide=function(){"use strict";if(this._hiding||!this._shown||this.inform("beforehide")===false)return this;this._hiding=true;if(this.inform("starthide")!==false)this.finishHide();return this};k.prototype.conditionShow=function(n){"use strict";return n?this.show():this._hide()};k.prototype.finishHide=function(){"use strict";if(this._shown){if(!this._permanent)c("removeFromArray")(j,this);this._hiding=false;this._shown=false;c("CSS").hide(this.getRoot());this.inform("hide");k.inform("hide",this)}};k.prototype.isShown=function(){"use strict";return this._shown};k.prototype.updatePosition=function(){"use strict";return true};k.prototype.destroy=function(){"use strict";if(this.containsReactComponent)c("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var n=this.getRoot();c("DOM").remove(n);this.destroyBehaviors();this.inform("destroy");k.inform("destroy",this);c("DataStore").remove(n,"layer");this._root=this._causalElement=null};k.init=function(n,o){"use strict";n.init(o)};k.initAndShow=function(n,o){"use strict";n.init(o).show()};k.show=function(n){"use strict";n.show()};k.showAfterDelay=function(n,o){"use strict";n.showAfterDelay(o)};k.getTopmostLayer=function(){"use strict";return j[j.length-1]};Object.assign(k,c("ArbiterMixin"));Object.assign(k.prototype,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null});c("Event").listen(document.documentElement,"keydown",function(event){if(c("KeyEventController").filterEventTargets(event,"keydown"))for(var n=j.length-1;n>=0;n--)if(j[n].inform("key",event)===false)return false},c("Event").Priority.URGENT);var l;c("Event").listen(document.documentElement,"mousedown",function(event){l=event.getTarget()});var m;c("Event").listen(document.documentElement,"mouseup",function(event){m=event.getTarget();c("setImmediate")(function(){l=null;m=null})});c("Event").listen(document.documentElement,"click",function(event){var n=l,o=m;l=null;m=null;var p=j.length;if(!p)return;var q=event.getTarget();if(q!==o||q!==n)return;if(!c("DOM").contains(document.documentElement,q))return;if(!q.offsetWidth)return;if(c("Parent").byClass(q,"generic_dialog"))return;while(p--){var r=j[p],s=r.getContentRoot();if(c("ContextualThing").containsIncludingLayers(s,q))return;if(r.inform("blur",{target:q})===false||r.isShown())return}});f.exports=k}),null);
__d("DOMControl",["DataStore","$"],(function a(b,c,d,e,f,g){function h(i){"use strict";this.root=c("$")(i);this.updating=false;c("DataStore").set(i,"DOMControl",this)}h.prototype.getRoot=function(){"use strict";return this.root};h.prototype.beginUpdate=function(){"use strict";if(this.updating)return false;this.updating=true;return true};h.prototype.endUpdate=function(){"use strict";this.updating=false};h.prototype.update=function(i){"use strict";if(!this.beginUpdate())return this;this.onupdate(i);this.endUpdate()};h.prototype.onupdate=function(i){"use strict"};h.getInstance=function(i){"use strict";return c("DataStore").get(i,"DOMControl")};f.exports=h}),null);
__d("Input",["CSS","DOMQuery","DOMControl"],(function a(b,c,d,e,f,g){var h={isWhiteSpaceOnly:function i(j){return!/\S/.test(j||"")},isEmpty:function i(j){return h.isWhiteSpaceOnly(j.value)},getValue:function i(j){return h.isEmpty(j)?"":j.value},getValueRaw:function i(j){return j.value},setValue:function i(j,k){j.value=k||"";var l=c("DOMControl").getInstance(j);l&&l.resetHeight&&l.resetHeight()},setPlaceholder:function i(j,k){j.setAttribute("aria-label",k);j.setAttribute("placeholder",k)},reset:function i(j){j.value="";j.style.height=""},setSubmitOnEnter:function i(j,k){c("CSS").conditionClass(j,"enter_submit",k)},getSubmitOnEnter:function i(j){return c("CSS").hasClass(j,"enter_submit")},setMaxLength:function i(j,k){if(k>0)j.setAttribute("maxlength",k);else j.removeAttribute("maxlength")}};f.exports=h}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","Input","LSD","Random","PHPQuerySerializer","URI","getElementPosition","isFacebookURI","isNode"],(function a(b,c,d,e,f,g){var h="FileList"in window,i="FormData"in window;function j(l){var m={};c("PHPQuerySerializer").serialize(l).split("&").forEach(function(n){if(n){var o=/^([^=]*)(?:=(.*))?$/.exec(n),p=c("URI").decodeComponent(o[1]),q=o[2]!==undefined,r=q?c("URI").decodeComponent(o[2]):null;m[p]=r}});return m}var k={getInputs:function l(){var m=arguments.length<=0||arguments[0]===undefined?document:arguments[0];return[].concat(c("DOMQuery").scry(m,"input"),c("DOMQuery").scry(m,"select"),c("DOMQuery").scry(m,"textarea"),c("DOMQuery").scry(m,"button"))},getInputsByName:function l(m){var n={};k.getInputs(m).forEach(function(o){var p=n[o.name];n[o.name]=typeof p==="undefined"?o:[o].concat(p)});return n},getSelectValue:function l(m){return m.options[m.selectedIndex].value},setSelectValue:function l(m,n){for(var o=0;o<m.options.length;++o)if(m.options[o].value==n){m.selectedIndex=o;break}},getRadioValue:function l(m){for(var n=0;n<m.length;n++)if(m[n].checked)return m[n].value;return null},getElements:function l(m){return m.tagName=="FORM"&&m.elements!=m?Array.from(m.elements):k.getInputs(m)},getAttribute:function l(m,n){return(m.getAttributeNode(n)||{}).value||null},setDisabled:function l(m,n){k.getElements(m).forEach(function(o){if(o.disabled!==undefined){var p=c("DataStore").get(o,"origDisabledState");if(n){if(p===undefined)c("DataStore").set(o,"origDisabledState",o.disabled);o.disabled=n}else if(p===false)o.disabled=false}})},forEachValue:function l(m,n,o){k.getElements(m).forEach(function(p){if(!p.name||p.disabled)return;if(p.type==="submit")return;if(p.type==="reset"||p.type==="button"||p.type==="image")return;if((p.type==="radio"||p.type==="checkbox")&&!p.checked)return;if(p.nodeName==="SELECT"){for(var q=0,r=p.options.length;q<r;q++){var s=p.options[q];if(s.selected)o("select",p.name,s.value)}return}if(p.type==="file"){if(h){var t=p.files;for(var u=0;u<t.length;u++)o("file",p.name,t.item(u))}return}o(p.type,p.name,c("Input").getValue(p))});if(n&&n.name&&n.type==="submit"&&c("DOMQuery").contains(m,n)&&c("DOMQuery").isNodeOfType(n,["input","button"]))o("submit",n.name,n.value)},createFormData:function l(m,n){if(!i)return null;var o=new FormData();if(m)if(c("isNode")(m))k.forEachValue(m,n,function(r,q,s){o.append(q,s)});else{var p=j(m);for(var q in p)if(p[q]==null)o.append(q,"");else o.append(q,p[q])}return o},serialize:function l(m,n){var o={};k.forEachValue(m,n,function(p,q,r){if(p==="file")return;k._serializeHelper(o,q,r)});return k._serializeFix(o)},_serializeHelper:function l(m,n,o){var p=Object.prototype.hasOwnProperty,q=/([^\]]+)\[([^\]]*)\](.*)/.exec(n);if(q){if(!m[q[1]]||!p.call(m,q[1])){var r;m[q[1]]=r={};if(m[q[1]]!==r)return}var s=0;if(q[2]==="")while(m[q[1]][s]!==undefined)s++;else s=q[2];if(q[3]==="")m[q[1]][s]=o;else k._serializeHelper(m[q[1]],s.concat(q[3]),o)}else m[n]=o},_serializeFix:function l(m){for(var n in m)if(m[n]instanceof Object)m[n]=k._serializeFix(m[n]);var o=Object.keys(m);if(o.length===0||o.some(isNaN))return m;o.sort(function(r,s){return r-s});var p=0,q=o.every(function(n){return+n===p++});if(q)return o.map(function(n){return m[n]});return m},post:function l(m,n,o){var p=arguments.length<=3||arguments[3]===undefined?true:arguments[3],q=new(c("URI"))(m),r=document.createElement("form");r.action=q.toString();r.method="POST";r.style.display="none";var s=!c("isFacebookURI")(q);if(o){if(s){r.rel="noopener";if(o==="_blank"){o=btoa(c("Random").uint32());var t=window.open("about:blank",o);if(!(t===undefined))t.opener=null}}r.target=o}if(p)if(!s&&q.getSubdomain()!=="apps"){n.fb_dtsg=c("DTSG").getToken();if(c("LSD").token)n.lsd=c("LSD").token}k.createHiddenInputs(n,r);c("DOMQuery").getRootElement().appendChild(r);r.submit();return false},createHiddenInputs:function l(m,n,o){var p=arguments.length<=3||arguments[3]===undefined?false:arguments[3];o=o||{};var q=j(m);for(var r in q){if(q[r]===null)continue;if(o[r]&&p)o[r].value=q[r];else{var s=c("DOM").create("input",{type:"hidden",name:r,value:q[r]});o[r]=s;n.appendChild(s)}}return o},getFirstElement:function l(m){var n=arguments.length<=1||arguments[1]===undefined?['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']:arguments[1],o=[];for(var p=0;p<n.length;p++){o=c("DOMQuery").scry(m,n[p]);for(var q=0;q<o.length;q++){var r=o[q];try{var s=c("getElementPosition")(r);if(s.y>0&&s.x>0)return r}catch(t){}}}return null},focusFirst:function l(m){var n=k.getFirstElement(m);if(n){n.focus();return true}return false}};f.exports=k}),null);
__d("LinkController",["DataStore","Event","Parent","trackReferrer"],(function a(b,c,d,e,f,g){var h="@@LinkController",i=[],j=[],k={registerHandler:function q(r){i.push(r)},registerFallbackHandler:function q(r){j.push(r)}};function l(q){var r=q.getTarget(),s=c("Parent").byTag(r,"a");if(!(s instanceof HTMLAnchorElement))return;var t=n(s);if(!t||p(r)||c("DataStore").get(s,h)||t.endsWith("#"))return;var u=c("Event").listen(s,"click",function(v){c("trackReferrer")(s,t);if(!s.rel&&!s.target&&!o(v))m(s,v)});c("DataStore").set(s,h,u)}function m(q,event){i.concat(j).every(function(r){if(r(q,event)===false){event.prevent();return false}return true})}function n(q){if(q&&!q.rel){var r=q.getAttribute("href");if(r){var s=r.match(/^(\w+):/);if(!s||s[1].match(/^http/i))return r}}return null}function o(event){return event.getModifiers().any||event.which&&event.which!==1}function p(q){return q.nodeName==="INPUT"&&q.type==="file"}c("Event").listen(document.documentElement,"mousedown",l);c("Event").listen(document.documentElement,"keydown",l);f.exports=k}),null);
__d("PageTransitionPriorities",[],(function a(b,c,d,e,f,g){var h=5,i=h+1;f.exports={DEFAULT:h,LEFT_NAV:i,SOCIAL_SEARCH_DIALOG:i+1}}),null);
__d("computeRelativeURI",["URI","isFacebookURI","isEmpty"],(function a(b,c,d,e,f,g){function h(j,k){if(!k)return j;if(k.charAt(0)=="/")return k;var l=j.split("/").slice(0,-1);l[0]!=="";k.split("/").forEach(function(m){if(!(m==="."))if(m===".."){if(l.length>1)l=l.slice(0,-1)}else l.push(m)});return l.join("/")}function i(j,k){var l=new(c("URI"))(),m=new(c("URI"))(j),n=new(c("URI"))(k);if(n.getDomain()&&!c("isFacebookURI")(n))return k;var o=m,p=["Protocol","Domain","Port","Path","QueryData","Fragment"];p.forEach(function(q){var r=q==="Path"&&o===m;if(r)l.setPath(h(m.getPath(),n.getPath()));if(!c("isEmpty")(n["get"+q]()))o=n;if(!r)l["set"+q](o["get"+q]())});return l}f.exports=i}),null);
__d("PageTransitionsRegistrar",["invariant","Bootloader","DOMQuery","Event","Form","LinkController","PageTransitionPriorities","Parent","Run","URI","computeRelativeURI","goURI","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h){c("Run").onAfterLoad(function(){c("Bootloader").loadModules(["PageTransitions"],function(r){if(r&&r._init)r._init()},"PageTransitionsRegistrar")});var i=[],j=[],k={DELAY_HISTORY:"delay_history_PTR",registerHandler:function r(s,t){s!=null||h(0);t=t||c("PageTransitionPriorities").DEFAULT;if(!i[t])i[t]=[];i[t].push(s)},removeHandler:function r(s,t){t=t||c("PageTransitionPriorities").DEFAULT;var u=-1;if(i[t])u=i[t].indexOf(s);if(u>-1)i[t].splice(u,1)},registerCompletionCallback:function r(s){j.push(s)},getMostRecentURI:q,_getTransitionHandlers:function r(){return i},_getCompletionCallbacks:function r(){return j},_resetCompletionCallbacks:function r(){j=[]},__onClick:n,__onSubmit:p},l=null;function m(r){l=r;c("setTimeoutAcrossTransitions")(function(){l=null},0)}function n(event){if(l){if(!event.isDefaultPrevented()){o(l);c("goURI")(l.getAttribute("href"))}event.kill()}}function o(r){var s=r.getAttribute("href"),t=c("computeRelativeURI")(q().getQualifiedURI(),s).toString();if(s!=t)r.setAttribute("href",t)}function p(event,r){var s=event.getTarget();if(c("Form").getAttribute(s,"rel")||c("Form").getAttribute(s,"target"))return;var t=new(c("URI"))(c("Form").getAttribute(s,"action")),u=c("computeRelativeURI")(q(),t);s.setAttribute("action",u.toString());if((c("Form").getAttribute(s,"method")||"GET").toUpperCase()=="GET"){var v=c("Form").serialize(s);if(r&&(c("DOMQuery").isNodeOfType(r,"input")&&r.type==="submit"||(r=c("Parent").byTag(r,"button")))&&r.name)v[r.name]=r.value;c("goURI")(u.addQueryData(v));event.kill()}}c("LinkController").registerFallbackHandler(m);function q(){if(b.PageTransitions&&b.PageTransitions.isInitialized())return b.PageTransitions.getMostRecentURI();else{var r=c("URI").getRequestURI(false),s=r.getUnqualifiedURI(),t=new(c("URI"))(s).setFragment(null),u=s.getFragment();if(u.charAt(0)==="!"&&t.toString()===u.substr(1))s=t;return s}}f.exports=k}),null);
__d("LayerHideOnTransition",["PageTransitionsRegistrar","setTimeout"],(function a(b,c,d,e,f,g){function h(i){"use strict";this._handler=function(j){var k=!this.isTransitionRelevant||this.isTransitionRelevant(j);if(this._enabled&&k)this._layer.hide();this._subscribe()}.bind(this);this._layer=i}h.prototype.enable=function(){"use strict";this._enabled=true;if(!this._subscribed)c("setTimeout")(this._subscribe.bind(this),0)};h.prototype.disable=function(){"use strict";this._enabled=false;c("PageTransitionsRegistrar").removeHandler(this._handler)};h.prototype._subscribe=function(){"use strict";c("PageTransitionsRegistrar").registerHandler(this._handler);this._subscribed=true};Object.assign(h.prototype,{_enabled:false,_subscribed:false});f.exports=h}),null);
__d("SVGChecker",[],(function a(b,c,d,e,f,g){f.exports={isSVG:function h(i){return!!i.ownerSVGElement||i.tagName.toLowerCase()==="svg"},isDisplayed:function h(i){try{var j=i.getBBox();if(j&&(j.height===0||j.width===0))return false}catch(k){return false}return true}}}),null);
__d("getOwnObjectValues",[],(function a(b,c,d,e,f,g){function h(i){return Object.keys(i).map(function(j){return i[j]})}f.exports=h}),null);
__d("ContextualLayer",["Arbiter","ARIA","Bootloader","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","containsNode","emptyFunction","getOwnObjectValues","getOffsetParent","getOverlayZIndex","isElementNode","removeFromArray","throttle"],(function a(b,c,d,e,f,g){var h,i;function j(p){return p.getPosition()==="left"||p.isVertical()&&p.getAlignment()==="right"}h=babelHelpers.inherits(k,c("Layer"));i=h&&h.prototype;k.prototype._configure=function(p,q){"use strict";if(p.dialogRole!=="dialog")this._dialogRole=p.dialogRole;if(p.shouldSetARIAProperties===false)this._shouldSetARIAProperties=p.shouldSetARIAProperties;if(p.label)this._label=p.label;if(p.labelledBy)this._labelledBy=p.labelledBy;i._configure.call(this,p,q);if(p.context)this.setContext(p.context);else if(p.contextID)this._setContextID(p.contextID);else if(p.contextSelector){this._setContextSelector(p.contextSelector);this._setARIAProperties()}this.setPosition(p.position);this.setAlignment(p.alignment);this.setOffsetX(p.offsetX);this.setOffsetY(p.offsetY);this.setArrowDimensions(p.arrowDimensions);this._content=q};k.prototype._getDefaultBehaviors=function(){"use strict";var p=k.getDefaultBehaviorsAsObject();return i._getDefaultBehaviors.call(this).concat(c("getOwnObjectValues")(p))};k.prototype._buildWrapper=function(p,q){"use strict";this._contentWrapper=c("DOM").create("div",{className:"uiContextualLayer"},q);if(this._dialogRole)this._contentWrapper.setAttribute("role",this._dialogRole);if(this._labelledBy&&this._labelledBy.length)this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy.join(" "));else if(this._label)this._contentWrapper.setAttribute("aria-label",this._label);if(this._dialogRole==="alert")this._contentWrapper.setAttribute("aria-atomic","true");return c("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":p["data-testid"]},this._contentWrapper)};k.prototype.getInsertParent=function(){"use strict";var p=this._insertParent;if(!p){var q=this.getContext();if(q)p=c("Parent").byClass(q,"uiContextualLayerParent")}return p||i.getInsertParent.call(this)};k.prototype.setContent=function(p){"use strict";this._content=p;c("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};k.prototype.setContext=function(p){"use strict";return this.setContextWithBounds(p,null)};k.prototype.setContextWithBounds=function(p,q){"use strict";if(this._contextNode===p&&q&&this._contextBounds&&q.isEqualTo(this._contextBounds))return this;this._contextNode=p;var r=q&&this._contextBounds&&q.t===this._contextBounds.t&&q.r===this._contextBounds.r&&q.b===this._contextBounds.b&&q.l===this._contextBounds.l;if(r)return this;this._contextBounds=q||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){c("ContextualThing").register(this.getRoot(),this._contextNode);this.updatePosition()}this._setParentSubscription();this._setARIAProperties();return this};k.prototype.shouldSetARIAProperties=function(p){"use strict";this._shouldSetARIAProperties=p;return this};k.prototype._setARIAProperties=function(){"use strict";if(!this._shouldSetARIAProperties)return this;if(this._dialogRole==="dialog")c("ARIA").setPopup(this.getCausalElement(),this.getRoot());else if(this._dialogRole==="region")c("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(p){if(!this.hasBehavior(p))this.enableBehavior(p)}.bind(this),"ContextualLayer");return this};k.prototype._setContextID=function(p){"use strict";this._contextSelector="#"+p;this._contextNode=null};k.prototype._setContextSelector=function(p){"use strict";this._contextSelector=p;this._contextNode=null};k.prototype.getCausalElement=function(){"use strict";return i.getCausalElement.call(this)||this.getContext()};k.prototype._setParentSubscription=function(){"use strict";var p=this.getContext(),q=null;while(p!=null){q=c("DataStore").get(p,"layer");if(q)break;p=p.parentNode}if(q===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null}if(q)this._parentSubscription=q.subscribe("hide",this.hide.bind(this));this._parentLayer=q};k.prototype.setPosition=function(p){"use strict";if(this.getOrientation().setDefaultPosition(p))this._shown&&this.updatePosition();return this};k.prototype.setAlignment=function(p){"use strict";if(this.getOrientation().setDefaultAlignment(p))this._shown&&this.updatePosition();return this};k.prototype.setOffsetX=function(p){"use strict";if(this.getOrientation().setDefaultOffsetX(p))this._shown&&this.updatePosition();return this};k.prototype.setArrowDimensions=function(p){"use strict";if(p&&this.getOrientation().setArrowOffset(p.offset))this._shown&&this.updatePosition();return this};k.prototype.setOffsetY=function(p){"use strict";if(this.getOrientation().setDefaultOffsetY(p))this._shown&&this.updatePosition();return this};k.prototype.getPosition=function(){"use strict";return this.getOrientation().getPosition()};k.prototype.getOrientation=function(){"use strict";if(!this._orientation)this._orientation=new o();return this._orientation};k.prototype.getContentRoot=function(){"use strict";return this._contentWrapper};k.prototype.getContent=function(){"use strict";return this._content};k.prototype.getContext=function(){"use strict";if(!this._contextNode)this._contextNode=c("DOM").find(document,this._contextSelector);return this._contextNode};k.prototype.getContextBounds=function(p){"use strict";if(this._contextBounds)return this._contextBounds.convertTo(p);var q=this.getContext();return c("Rect").newFromVectors(c("Vector").getElementPosition(q,p),c("Vector").getElementDimensions(q))};k.prototype.getContextScrollParent=function(){"use strict";if(!this._contextScrollParent)this._contextScrollParent=c("Style").getScrollParent(this.getContext());else if(c("isElementNode")(this._contextScrollParent)&&!c("containsNode")(document.documentElement,this._contextScrollParent))this._contextScrollParent=c("Style").getScrollParent(this.getContext());return this._contextScrollParent};k.prototype.setInsertParent=function(p){"use strict";this._insertScrollParent=null;return i.setInsertParent.call(this,p)};k.prototype.getInsertScrollParent=function(){"use strict";if(!this._insertScrollParent)this._insertScrollParent=c("Style").getScrollParent(this.getInsertParent());return this._insertScrollParent};k.prototype.show=function(){"use strict";if(this._shown)return this;i.show.call(this);c("Arbiter").inform("contextualLayer/toggle",{show:true,contentRoot:this.getRoot()});if(this._shown){c("ContextualThing").register(this.getRoot(),this.getContext());l.push(this);this._resizeListener=this._resizeListener||c("Event").listen(window,"resize",c("throttle")(function(){if(this._shown)this.updatePosition()}.bind(this)))}return this};k.prototype.finishHide=function(){"use strict";c("removeFromArray")(l,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;c("Arbiter").inform("contextualLayer/toggle",{show:false,contentRoot:this.getRoot()});return i.finishHide.call(this)};k.prototype.isFixed=function(){"use strict";return c("Style").isFixed(this.getContext())&&!c("Style").isFixed(this.getInsertParent())};k.prototype.updatePosition=function(){"use strict";var p=this.getContext();if(!p)return false;var q=this.isFixed();if(!q&&!(p.offsetParent||c("SVGChecker").isSVG(p)&&c("SVGChecker").isDisplayed(p)))return false;var r=this.getRoot();c("Style").set(r,"width",c("Vector").getViewportDimensions().x+"px");var s=this.getOrientation();this.inform("adjust",s.reset());if(!s.isValid())return false;this._updateWrapperPosition(s);this._updateWrapperClass(s);c("CSS").conditionClass(r,"uiContextualLayerPositionerFixed",q);var t,u,v=q?"viewport":"document",w=q?document.documentElement:c("getOffsetParent")(r);if(w===document.documentElement){t=new(c("Vector"))(0,0);u=document.documentElement.clientWidth}else if(!r.offsetParent)return false;else{t=c("Vector").getElementPosition(w,v);u=w.offsetWidth;if(w!==document.body)t=t.sub(new(c("Vector"))(c("Scroll").getLeft(w),c("Scroll").getTop(w)))}var x=this.getContextBounds(v),y=x.l-t.x,z=x.t-t.y,A=x.h(),B=x.w(),C=c("Locale").isRTL();if(s.getPosition()==="below")z+=A;if((s.getPosition()==="right"||s.isVertical()&&s.getAlignment()==="right")!=C)y+=B;var D=s.getOffsetX();if(s.isVertical()&&s.getAlignment()==="center")D+=(B-this.getContentRoot().offsetWidth)/2;if(C)D*=-1;var E="left",F=Math.floor(y+D);if(j(s)!==C){E="right";F=u-F}c("Style").set(r,E,F+"px");c("Style").set(r,E==="left"?"right":"left","");var G=this.getInsertScrollParent(),H,I=0;if(G!==window){H=G.clientWidth;I=c("Vector").getElementPosition(G).x}else H=document.documentElement.clientWidth;var J=c("Vector").getElementPosition(r).x-I;if(E==="left"&&H-J>0)c("Style").set(r,"width",H-J+"px");else if(E==="right"&&J+r.offsetWidth>0)c("Style").set(r,"width",J+r.offsetWidth+"px");else c("Style").set(r,"width","");c("Style").set(r,"top",z+s.getOffsetY()+"px");var K=c("getOverlayZIndex")(p,this.getInsertParent());c("Style").set(r,"z-index",K>200?K:"");this.inform("reposition",s);return true};k.prototype._updateWrapperPosition=function(p){"use strict";var q=p.getPosition()==="above";c("Style").set(this._contentWrapper,"bottom",q?"0":null);var r=c("Locale").isRTL()?"left":"right",s=j(p);c("Style").set(this._contentWrapper,r,s?"0":null)};k.prototype._updateWrapperClass=function(p){"use strict";var q=p.getClassName();if(q===this._orientationClass)return;if(this._orientationClass)c("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=q;c("CSS").addClass(this._contentWrapper,q)};k.prototype.simulateOrientation=function(p,q){"use strict";var r=p.getClassName();if(r===this._orientationClass)return q();else{if(this._orientationClass)c("CSS").removeClass(this._contentWrapper,this._orientationClass);c("CSS").addClass(this._contentWrapper,r);var s=q();c("CSS").removeClass(this._contentWrapper,r);if(this._orientationClass)c("CSS").addClass(this._contentWrapper,this._orientationClass);return s}};k.prototype.destroy=function(){"use strict";i.destroy.call(this);this._contentWrapper=null;this._content=null;return this};k.prototype.getArrowDimensions=function(){"use strict";return this._config.arrowDimensions||{offset:0,length:0}};k.getDefaultBehaviorsAsObject=function(){"use strict";return{LayerHideOnTransition:c("LayerHideOnTransition")}};function k(){"use strict";h.apply(this,arguments)}var l=[];c("Arbiter").subscribe("reflow",function(){l.forEach(function(p){if(p.updatePosition()===false)p.hide()})});Object.assign(k.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var m=c("emptyFunction").thatReturnsArgument,n=c("emptyFunction").thatReturnsArgument;function o(){"use strict";this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:true,_preferMoreContentShownRect:false};this.reset()}o.prototype.setPosition=function(p){"use strict";this._position=m(p);return this};o.prototype.setAlignment=function(p){"use strict";this._alignment=n(p);return this};o.prototype.getOppositePosition=function(){"use strict";return o.OPPOSITE[this.getPosition()]};o.prototype.invalidate=function(){"use strict";this._valid=false;return this};o.prototype.getPosition=function(){"use strict";return this._position||"above"};o.prototype.getAlignment=function(){"use strict";return this._alignment||"left"};o.prototype.getOffsetX=function(){"use strict";var p=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)p*=-1}else if(this._default._alignment!==this._alignment)p*=-1;return p};o.prototype.getOffsetY=function(){"use strict";var p=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)p*=-1;return p};o.prototype.getClassName=function(){"use strict";var p=this.getAlignment(),q=this.getPosition();if(q==="below")if(p==="left")return"uiContextualLayerBelowLeft";else if(p==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(q==="above")if(p==="left")return"uiContextualLayerAboveLeft";else if(p==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(q==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};o.prototype.isValid=function(){"use strict";return this._valid};o.prototype.isVertical=function(){"use strict";return this.getPosition()==="above"||this.getPosition()==="below"};o.prototype.reset=function(){"use strict";Object.assign(this,this._default);return this};o.prototype.setDefaultPosition=function(p){"use strict";var q=this._default._position;this._default._position=m(p);return q!==p};o.prototype.setDefaultAlignment=function(p){"use strict";var q=this._default._alignment;this._default._alignment=n(p);return q!==p};o.prototype.setDefaultOffsetX=function(p){"use strict";var q=this._default._offsetX;this._default._offsetX=p;return q!==p};o.prototype.setArrowOffset=function(p){"use strict";var q=this._default._arrowOffset;this._default._arrowOffset=p;return q!==p};o.prototype.getArrowOffset=function(){"use strict";return this._default._arrowOffset||0};o.prototype.setDefaultOffsetY=function(p){"use strict";var q=this._default._offsetY;this._default._offsetY=p;return q!==p};o.prototype.setPreferMoreContentShownRect=function(p){"use strict";var q=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=p;return q!==p};o.prototype.getPreferMoreContentShownRect=function(){"use strict";return this._default._preferMoreContentShownRect};o.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};f.exports=k}),null);
__d("TabbableElements",["Style"],(function a(b,c,d,e,f,g){function h(k){if(k.tabIndex<0)return false;if(k.tabIndex>0||k.tabIndex===0&&k.getAttribute("tabIndex")!==null)return true;var l=k;switch(k.tagName){case"A":var m=l;return!!m.href&&m.rel!="ignore";case"INPUT":var n=l;return n.type!="hidden"&&n.type!="file"&&!n.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":var o=l;return!o.disabled}return false}function i(k){var l=k;while(l&&l!==document&&c("Style").get(l,"visibility")!="hidden"&&c("Style").get(l,"display")!="none")l=l.parentNode;return l===document}var j={find:function k(l){return Array.from(l.getElementsByTagName("*")).filter(j.isTabbable)},findFirst:function k(l){return Array.from(l.getElementsByTagName("*")).find(j.isTabbable)},isTabbable:function k(l){return h(l)&&i(l)},isVisible:function k(l){return i(l)}};f.exports=j}),null);
__d("focusWithinLayer",["DOMQuery","Focus","TabbableElements","getActiveElement"],(function a(b,c,d,e,f,g){function h(i,j){var k=c("DOMQuery").scry(i,".autofocus")[0],l=true;if(!k){var m=c("getActiveElement")();if(c("DOMQuery").isNodeOfType(m,["input","textarea"]))return;var n=c("TabbableElements").find(i);for(var o=0;o<n.length;o++){var p=n[o];if(p.tagName!=="A"||p.getAttribute("role")==="button"){k=n[o];break}}}else if(k.tabIndex!==0)l=false;if(k)l?c("Focus").set(k,j):c("Focus").setWithoutOutline(k);else if(!i.offsetWidth){i.tabIndex=-1;c("Focus").setWithoutOutline(i)}}f.exports=h}),null);
__d("LayerAutoFocus",["focusWithinLayer"],(function a(b,c,d,e,f,g){function h(i){"use strict";this._layer=i;this._subscription=null}h.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe("aftershow",this._focus.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._focus=function(){"use strict";var i=this._layer.getRoot();i&&c("focusWithinLayer")(i)};f.exports=h}),null);
__d("LayerHideOnBlur",["requestAnimationFrame"],(function a(b,c,d,e,f,g){function h(i){"use strict";this._layer=i}h.prototype.enable=function(){"use strict";this._subscriptions=[this._layer.subscribe("show",this._attach.bind(this)),this._layer.subscribe("hide",this._detach.bind(this))];if(this._layer.isShown())this._attach()};h.prototype.disable=function(){"use strict";this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null};h.prototype._detach=function(){"use strict";this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null};h.prototype._attach=function(){"use strict";this._onBlur=this._layer.subscribe("blur",function(){return c("requestAnimationFrame")(function(){this._layer.hide();return false}.bind(this))}.bind(this))};Object.assign(h.prototype,{_subscriptions:null,_onBlur:null});f.exports=h}),null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","ContextualDialogKeepInViewport","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","ReactDOM"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i={createSpec:function j(k){return{displayName:k.displayName,propTypes:{position:h.oneOf(["above","below","left","right"]),alignment:h.oneOf(["left","center","right"]),offsetX:h.number,offsetY:h.number,width:h.number,autoFocus:h.bool,focusContextOnHide:h.bool,arrowBehavior:h.func,behaviors:h.object,shown:h.bool,context:h.object,contextRef:h.func,dialogRole:h.oneOf(["dialog","region","alert"]),hoverContext:h.object,hoverContextRef:h.func,hoverShowDelay:h.number,hoverHideDelay:h.number,hideOnBlur:h.bool,hideOnEscape:h.bool,insertParent:h.object,keepInViewport:h.bool,label:h.string,labelledBy:h.arrayOf(h.string),onBeforeHide:h.func,onToggle:h.func,hasActionableContext:h.bool,"data-testid":h.string},immutableProps:{modal:null},createLayer:function l(m){var n=this.props.context||c("ReactDOM").findDOMNode(this.props.contextRef()),o=this.props.hoverContext||this.props.hoverContextRef&&c("ReactDOM").findDOMNode(this.props.hoverContextRef()),p=babelHelpers["extends"]({context:n,hoverContext:o,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,dialogRole:this.props.dialogRole,label:this.props.label,labelledBy:this.props.labelledBy,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||c("ContextualDialogArrow"),addedBehaviors:this.enumerateBehaviors(this.props.behaviors),"data-testid":this.props["data-testid"]},k||{}),q=new(c("ContextualDialog"))(p,m);if(this.props.contextBounds)q.setContextWithBounds(n,this.props.contextBounds);if(this.props.autoFocus!==false)q.enableBehavior(c("LayerAutoFocus"));if(this.props.hideOnBlur===true)q.enableBehavior(c("LayerHideOnBlur"));if(this.props.hideOnEscape===true)q.enableBehavior(c("LayerHideOnEscape"));if(this.props.focusContextOnHide===false)q.disableBehavior(c("LayerRefocusOnHide"));if(this.props.keepInViewport===false)q.disableBehavior(c("ContextualDialogKeepInViewport"));if(this.props.onBeforeHide)q.subscribe("beforehide",this.props.onBeforeHide);if(this.props.insertParent)q.setInsertParent(this.props.insertParent);q.conditionShow(this.props.shown);return q},receiveProps:function l(m,n){this.updateBehaviors(n.behaviors,m.behaviors);var o=m.context||m.contextRef&&c("ReactDOM").findDOMNode(m.contextRef());if(o)if(m.contextBounds)this.layer.setContextWithBounds(o,m.contextBounds);else this.layer.setContext(o);if(n.hideOnEscape!==m.hideOnEscape)if(m.hideOnEscape)this.layer.enableBehavior(c("LayerHideOnEscape"));else this.layer.disableBehavior(c("LayerHideOnEscape"));this.layer.setPosition(m.position).setAlignment(m.alignment).setOffsetX(m.offsetX).setOffsetY(m.offsetY).setWidth(m.width).conditionShow(m.shown)}}}};f.exports=i}),null);
__d("LynxGeneration",["Bootloader","LinkshimHandlerConfig","URI","$","emptyFunction"],(function a(b,c,d,e,f,g){function h(k){c("Bootloader").loadModules(["AsyncSignal","XLinkshimLogController"],k||c("emptyFunction"),"LynxGeneration")}function i(k,l){h(function(m,n){var o=n.getURIBuilder().setString("u",k).setString("h",l).getURI();new m(o).send()})}var j={getShimURI:function k(){return new(c("URI"))("/l.php").setDomain(c("LinkshimHandlerConfig").linkshim_host)},getLynxURIProtocol:function k(l){if(c("LinkshimHandlerConfig").always_use_https)return"https";return l.getProtocol()==="http"?"http":"https"},getShimmedHref:function k(l,m){var n=new(c("URI"))(l),o=j.getLynxURIProtocol(n);return j.getShimURI().setQueryData({u:l,h:m}).setProtocol(o).toString()},temporarilySetMetaReferrer:function k(l,m){var n=c("$")("meta_referrer");n.content=c("LinkshimHandlerConfig").switched_meta_referrer_policy;setTimeout(function(){n.content=c("LinkshimHandlerConfig").default_meta_referrer_policy;i(l,m)},100)},loadLogging:h};f.exports=j}),null);
__d("AbstractLink.react",["LynxGeneration","React"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AbstractLink1=function(p){var q=this.props,r=q.href,s=q.shimhash,t=q.useMetaReferrer,u=q.onClick;if(t)c("LynxGeneration").temporarilySetMetaReferrer(r,s||"");u&&u(p)}.bind(this),l}j.prototype.componentDidMount=function(){if(this.props.useMetaReferrer)c("LynxGeneration").loadLogging()};j.prototype.render=function(){var k=this.props,l=k.href,m=k.linkRef,n=k.shimhash,o=k.onClick,p=k.useRedirect,q=k.useMetaReferrer,r=k.nofollow,s=k.noopener,t=k.rel,u=babelHelpers.objectWithoutProperties(k,["href","linkRef","shimhash","onClick","useRedirect","useMetaReferrer","nofollow","noopener","rel"]),v=l,w=t;if(p)v=c("LynxGeneration").getShimmedHref(l,n||"");if(r)w=w?w+" nofollow":"nofollow";if(s)w=w?w+" noopener":"noopener";return c("React").createElement("a",babelHelpers["extends"]({},u,{href:v,rel:w,ref:m,onClick:this.$AbstractLink1}))};f.exports=j}),18);
__d("Link.react",["AbstractLink.react","isFacebookURI","isMessengerDotComURI","isBonfireURI","LinkReactUnsafeHrefConfig","LinkshimHandlerConfig","React","URI"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("LinkReactUnsafeHrefConfig").LinkHrefChecker;function k(p){return c("isFacebookURI")(p)||c("isMessengerDotComURI")(p)||c("isBonfireURI")(p)}function l(p){return p.getDomain().endsWith(".onion")}var m=/^(#|\/\w)/;function n(p){if(m.test(p))return false;var q=new(c("URI"))(p),r=q.getProtocol();return(r==="http"||r==="https")&&!k(q)}h=babelHelpers.inherits(o,c("React").Component);i=h&&h.prototype;o.prototype.render=function(){var p=this.props,q=p.allowunsafehref,r=p.s,s=p.href,t=p.linkRef,u=p.target,v=babelHelpers.objectWithoutProperties(p,["allowunsafehref","s","href","linkRef","target"]),w="#",x=null;if(s instanceof c("URI"))w=s.toString();else if(typeof s==="string"&&s!==""&&s!=="#")w=s;else if(typeof s==="object"&&s!==null){w=s.url.toString();x=s.shimhash?s.shimhash.toString():x}else{w="#";x=null}if(j)j.logIfInvalidProtocol(w,q);if(x==null&&n(w))x=c("LinkshimHandlerConfig").link_react_default_hash;var y=x!=null,z=x!=null,A=false;if(c("LinkshimHandlerConfig").supports_meta_referrer)if(c("LinkshimHandlerConfig").onion_always_shim&&l(new(c("URI"))(w)))z=true;else{if(r)z=false;if(x!=null)A=true}var B=c("LinkshimHandlerConfig").use_rel_no_opener&&x!==null&&u==="_blank";return c("React").createElement(c("AbstractLink.react"),babelHelpers["extends"]({},v,{href:w,linkRef:t,nofollow:y,noopener:B,shimhash:x,target:u,useRedirect:z,useMetaReferrer:A}))};function o(){h.apply(this,arguments)}f.exports=o}),18);
__d("ReactPropTransfererCore",["emptyFunction","joinClasses"],(function a(b,c,d,e,f,g){"use strict";function h(m){return function(n,o,p){if(!Object.prototype.hasOwnProperty.call(n,o))n[o]=p;else n[o]=m(n[o],p)}}var i=h(function(m,n){return Object.assign({},n,m)}),j={children:c("emptyFunction"),className:h(c("joinClasses")),style:i};function k(m,n){for(var o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;var p=j[o];if(p&&Object.prototype.hasOwnProperty.call(j,o))p(m,o,n[o]);else if(!Object.prototype.hasOwnProperty.call(m,o))m[o]=n[o]}return m}var l={mergeProps:function m(n,o){return k(Object.assign({},n),o)}};f.exports=l}),null);
__d("ReactPropTransferer",["ReactPropTransfererCore"],(function a(b,c,d,e,f,g){f.exports=c("ReactPropTransfererCore")}),null);
__d("cloneWithProps_DEPRECATED",["React","ReactPropTransferer","warning"],(function a(b,c,d,e,f,g){"use strict";var h="children",i=false;function j(k,l){var m=c("ReactPropTransferer").mergeProps(l,k.props);if(!Object.prototype.hasOwnProperty.call(m,h)&&Object.prototype.hasOwnProperty.call(k.props,h))m.children=k.props.children;return c("React").createElement(k.type,m)}f.exports=j}),null);
__d("AbstractButton.react",["cx","Link.react","React","cloneWithProps_DEPRECATED","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").Component,l=c("React").PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.handleLinkClick=function(event){if(this.props.disabled)event.preventDefault();else if(this.props.onClick)this.props.onClick(event)}.bind(this),o}m.prototype.render=function(){"use strict";var n=this.props,o=n.depressed,p=n.disabled,q=n.image,r=n.imageRight,s=n.label,t=n.labelIsHidden,u=babelHelpers.objectWithoutProperties(n,["depressed","disabled","image","imageRight","label","labelIsHidden"]);delete u.shade;var v="_42ft"+(p?" _42fr":"")+(o?" _42fs":""),w=q;if(w){var x={};if(s){x.alt="";if(!t)x.className="_3-8_"}w=c("cloneWithProps_DEPRECATED")(w,x)}var y=r;if(y){var z={};if(s){z.alt="";if(!t)z.className="_3-99"}y=c("cloneWithProps_DEPRECATED")(y,z)}if(this.props.href){var A=this.props,B=A.disabled,C=A.role,D=B&&C==="button";return c("React").createElement(c("Link.react"),babelHelpers["extends"]({},u,{"aria-disabled":D?true:undefined,className:c("joinClasses")(this.props.className,v),onClick:this.handleLinkClick,tabIndex:B?-1:this.props.tabIndex}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y)}else if(this.props.type&&this.props.type!=="submit")return c("React").createElement("button",babelHelpers["extends"]({},u,{className:c("joinClasses")(this.props.className,v),disabled:p,type:this.props.type}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y);else return c("React").createElement("button",babelHelpers["extends"]({},u,{className:c("joinClasses")(this.props.className,v),disabled:p,type:"submit",value:"1"}),w,t?c("React").createElement("span",{className:"accessible_elem"},s):s,y)};m.propTypes={image:l.element,imageRight:l.element,depressed:l.bool,label:l.node,onClick:l.func,labelIsHidden:l.bool};m.defaultProps={disabled:false,depressed:false,labelIsHidden:false};f.exports=m}),null);
__d("XUIAbstractGlyphButton.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,"_5upp"),label:this.props.label}))};function k(){i.apply(this,arguments)}k.propTypes=c("AbstractButton.react").propTypes;f.exports=k}),null);
__d("XUICloseButton.react",["cx","fbt","XUIAbstractGlyphButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";var n=this.props.size,o=this.props.shade,p="_50zy"+(n==="small"?" _50zz":"")+(n==="medium"?" _50-0":"")+(o==="light"?" _50z_":"")+(o==="dark"?" _50z-":""),q=this.props.label,r=this.props.title;if(!this.props.title&&!this.props.tooltip)r=q;return c("React").createElement(c("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:q,title:r,type:this.props.href?undefined:this.props.type,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:c("joinClasses")(this.props.className,p)}))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={shade:l.oneOf(["light","dark"]),size:l.oneOf(["small","medium"]),title:l.string,tooltip:l.string,type:l.oneOf(["submit","button","reset"])};m.defaultProps={label:i._("Remove"),size:"medium",shade:"dark",type:"button"};f.exports=m}),null);
__d("XUIAmbientNUXBody.react",["cx","React","XUICloseButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("joinClasses")("_21es",this.props.className,this.props.noCloseButton?"_izg":null),n=this.props.noCloseButton?null:c("React").createElement(c("XUICloseButton.react"),{shade:"light",className:"_36gl",onClick:this.props.onCloseButtonClick});return c("React").createElement("div",{className:m},n,c("React").createElement("div",{className:"__xn"},this.props.children))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={noCloseButton:k.bool,onCloseButtonClick:k.func};f.exports=l}),null);
__d("XUIAmbientNUX.react",["fbt","React","ReactLayer","ReactAbstractContextualDialog","XUIAmbientNUXTheme","XUIAmbientNUXBody.react","uniqueID"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes,l=300,m=380,n=c("ReactLayer").createClass(c("ReactAbstractContextualDialog").createSpec({displayName:"XUIAmbientNUX",theme:c("XUIAmbientNUXTheme")}));i=babelHelpers.inherits(o,c("React").Component);j=i&&i.prototype;function o(){"use strict";j.constructor.call(this);this.$XUIAmbientNUX2=c("uniqueID")();this.$XUIAmbientNUX1=c("uniqueID")()}o.prototype.$XUIAmbientNUX3=function(){"use strict";switch(this.props.width){case"wide":return m;case"custom":return this.props.customwidth;case"auto":return null;default:return l}};o.prototype.$XUIAmbientNUX4=function(){"use strict";return h._("Learn about this new feature")};o.prototype.render=function(){"use strict";var p=this.props.labelledBy,q=null,r=null;if(!p||!p.length){q=c("React").createElement("div",{"aria-label":this.props.label||this.$XUIAmbientNUX4(),id:this.$XUIAmbientNUX2,key:this.$XUIAmbientNUX2});p=[this.$XUIAmbientNUX2]}var s=h._("Close");r=c("React").createElement("a",{className:"layer_close_elem accessible_elem",href:"#",id:this.$XUIAmbientNUX1,key:this.$XUIAmbientNUX1,"aria-label":s,"aria-labelledby":this.$XUIAmbientNUX1+" "+p.join(" "),role:"button"});return c("React").createElement(n,{alignment:this.props.alignment,autoFocus:false,behaviors:this.props.behaviors,context:this.props.context,contextRef:this.props.contextRef,dialogRole:"region",focusContextOnHide:false,hasActionableContext:this.props.hasActionableContext,insertParent:this.props.insertParent,labelledBy:p,offsetX:this.props.offsetX,offsetY:this.props.offsetY,onBeforeHide:this.props.onBeforeHide,position:this.props.position,shown:this.props.shown,width:this.$XUIAmbientNUX3(this.props)},c("React").createElement(c("XUIAmbientNUXBody.react"),{className:this.props.className,noCloseButton:this.props.noCloseButton,onCloseButtonClick:this.props.onCloseButtonClick},this.props.children,q,r))};o.propTypes={alignment:k.oneOf(["left","center","right"]),behaviors:k.object,className:k.string,context:k.object,contextRef:k.func,customwidth:k.number,hasActionableContext:k.bool,insertParent:k.object,label:k.object,labelledBy:k.arrayOf(k.string),noCloseButton:k.bool,offsetX:k.number,offsetY:k.number,onBeforeHide:k.func,onCloseButtonClick:k.func,position:k.oneOf(["above","below","left","right"]),shown:k.bool,width:k.oneOf(["wide","normal","auto","custom"])};f.exports=o}),null);
__d("XUIText.react",["cx","React","joinClasses"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=this.props,n=m.type,o=m.size,p=m.weight,q=m.display,r=m.headingLevel,s=m.children,t=babelHelpers.objectWithoutProperties(m,["type","size","weight","display","headingLevel","children"]),u=(n==="serif"?"_5s6c":"")+(o==="small"?" _50f3":"")+(o==="medium"?" _50f4":"")+(o==="large"?" _50f5":"")+(o==="xlarge"?" _50f6":"")+(p==="bold"?" _50f7":"")+(p==="normal"?" _5kx5":"");if(r!==undefined)t=babelHelpers["extends"]({},t,{role:"heading","aria-level":""+r});if(q==="block")return c("React").createElement("div",babelHelpers["extends"]({},t,{className:c("joinClasses")(this.props.className,u)}),s);return c("React").createElement("span",babelHelpers["extends"]({},t,{className:c("joinClasses")(this.props.className,u)}),s)};function l(){"use strict";i.apply(this,arguments)}l.propTypes={type:k.oneOf(["serif","inherit"]),size:k.oneOf(["small","medium","large","xlarge","inherit"]),weight:k.oneOf(["bold","inherit","normal"]),display:k.oneOf(["inline","block"]),headingLevel:k.oneOf([1,2,3,4,5,6])};l.defaultProps={type:"inherit",size:"inherit",weight:"inherit",display:"inline"};f.exports=l}),null);
__d("EncryptedImgUtils",[],(function a(b,c,d,e,f,g){var h="ek",i=/^data\:/,j=/\?(ek\=|.*&ek\=)/,k={extractKey:function l(m){var n=m.getQueryData(),o=n[h];delete n[h];m.setQueryData(n);return o},isEncrypted:function l(m){return!i.test(m)&&j.test(m)}};f.exports=k}),null);
__d("warnUnsupportedProp",["warning"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){c("warning")(false,"%s component does not support prop `%s`.%s",i,j,k?" "+k:"")}f.exports=h}),null);
__d("ImageCore.react",["Bootloader","EncryptedImgUtils","React","createCancelableFunction","joinClasses","warnUnsupportedProp"],(function a(b,c,d,e,f,g){var h,i;function j(n){return!!(n&&typeof n==="object"&&n.sprited&&n.spriteMapCssClass&&n.spriteCssClass)}function k(n){if(typeof n==="string")return n;if(n&&typeof n==="object")if(!n.sprited&&n.uri&&typeof n.uri==="string")return n.uri;return""}function l(n,o,p){var q=n[o];if(q==null||j(q)||k(q)!=="")return;return new Error("Provided `"+o+"` to `"+p+"`. Must be `null`, `undefined`, a string or an `ix` call.")}h=babelHelpers.inherits(m,c("React").Component);i=h&&h.prototype;function m(){"use strict";i.constructor.call(this);this.state={src:null};this.encryptedImgCallback=null}m.prototype.$ReactImage1=function(n){"use strict";if(j(n))return;var o=k(n);if(o!=null&&c("EncryptedImgUtils").isEncrypted(o))c("Bootloader").loadModules(["EncryptedImg"],function(p){if(this.encryptedImgCallback)this.encryptedImgCallback.cancel();this.encryptedImgCallback=c("createCancelableFunction")(function(q){if(o===k(this.props.src))this.setState({src:q})}.bind(this));p.load(o,this.encryptedImgCallback)}.bind(this),"ImageCore.react");else this.setState({src:o})};m.prototype.componentWillMount=function(){"use strict";this.$ReactImage1(this.props.src)};m.prototype.componentWillReceiveProps=function(n){"use strict";if(n.src!==this.props.src)this.$ReactImage1(n.src)};m.prototype.componentWillUnmount=function(){"use strict";if(this.encryptedImgCallback)this.encryptedImgCallback.cancel()};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,m.baseClassName),o=this.props.src;if(this.props.source!=null)c("warnUnsupportedProp")("ImageCore","source","Did you mean `src`?");if(o==null)return c("React").createElement("img",babelHelpers["extends"]({},this.props,{className:n}));var p=null;if(this.props.alt&&j(o))p=c("React").createElement("u",null,this.props.alt);if(typeof o==="string")return c("React").createElement("img",babelHelpers["extends"]({},this.props,{src:this.state.src,className:n}),p);if(j(o)){var q=o;n=c("joinClasses")(n,q.spriteMapCssClass,q.spriteCssClass);var r=this.props,s=r.src,t=babelHelpers.objectWithoutProperties(r,["src"]);return c("React").createElement("i",babelHelpers["extends"]({},t,{className:n,src:null}),p)}if(this.props.width===undefined&&this.props.height===undefined){var u=o;return c("React").createElement("img",babelHelpers["extends"]({},this.props,{className:n,width:u.width,height:u.height,src:this.state.src}),p)}return c("React").createElement("img",babelHelpers["extends"]({},this.props,{className:n,src:this.state.src}),p)};m.baseClassName="img";m.validateImageSrcPropType=l;m.propTypes={src:l};m.defaultProps={alt:""};f.exports=m}),null);
__d("Image.react",["ImageCore.react"],(function a(b,c,d,e,f,g){f.exports=c("ImageCore.react")}),null);
__d("DeferredComponent.react",["React","createCancelableFunction"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l,m){"use strict";i.constructor.call(this,l,m);this.$DeferredComponent1=function(n){this.setState({ComponentClass:n},function(){this.props.onComponentLoad&&this.props.onComponentLoad(n)}.bind(this))}.bind(this);this.state={ComponentClass:null,cancelableModulesLoaded:c("createCancelableFunction")(this.$DeferredComponent1)}}k.prototype.componentWillMount=function(){"use strict";this.props.deferredComponent(this.state.cancelableModulesLoaded)};k.prototype.componentWillUnmount=function(){"use strict";this.state.cancelableModulesLoaded.cancel()};k.prototype.render=function(){"use strict";var l=this.state.ComponentClass;if(!l||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var m=this.props,n=m.deferredPlaceholder,o=m.deferredComponent,p=m.onComponentLoad,q=m.deferredForcePlaceholder,r=babelHelpers.objectWithoutProperties(m,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return c("React").createElement(l,r)};k.propTypes={deferredPlaceholder:j.element.isRequired,deferredComponent:j.func.isRequired,onComponentLoad:j.func,deferredForcePlaceholder:j.bool};f.exports=k}),null);
__d("PerfHelperUtils",["cx","DeferredComponent.react","JSResource","React"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var m=this.props,n=m.moduleId,o=m.timeLimitSecs,p=m.timeSpentSecs;return c("React").createElement(c("DeferredComponent.react"),{deferredPlaceholder:c("React").createElement("div",null),deferredComponent:function q(r){c("JSResource")("Tooltip.react").__setRef("PerfHelperUtils").load().done(r)},className:"_5_my",tooltip:"This bootloaded component has a red border\n          because "+n+"\n          took over "+o+" seconds ("+p+"s) to load"},this.props.children)};function k(){i.apply(this,arguments)}var l={RedBorderedInnerComponent:k};f.exports=l}),null);
__d("getContextualLayerCursorOffset",[],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){var l=i.getOrientation(),m=l.getPosition(),n=l.getAlignment(),o=i.getContent().getBoundingClientRect(),p=i.getContext().getBoundingClientRect(),q=j-p.left,r=k-p.top;switch(n){case"left":q-=o.width;break;case"center":q-=p.width*.5;break;case"right":q-=p.width-o.width;break;default:throw new Error("invalid alignment")}switch(m){case"above":r*=-1;break;case"left":q+=o.width;r-=o.height*.5;break;case"right":q-=o.width;r-=o.height*.5;break;case"below":r-=p.height;break;default:throw new Error("invalid position")}return{offsetX:q,offsetY:r}}f.exports=h}),null);
__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",SUBSCRIBE_SOME:"subscribe_some",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_CHANNEL_PIVOTS:"fetch_channel_pivots_success",APPEND_CHANNEL_PIVOTS:"append_channel_pivots",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"})}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"})}),null);
__d("VideoChannelLogger",["Arbiter","Banzai","BanzaiLogger","Run","VideoChannelLoggerEvents","VideoChannelLoggerFields","VideoChannelViewChainLengthManager","VideoChannelViewVariables"],(function a(b,c,d,e,f,g){var h=c("VideoChannelViewVariables").channelPivots,i=0,j=null,k=null,l=null,m=0,n=null,o={startSession:function p(q,r,s){j=r;l=s;k=q;c("Arbiter").inform("LogEnterChannel",r);c("VideoChannelViewChainLengthManager").registerVideoID(q,q);var t={};t[c("VideoChannelLoggerFields").EVENT]=c("VideoChannelLoggerEvents").SESSION_START;o.log(t);i=Date.now();c("Run").onLeave(o.endSession);c("Banzai").subscribe(c("Banzai").SHUTDOWN,o.endSession)},endSession:function p(){if(j){c("Arbiter").inform("LogExitChannel",j);var q={};q[c("VideoChannelLoggerFields").EVENT]=c("VideoChannelLoggerEvents").SESSION_END;o.log(q);j=null;k=null;l=null;n=null;i=0}},setOffset:function p(q){m=q},setPosition:function p(q){n=q},setChannel:function p(q){j=q},getPlayerLoggingData:function p(){if(!j)return{};return{video_channel_id:j,position_in_channel:n+m}},log:function p(q){var r=c("VideoChannelViewChainLengthManager").getLoggingData(k);q[c("VideoChannelLoggerFields").SESSION_ID]=r.video_chaining_session_id;if(!h)q[c("VideoChannelLoggerFields").VIDEO_CHANNEL_ID]=j;q[c("VideoChannelLoggerFields").VIDEO_CHAINING_CALLER]=l;if(!(c("VideoChannelLoggerFields").POSITION_IN_CHANNEL in q))q[c("VideoChannelLoggerFields").POSITION_IN_CHANNEL]=n+m;if(i){var s=Date.now()-i;q[c("VideoChannelLoggerFields").TIME_SINCE_START]=s+.001}c("BanzaiLogger").log("VideoChannelLoggerConfig",q)}};f.exports=o}),null);
__d("VideoChannelProgressCircle.react",["cx","React","ReactDOM","Style"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,n}l.prototype.componentDidMount=function(){"use strict";this.drawProgressCircle(this.props)};l.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.$VideoChannelProgressCircle1)};l.prototype.componentWillReceiveProps=function(m){"use strict";if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m)};l.prototype.drawProgressCircle=function(m){"use strict";var n=c("ReactDOM").findDOMNode(this.refs.progressCircle),o=this.$VideoChannelProgressCircle2,p=o/100;c("Style").set(n,"stroke-dashoffset",o+"px");clearInterval(this.$VideoChannelProgressCircle1);if(m.makeProgress)this.$VideoChannelProgressCircle1=setInterval(function(){o-=p;c("Style").set(n,"stroke-dashoffset",o+"px");if(o<=0){clearInterval(this.$VideoChannelProgressCircle1);c("Style").set(n,"stroke-dashoffset","0px");m.onProgressDone&&m.onProgressDone()}}.bind(this),m.timeoutSec*10)};l.prototype.render=function(){"use strict";var m=this.props.watchAndScroll?34:80,n=this.props.watchAndScroll?2:4,o=m/2,p=o-n/2;this.$VideoChannelProgressCircle2=p*2*Math.PI;return c("React").createElement("div",null,c("React").createElement("svg",{className:"_20_8"},c("React").createElement("circle",{cx:o,cy:o,r:p,stroke:"#ffffff",strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:"transparent"}),c("React").createElement("circle",{ref:"progressCircle",cx:o,cy:o,r:p,stroke:"#5890ff",strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:"transparent"})),this.props.children)};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired,watchAndScroll:k.bool};f.exports=l}),null);
__d("VideoChannelReplayImage.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement(c("Image.react"),{onClick:this.props.onClick,className:"_4nxy"+(this.props.size==="small"?" _4nxz":""),src:"/images/video/channel_view/replay.svg"})};function k(){"use strict";i.apply(this,arguments)}k.defaultProps={size:"normal"};f.exports=k}),null);
__d("VideoChannelRequestStatus",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"})}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/channel/view/async/{id}/",{id:{type:"String",required:true},original_video_id:{type:"String",required:true},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/channel/view/story/async/{root_video_id}/",{root_video_id:{type:"String",required:true},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:false},setup_interactions:{type:"Bool",defaultValue:false},is_first_story:{type:"Bool",defaultValue:false},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:false}})}),null);
__d("VideoChannelStoryFetcher",["AsyncRequest","HTML","VideoChannelLogger","VideoChannelLoggerEvents","VideoChannelLoggerFields","VideoChannelRequestStatus","VideoChannelViewVariables","XVideoChannelViewAsyncController","XVideoChannelViewStoryAsyncController"],(function a(b,c,d,e,f,g){var h=c("VideoChannelViewVariables").channelPivots;function i(j,k,l,m,n,o,p){"use strict";this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher4=l;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};if(n){this.$VideoChannelStoryFetcher5=n.videoIDs;this.$VideoChannelStoryFetcher6=n.feedTrackingData;this.$VideoChannelStoryFetcher2=n.cursorInfo.cursor;this.$VideoChannelStoryFetcher3=n.cursorInfo.hasNextPage;var q=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c("VideoChannelLogger").setOffset(q);this.$VideoChannelStoryFetcher9.start=q;this.$VideoChannelStoryFetcher9.end=q+1}if(o){this.$VideoChannelStoryFetcher5=o;this.$VideoChannelStoryFetcher3=!!p;var r=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c("VideoChannelLogger").setOffset(r);this.$VideoChannelStoryFetcher9.start=r;this.$VideoChannelStoryFetcher9.end=r+1}c("VideoChannelLogger").setPosition(0);this.$VideoChannelStoryFetcher11=m;this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[]}i.prototype.reset=function(j,k){"use strict";this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[]};i.prototype.abandonRequest=function(){"use strict";this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon()};i.prototype.hasNext=function(){"use strict";var j=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||j};i.prototype.$VideoChannelStoryFetcher14=function(event,j,k){"use strict";var l={};l[c("VideoChannelLoggerFields").EVENT]=event;l[c("VideoChannelLoggerFields").REQUEST_STATUS]=j;l[c("VideoChannelLoggerFields").PERF_TIME_MS]=Date.now()-k;if(h)l[c("VideoChannelLoggerFields").VIDEO_CHANNEL_ID]=this.$VideoChannelStoryFetcher8;c("VideoChannelLogger").log(l)};i.prototype.fetchFirstStory=function(j,k,l){"use strict";if(k===null)if(this.$VideoChannelStoryFetcher5.length!==0){var m=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);k=this.$VideoChannelStoryFetcher6[m]}var n=c("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$VideoChannelStoryFetcher4).setStringVector("video_ids",[this.$VideoChannelStoryFetcher7]).setString("root_video_id",this.$VideoChannelStoryFetcher7).setBool("is_first_story",true).setBool("use_video_placeholder",j).setBool("setup_interactions",l).setString("channel_id",this.$VideoChannelStoryFetcher8).setString("ad_impression_token",this.$VideoChannelStoryFetcher11);if(k)n.setStringVector("feed_tracking_data",[JSON.stringify(k)]);var o=Date.now(),p=new(c("AsyncRequest"))(n.getURI()).setAllowCrossPageTransition(true).setHandler(function(){var q,r=this;this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_FIRST_STORY,c("VideoChannelRequestStatus").SUCCEEDED,o);this.$VideoChannelStoryFetcher15();if(h)(function(){var o=Date.now(),s=c("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",r.$VideoChannelStoryFetcher4).setStringVector("video_ids",[r.$VideoChannelStoryFetcher7]).setString("root_video_id",r.$VideoChannelStoryFetcher7).setString("channel_id",r.$VideoChannelStoryFetcher8).setBool("fetch_channel_pivots",true);if(k)s.setStringVector("feed_tracking_data",[JSON.stringify(k)]);var t=new(c("AsyncRequest"))(s.getURI()).setAllowCrossPageTransition(true).setHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_CHANNEL_PIVOTS,c("VideoChannelRequestStatus").SUCCEEDED,o);this.$VideoChannelStoryFetcher15()}.bind(r)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_CHANNEL_PIVOTS,c("VideoChannelRequestStatus").FAILED,o);this.$VideoChannelStoryFetcher15()}.bind(r)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_CHANNEL_PIVOTS,c("VideoChannelRequestStatus").ABORTED,o);this.$VideoChannelStoryFetcher15()}.bind(r));r.$VideoChannelStoryFetcher1=t;r.$VideoChannelStoryFetcher10=Date.now();t.send()})()}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_FIRST_STORY,c("VideoChannelRequestStatus").FAILED,o);this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_FIRST_STORY,c("VideoChannelRequestStatus").ABORTED,o);this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=p;this.$VideoChannelStoryFetcher10=Date.now();p.send()};i.prototype.getPreloadedData=function(){"use strict";return{stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13}};i.prototype.$VideoChannelStoryFetcher16=function(j,k){"use strict";if(!this.$VideoChannelStoryFetcher8)return;var l=c("XVideoChannelViewAsyncController").getURIBuilder().setString("id",this.$VideoChannelStoryFetcher8).setEnum("caller",this.$VideoChannelStoryFetcher4).setString("original_video_id",this.$VideoChannelStoryFetcher7).setInt("story_count",j);if(this.$VideoChannelStoryFetcher2)l.setString("cursor",this.$VideoChannelStoryFetcher2.toString());var m=Date.now(),n=l.getURI(),o=new(c("AsyncRequest"))(n).setAllowCrossPageTransition(true).setHandler(function(p){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,c("VideoChannelRequestStatus").SUCCEEDED,m);this.$VideoChannelStoryFetcher2=p.getPayload().cursor;this.$VideoChannelStoryFetcher3=p.getPayload().hasNextPage;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(p,function(q,r){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,q);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,r);return k(q,r)}.bind(this))}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,c("VideoChannelRequestStatus").FAILED,m);this.$VideoChannelStoryFetcher15()}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FROM_ENTQUERY,c("VideoChannelRequestStatus").ABORTED,m);this.$VideoChannelStoryFetcher15()}.bind(this));this.$VideoChannelStoryFetcher1=o;o.send()};i.prototype.$VideoChannelStoryFetcher18=function(j,k,l){var m,n=this;"use strict";var o=this.$VideoChannelStoryFetcher9.end,p=this.$VideoChannelStoryFetcher5.length-o,q=o+Math.min(p,j);if(p>0)(function(){var r=n.$VideoChannelStoryFetcher5.slice(o,q),s=n.$VideoChannelStoryFetcher6.slice(o,q).map(function(v){return JSON.stringify(v)}),t=c("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",n.$VideoChannelStoryFetcher4).setString("channel_id",n.$VideoChannelStoryFetcher8).setString("root_video_id",n.$VideoChannelStoryFetcher7).setStringVector("video_ids",r).setStringVector("feed_tracking_data",s),u=Date.now();n.$VideoChannelStoryFetcher1=new(c("AsyncRequest"))(t.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,c("VideoChannelRequestStatus").FAILED,u);this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,c("VideoChannelRequestStatus").ABORTED,u);this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(v){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_FORWARD,c("VideoChannelRequestStatus").SUCCEEDED,u);this.$VideoChannelStoryFetcher9.end=q;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(v,function(w,x){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,w);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,x);return k(w,x)}.bind(this))}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(p)})();else if(this.$VideoChannelStoryFetcher3){this.$VideoChannelStoryFetcher16(j,k);if(l)l(j)}};i.prototype.$VideoChannelStoryFetcher19=function(j,k,l){var m,n=this;"use strict";var o=this.$VideoChannelStoryFetcher9.start;if(o>0)(function(){var p=Math.max(o-j,0),q=n.$VideoChannelStoryFetcher5.slice(p,o),r=n.$VideoChannelStoryFetcher6.slice(p,o).map(function(u){return JSON.stringify(u)}),s=c("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",n.$VideoChannelStoryFetcher4).setString("channel_id",n.$VideoChannelStoryFetcher8).setString("root_video_id",n.$VideoChannelStoryFetcher7).setStringVector("video_ids",q).setStringVector("feed_tracking_data",r),t=Date.now();n.$VideoChannelStoryFetcher1=new(c("AsyncRequest"))(s.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,c("VideoChannelRequestStatus").FAILED,t);this.$VideoChannelStoryFetcher15()}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,c("VideoChannelRequestStatus").ABORTED,t);this.$VideoChannelStoryFetcher15()}.bind(n)).setHandler(function(u){this.$VideoChannelStoryFetcher14(c("VideoChannelLoggerEvents").FETCH_STORIES_BACKWARD,c("VideoChannelRequestStatus").SUCCEEDED,t);this.$VideoChannelStoryFetcher9.start=p;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(u,k)}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(o-p)})()};i.prototype.fetchStories=function(j,k,l){"use strict";var m=c("VideoChannelViewVariables").defaultStoriesToLoad;if(this.$VideoChannelStoryFetcher1)return;if(j)this.$VideoChannelStoryFetcher18(m,k,l);else this.$VideoChannelStoryFetcher19(m,k,l)};i.prototype.$VideoChannelStoryFetcher17=function(j,k){"use strict";var l=j.getPayload(),m=c("HTML").replaceJSONWrapper(l.stories).getNodes(),n=l.thumbnails.map(function(o){return c("HTML").replaceJSONWrapper(o).getRootNode()});k(m,n)};i.prototype.$VideoChannelStoryFetcher15=function(){"use strict";this.$VideoChannelStoryFetcher1=null};f.exports=i}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return!!this.props.isFullscreen}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen()}.bind(this),n}l.prototype.render=function(){var m=Object.assign({},this.props);delete m.isFullscreen;delete m.onToggleFullscreen;return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},m,{className:c("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};l.propTypes={disabled:k.bool,image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func};f.exports=l}),null);
__d("VideoAutoplayControllerAbortLoadingHelper",["invariant","VideoPlayerLoggerSource","VideoPlayerExperiments","VideoPlayerAbortLoadingExperiment","getViewportDimensions","Set","Map"],(function a(b,c,d,e,f,g,h){function i(){"use strict";this.$VideoAutoplayControllerAbortLoadingHelper1=new(c("Set"))();this.$VideoAutoplayControllerAbortLoadingHelper2=new(c("Map"))()}i.prototype.maybeAbortLoading=function(){"use strict";for(var j=this.$VideoAutoplayControllerAbortLoadingHelper1,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}var n=m,o=c("VideoPlayerExperiments").deferWhichVideoToAbortLoadingDecisioningLogic,p=n.getVideoPlayerController(),q=p?p.isLiveVideo():null;if(q!==null&&(o==="vod"&&q||o==="live"&&!q))continue;if(!n.isState("playing")&&typeof n.abortLoading==="function"&&i.shouldAbortLoadingVideoUnit(n))if(c("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading)this.$VideoAutoplayControllerAbortLoadingHelper3(n);else this.$VideoAutoplayControllerAbortLoadingHelper4(n);else if(c("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading&&n.isState("playing")){var r=this.$VideoAutoplayControllerAbortLoadingHelper2.get(n);!!r||h(0);if(r&&r.abortedLoading)r.abortedLoading=false}}};i.prototype.$VideoAutoplayControllerAbortLoadingHelper3=function(j){"use strict";if(c("VideoPlayerExperiments").abortLoadingHelperBoundedReloading){var k=c("getViewportDimensions")().height/-2;if(j.getDistanceToViewport()<c("VideoPlayerExperiments").abortedLoadingPixelBoundary+k&&!j.isVisible())this.$VideoAutoplayControllerAbortLoadingHelper5(j);else if(j.getDistanceToViewport()>c("VideoPlayerExperiments").reloadingPixelBoundary+k)this.$VideoAutoplayControllerAbortLoadingHelper6(j)}else if(j.getDistanceToViewport()<0&&!j.isVisible())this.$VideoAutoplayControllerAbortLoadingHelper5(j)};i.prototype.addVideoUnit=function(j){"use strict";if(!this.$VideoAutoplayControllerAbortLoadingHelper1.has(j)){this.$VideoAutoplayControllerAbortLoadingHelper1.add(j);this.$VideoAutoplayControllerAbortLoadingHelper2.set(j,{y:j.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:false})}};i.prototype.removeVideoUnit=function(j){"use strict";this.$VideoAutoplayControllerAbortLoadingHelper1["delete"](j);this.$VideoAutoplayControllerAbortLoadingHelper2["delete"](j)};i.prototype.calculateFutureScrollPosition=function(j){"use strict";var k=j.y1-j.y0,l=j.t1-j.t0,m=k/l,n=m-j.v0,o=n/l,p=j.t,q=o*p*p/2+p*m+j.y1;return{v1:m,a:o,S:q}};i.prototype.preloadClosestVideoUnits=function(j){"use strict";this.$VideoAutoplayControllerAbortLoadingHelper7(j).forEach(function(k){return this.$VideoAutoplayControllerAbortLoadingHelper6(k)}.bind(this))};i.prototype.$VideoAutoplayControllerAbortLoadingHelper7=function(j){"use strict";return Array.from(this.$VideoAutoplayControllerAbortLoadingHelper1).filter(function(k){return k.getDistanceToViewport()>=0}).sort(function(k,l){return k.getDistanceToViewport()-l.getDistanceToViewport()}).slice(0,j)};i.prototype.$VideoAutoplayControllerAbortLoadingHelper6=function(j){"use strict";var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=false}if(l&&typeof j.preload==="function")j.preload()};i.prototype.$VideoAutoplayControllerAbortLoadingHelper5=function(j){"use strict";var k=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!k||h(0);var l=void 0;if(k){l=k.abortedLoading;k.abortedLoading=true}if(!l&&typeof j.abortLoading==="function")j.abortLoading()};i.prototype.$VideoAutoplayControllerAbortLoadingHelper4=function(j){"use strict";var k=c("getViewportDimensions")().height,l=1600,m=k/2,n=m+l,o=-m,p=o-l,q=this.$VideoAutoplayControllerAbortLoadingHelper2.get(j);!!q||h(0);if(!q)return;var r=j.getDistanceToViewport(),s=q.y;q.y=r;var t=new Date().valueOf(),u=q.timestamp;q.timestamp=t;var v=q.v;if(p<=r&&n>=r){if(q.abortedLoading)this.$VideoAutoplayControllerAbortLoadingHelper6(j);return}var w=500,x=this.calculateFutureScrollPosition({y0:s,y1:r,t0:u,t1:t,v0:v,t:w});q.v=x.v1;var y=x.S;if(q.abortedLoading){if(r<p&&y>p||r>n&&y<n)this.$VideoAutoplayControllerAbortLoadingHelper6(j)}else this.$VideoAutoplayControllerAbortLoadingHelper5(j)};i.prototype.$VideoAutoplayControllerAbortLoadingHelper8=function(j){"use strict";var k=j.getVideoPlayerController();return k?k.getVideoPlayerID():null};i.shouldAbortLoadingVideoUnit=function(j){"use strict";var k=!c("VideoPlayerExperiments").abortLoadingDecisioningLogic,l=true;if(j){if(typeof j.getIsInChannel==="function")l=j.getIsInChannel();if(typeof j.getSource==="function"&&c("VideoPlayerExperiments").abortLoadingDecisioningLogic)k=j.getSource()===c("VideoPlayerLoggerSource").TAHOE;return c("VideoPlayerAbortLoadingExperiment").canAbort&&!l&&!k}return false};f.exports=i}),null);
__d("VideoAutoplayControllerBase",["Arbiter","DesktopHscrollUnitEventConstants","Event","VideoPlayerExperiments","VideoPlayerAbortLoadingExperiment","VideoAutoplayControllerAbortLoadingHelper","VideoPlayerLoggerSource","VideoPlayerReason","Visibility","destroyOnUnload","SubscriptionsHandler","debounce","throttle","setTimeout","emptyFunction"],(function a(b,c,d,e,f,g){var h=c("VideoPlayerExperiments").abortLoadingDelay;function i(l,m){var n=[];return function(){var o=Date.now();n.unshift(o);var p=0;while(n[++p]+m>o);n=n.slice(0,p);return n.length<=l}}function j(l,m,n){var o=null;return function(){var p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];if(m()){l.apply(undefined,r);return c("emptyFunction").thatReturnsFalse}else if(!o)(function(){var t=c("setTimeout")(function(){o=null;l.apply(undefined,r)},n);o=function u(){if(!o)return false;clearTimeout(t);o=null;return true}})();return o}}function k(l){"use strict";this.$VideoAutoplayControllerBase8=c("emptyFunction");this.$VideoAutoplayControllerBase9=c("emptyFunction");this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase10=[];this.$VideoAutoplayControllerBase1=l;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new(c("SubscriptionsHandler"))();c("destroyOnUnload")(function(){this.$VideoAutoplayControllerBase10=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null}this.$VideoAutoplayControllerBase5.release()}.bind(this));if(c("VideoPlayerExperiments").autoplayMaxCallsPerWindow)this.$VideoAutoplayControllerBase6=j(function(m){var n=this.$VideoAutoplayControllerBase3;if(n)n.playWithoutUnmute(m)}.bind(this),i(c("VideoPlayerExperiments").autoplayMaxCallsPerWindow,c("VideoPlayerExperiments").autoplayThrottleWindow),c("VideoPlayerExperiments").autoplayThrottleDelay);this.$VideoAutoplayControllerBase7=c("emptyFunction").thatReturnsFalse}k.prototype.getVideoUnits=function(){"use strict";return this.$VideoAutoplayControllerBase10};k.prototype.setVideoUnits=function(l){"use strict";this.$VideoAutoplayControllerBase10=l};k.prototype.addVideoUnit=function(l){"use strict";this.$VideoAutoplayControllerBase10.push(l)};k.prototype.removeVideoUnit=function(l){"use strict";var m=this.$VideoAutoplayControllerBase10.findIndex(function(n){return n===l});if(m>-1)this.$VideoAutoplayControllerBase10.splice(m,1)};k.prototype.getPlayingVideoUnit=function(){"use strict";return this.$VideoAutoplayControllerBase3};k.prototype.setPlayingVideoUnit=function(l){"use strict";this.$VideoAutoplayControllerBase3=l;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions()};k.prototype.playVideo=function(l,m){"use strict";if(c("VideoPlayerExperiments").disableAutoplayForInactiveTab&&c("Visibility").isHidden()){this.$VideoAutoplayControllerBase2=l;return}this.setPlayingVideoUnit(l);if(this.$VideoAutoplayControllerBase3){var n=this.$VideoAutoplayControllerBase6;if(n)this.$VideoAutoplayControllerBase7=n.call(this,m);else this.$VideoAutoplayControllerBase3.playWithoutUnmute(m)}};k.prototype.setupPlayingVideoUnitSubscriptions=function(){"use strict";throw new Error("Should be overridden")};k.prototype.addSubscriberVideoUnit=function(){"use strict";if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c("Event").listen(window,"resize",this.updateAutoplay.bind(this)),c("Event").listen(window,"blur",this.$VideoAutoplayControllerBase11.bind(this)),c("Event").listen(window,"focus",this.$VideoAutoplayControllerBase12.bind(this)),c("Visibility").addListener(c("Visibility").HIDDEN,this.$VideoAutoplayControllerBase11.bind(this)),c("Visibility").addListener(c("Visibility").VISIBLE,this.$VideoAutoplayControllerBase12.bind(this)),c("Arbiter").subscribe(c("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase13())this.$VideoAutoplayControllerBase14()}};k.prototype.$VideoAutoplayControllerBase11=function(){"use strict";if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.$VideoAutoplayControllerBase15(c("VideoPlayerReason").PAGE_VISIBILITY)}};k.prototype.$VideoAutoplayControllerBase12=function(){"use strict";if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c("VideoPlayerReason").PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null}};k.prototype.$VideoAutoplayControllerBase14=function(){"use strict";if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase8=c("throttle")(function(){return this.updateAutoplay()}.bind(this),this.$VideoAutoplayControllerBase1);this.$VideoAutoplayControllerBase9=c("debounce")(function(){return this.updateAutoplay()}.bind(this),this.$VideoAutoplayControllerBase1);this.$VideoAutoplayControllerBase4=c("Event").listen(window,"scroll",function(){this.$VideoAutoplayControllerBase8();if(c("VideoPlayerExperiments").useDebouncedScroll)this.$VideoAutoplayControllerBase9()}.bind(this))};k.prototype.$VideoAutoplayControllerBase13=function(){"use strict";return!!this.$VideoAutoplayControllerBase4};k.prototype.getClosestVideoUnits=function(l){"use strict";return this.$VideoAutoplayControllerBase10.filter(function(m){return m.getDistanceToViewport()>=0}).sort(function(m,n){return m.getDistanceToViewport()-n.getDistanceToViewport()}).slice(0,l)};k.prototype.getVisibleUnits=function(){"use strict";var l=[];this.$VideoAutoplayControllerBase10.forEach(function(m){if(m.isVisible()){l.push(m);if(!m.wasVisible){m.wasVisible=true;m.logDisplayed()}}else m.wasVisible=false});return l};k.prototype.$VideoAutoplayControllerBase16=function(l){"use strict";var m=c("VideoPlayerExperiments").deferWhichVideoToAbortLoadingDecisioningLogic,n=l.getVideoPlayerController(),o=n?n.isLiveVideo():null;if(o!==null&&(m==="vod"&&o||m==="live"&&!o))return false;return c("VideoAutoplayControllerAbortLoadingHelper").shouldAbortLoadingVideoUnit(l)};k.prototype.pausePlayingVideo=function(l,m){var n,o=this;"use strict";var p=this.$VideoAutoplayControllerBase3;if(p)(function(){var q=function q(){if(!p.isState("playing")){if(c("VideoPlayerExperiments").abortLoadingReUpStillVisibleVideos&&p.isVisible())return c("setTimeout")(q,h);if(typeof p.abortLoading==="function")p.abortLoading()}};if(!o.$VideoAutoplayControllerBase7())p.pause(l);if(!c("VideoPlayerExperiments").decoupleAbortLoadingFromPause)if(o.$VideoAutoplayControllerBase16(p)&&!m)c("setTimeout")(q,h);o.$VideoAutoplayControllerBase3=null})()};k.prototype.$VideoAutoplayControllerBase15=function(l){"use strict";this.pausePlayingVideo(l,true)};k.prototype.updateAutoplay=function(){"use strict";throw new Error("Should be overridden")};f.exports=k}),null);
__d("Network",["mixInEventEmitter"],(function a(b,c,d,e,f,g){var h=true,i=b.navigator.connection,j={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"};function k(){return h}function l(q){if(q==h)return;h=q;p.emit(q?"online":"offline")}function m(){return i?i.bandwidth:h?Infinity:0}function n(){return i?i.metered:false}function o(){var q=i?String(i.type):"0";return j[q]||q}var p={getBandwidth:m,getType:o,isMetered:n,isOnline:k,setOnline:l};c("mixInEventEmitter")(p,{online:true,offline:true});if(b.addEventListener){b.addEventListener("online",l.bind(null,true));b.addEventListener("offline",l.bind(null,false))}else if(b.attachEvent){b.attachEvent("online",l.bind(null,true));b.attachEvent("offline",l.bind(null,false))}f.exports=p}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/autoplay/nux/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/autoplay/nux/dismiss/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/autoplay/nux/log/view/",{})}),null);
__d("VideoAutoplayControllerX",["csx","AsyncRequest","DOM","Event","Network","Run","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoAutoplayControllerBase","VideoPlayerExperiments","VideoPlayerPreloadExperiment","VideoPlayerReason","XVideoAutoplayNuxAsyncController","XVideoAutoplayNuxDismissAsyncController","XVideoAutoplayNuxLogViewAsyncController","clearTimeout","destroyOnUnload","getViewportDimensions","ifRequired","setTimeout"],(function a(b,c,d,e,f,g,h){var i,j,k=null,l=c("VideoPlayerExperiments").videoPollingFrequency,m=false;function n(){return!c("VideoPlayerExperiments").delayAutoplayUntilAfterLoad||m}i=babelHelpers.inherits(o,c("VideoAutoplayControllerBase"));j=i&&i.prototype;function o(){"use strict";j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new(c("VideoAutoplayControllerAbortLoadingHelper"))();this.$VideoAutoplayControllerX2=new(c("SubscriptionsHandler"))();this.$VideoAutoplayControllerX3=new(c("SubscriptionsHandler"))();this.$VideoAutoplayControllerX4=true;this.$VideoAutoplayControllerX5=true;this.$VideoAutoplayControllerX6=true;this.$VideoAutoplayControllerX7=null;this.$VideoAutoplayControllerX8=null;this.$VideoAutoplayControllerX9=false;this.$VideoAutoplayControllerX10=null;this.$VideoAutoplayControllerX11=false;this.$VideoAutoplayControllerX12=false;this.$VideoAutoplayControllerX13=false;var p=c("XVideoAutoplayNuxAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setAllowCrossPageTransition().send();c("destroyOnUnload")(function(){this.$VideoAutoplayControllerX14();if(c("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd){if(this.$VideoAutoplayControllerX15)c("clearTimeout")(this.$VideoAutoplayControllerX15);this.$VideoAutoplayControllerX16.remove()}if(this===k)k=null}.bind(this));c("Run").onAfterLoad(function(){m=true;if(c("VideoPlayerExperiments").delayAutoplayUntilAfterLoad)if(k)k.updateAutoplay();if(!document.hasFocus())c("Event").fire(window,"blur");if(c("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd)this.$VideoAutoplayControllerX17()}.bind(this))}o.prototype.$VideoAutoplayControllerX17=function(){"use strict";var p=33,q=34,r=35,s=36;this.$VideoAutoplayControllerX15=null;var t=function(){this.$VideoAutoplayControllerX18(this.$VideoAutoplayControllerX5);c("clearTimeout")(this.$VideoAutoplayControllerX15);this.$VideoAutoplayControllerX15=null}.bind(this);this.$VideoAutoplayControllerX16=c("Event").listen(document.body,"keydown",function(u){var v=-1;switch(u.keyCode){case p:case q:v=c("VideoPlayerExperiments").pressPgUpPgDownAutoplayShutoffInterval;break;case r:case s:v=c("VideoPlayerExperiments").pressHomeEndAutoplayShutoffInterval;break;default:break}if(v>-1)if(this.$VideoAutoplayControllerX15){c("clearTimeout")(this.$VideoAutoplayControllerX15);this.$VideoAutoplayControllerX15=c("setTimeout")(t,v)}else if(this.$VideoAutoplayControllerX4){this.$VideoAutoplayControllerX18(false);this.$VideoAutoplayControllerX15=c("setTimeout")(t,v)}}.bind(this))};o.prototype.$VideoAutoplayControllerX18=function(p){"use strict";this.$VideoAutoplayControllerX4=p;this.updateAutoplay()};o.registerVideoUnit=function(p){"use strict";if(k==null)k=new o();k.addSubscriberVideoUnit();k.addVideoUnit(p);var q=new(c("SubscriptionsHandler"))();q.addSubscriptions.apply(q,k.$VideoAutoplayControllerX19(p));k.$VideoAutoplayControllerX20();if(p.isVisible()&&n())k.updateAutoplay();if(k.shouldRestoreAllSubsequentStreamBufferSizes())k.restoreStreamBufferSize();return function(){k&&k.removeVideoUnit(p);q.release();if(k&&p===k.getPlayingVideoUnit()){k.$VideoAutoplayControllerX3.release();k.setPlayingVideoUnit(null)}}};o.setShouldAutoplay=function(p){"use strict";if(k==null)k=new o();k.$VideoAutoplayControllerX4=p;k.$VideoAutoplayControllerX6=p;k.$VideoAutoplayControllerX5=p;k.updateAutoplay()};o.prototype.$VideoAutoplayControllerX14=function(){"use strict";this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX3.release()};o.setAutoplayNux=function(p,q){"use strict";if(k==null)return;k.$VideoAutoplayControllerX7=p;k.$VideoAutoplayControllerX8=q;k.$VideoAutoplayControllerX9=true;var r=c("DOM").find(q.getContentRoot(),"._5cqr");c("Event").listen(r,"click",function(){k.$VideoAutoplayControllerX21()});var s=c("DOM").scry(q.getContentRoot(),"._36gl")[0];if(s)c("Event").listen(s,"click",function(){k.$VideoAutoplayControllerX21()})};o.prototype.$VideoAutoplayControllerX21=function(){"use strict";this.$VideoAutoplayControllerX8.hide();this.$VideoAutoplayControllerX9=false;var p=c("XVideoAutoplayNuxDismissAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(p).setAllowCrossPageTransition().send()};o.prototype.setupPlayingVideoUnitSubscriptions=function(){"use strict";if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener("finishPlayback",function(){this.setPlayingVideoUnit(null)}.bind(this)));this.$VideoAutoplayControllerX2.addSubscriptions(this.getPlayingVideoUnit().addListener("turnOffAutoplay",function(){this.setPlayingVideoUnit(null)}.bind(this)),this.getPlayingVideoUnit().addListener("pausePlayback",function(){this.$VideoAutoplayControllerX20()}.bind(this)),this.getPlayingVideoUnit().addListener("finishPlayback",function(){this.$VideoAutoplayControllerX20()}.bind(this)),c("Network").addListener("online",function(){this.$VideoAutoplayControllerX20()}.bind(this)),c("Network").addListener("offline",function(){this.$VideoAutoplayControllerX20()}.bind(this)))}};o.prototype.$VideoAutoplayControllerX20=function(){"use strict";if(c("VideoPlayerExperiments").webVideosBlockAutoplayWhenOffline)if(c("Network").isOnline())this.$VideoAutoplayControllerX4=this.$VideoAutoplayControllerX6;else{this.$VideoAutoplayControllerX6=this.$VideoAutoplayControllerX4;this.$VideoAutoplayControllerX4=false;return}var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r){if(r.getDataInsertionPosition()==="0"){this.$VideoAutoplayControllerX11=true;if(this.$VideoAutoplayControllerX12===false){r.restoreStreamBufferSize();r.once("beginPlayback",function(){this.$VideoAutoplayControllerX13=true;this.restoreStreamBufferSize()}.bind(this));this.$VideoAutoplayControllerX12=true}}if(!c("VideoPlayerExperiments").autoplayBlockBlacklist)r.updateAutoplayRestrained()}}if(!this.$VideoAutoplayControllerX11)this.restoreStreamBufferSize()};o.prototype.shouldRestoreAllSubsequentStreamBufferSizes=function(){"use strict";if(!this.$VideoAutoplayControllerX11)return true;return this.$VideoAutoplayControllerX13};o.prototype.restoreStreamBufferSize=function(){"use strict";var p=this.getVideoUnits();for(var q=0;q<p.length;q++){var r=p[q].getVideoPlayerController();if(r!==null)r.restoreStreamBufferSize()}};o.prototype.$VideoAutoplayControllerX19=function(p){var q;"use strict";if(!p.addListener)return[];var r=function(){var t=p.getVideoPlayerController();if(!t.isMuted()&&t.isState("playing")){if(this.$VideoAutoplayControllerX10&&this.$VideoAutoplayControllerX10!==p){var u=this.$VideoAutoplayControllerX10.getVideoPlayerController(),v=u.getOption("VideoWithLiveBroadcast","isLive");if(v)u.mute();else u.pause(c("VideoPlayerReason").USER)}this.$VideoAutoplayControllerX10=p}}.bind(this),s=[p.addListener("beginPlayback",r),p.addListener("changeVolume",r),p.addListener("unmuteVideo",r)];(q=this.$VideoAutoplayControllerX3).addSubscriptions.apply(q,s);return s};o.prototype.$VideoAutoplayControllerX22=function(){"use strict";var p=this.getVisibleUnits(),q=p.length,r=null;if(q===1){r=p[0];r=r.isAutoplayable()?r:null}else if(q>1){var s=c("getViewportDimensions")().height/2;p.forEach(function(t){if(!t.isAutoplayable())return;var u=t.getDOMPosition(),v=u.y+u.height/2,w=Math.abs(v-s);t.playPriority=w;if(!r||t.playPriority<r.playPriority)r=t})}return r};o.prototype.showAutoplayNUX=function(p){"use strict";if(this.$VideoAutoplayControllerX8&&!this.$VideoAutoplayControllerX8.isShown()){var q=p.getVideoPlayerController().getRootNode();c("DOM").prependContent(q,this.$VideoAutoplayControllerX7);this.$VideoAutoplayControllerX8.show();var r=c("XVideoAutoplayNuxLogViewAsyncController").getURIBuilder().getURI();new(c("AsyncRequest"))(r).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX9=false};o.getChannelVideos=function(){"use strict";if(k)return k.getVideoUnits().filter(function(p){return p.getIsInChannel()});return null};o.prototype.addVideoUnit=function(p){"use strict";j.addVideoUnit.call(this,p);if(c("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.addVideoUnit(p)};o.prototype.removeVideoUnit=function(p){"use strict";j.removeVideoUnit.call(this,p);if(c("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&p)this.$VideoAutoplayControllerX1.removeVideoUnit(p)};o.prototype.updateAutoplay=function(){"use strict";if(!this.$VideoAutoplayControllerX4){this.pausePlayingVideo(c("VideoPlayerReason").AUTOPLAY);return}if(!c("VideoPlayerExperiments").decoupleAbortLoadingFromPause)this.getClosestVideoUnits(c("VideoPlayerPreloadExperiment").preloadVideosCount).forEach(function(t){return t.preload()});else if(c("VideoPlayerExperiments").abortLoadingHelperDefaultPreloading)this.$VideoAutoplayControllerX1.preloadClosestVideoUnits(c("VideoPlayerPreloadExperiment").preloadVideosCount);var p=this.$VideoAutoplayControllerX22(),q=this.getPlayingVideoUnit();if(q){if(p!=q){var r=null;r=q.getVideoPlayerController();if(r)r.setSmartBufferAdjustmentEnabled(false);if(p){var s=null;s=p.getVideoPlayerController();if(s)s.setSmartBufferAdjustmentEnabled(true)}this.pausePlayingVideo(c("VideoPlayerReason").AUTOPLAY);this.playVideo(p,c("VideoPlayerReason").AUTOPLAY);if(this.$VideoAutoplayControllerX9)this.showAutoplayNUX(p)}}else if(p){this.playVideo(p,c("VideoPlayerReason").AUTOPLAY);if(this.$VideoAutoplayControllerX9)this.showAutoplayNUX(p)}if(c("VideoPlayerExperiments").decoupleAbortLoadingFromPause)this.$VideoAutoplayControllerX1.maybeAbortLoading()};f.exports=o}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode","getContextualLayerCursorOffset"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k=Object.prototype.hasOwnProperty,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$MountedContextMenu6=function(s){var t=s.clientX,u=s.clientY;s.preventDefault();s.stopPropagation();this.showAt(t,u)}.bind(this),this.$MountedContextMenu7=function(s){var t=this.$MountedContextMenu3(),u=t&&c("DOMQuery").contains(t,s.target),v=s.button===0;if(!(u&&v))this.hide()}.bind(this),this.$MountedContextMenu8=function(){if(this.props.disableFocusOutline)c("Focus").setWithoutOutline(this.$MountedContextMenu2())}.bind(this),this.$MountedContextMenu9=function(){var s=this.$MountedContextMenu2();if(this.props.disableFocusOutline)c("Focus").setWithoutOutline(s);else c("Focus").set(s);if(this.state.shown)this.hide()}.bind(this),this.$MountedContextMenu10=function(){this.hide()}.bind(this),o}m.prototype.getDefaultProps=function(){return{disableFocusOutline:false}};m.prototype.$MountedContextMenu2=function(){return this.props.mountedTriggerElem};m.prototype.$MountedContextMenu3=function(){var n=this.refs.popover.getMenu();return n&&n.getRoot()};m.prototype.$MountedContextMenu4=function(){return this.refs.menuLayer.layer};m.prototype.renderLayers=function(){return c("React").createElement(c("ContextualLayer.react"),{alignment:"right",behaviors:[c("LayerHideOnEscape")],contextRef:function(){return this.$MountedContextMenu2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},c("React").createElement(c("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},c("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))};m.prototype.render=function(){if(this.props.mountedTriggerElem)return c("React").createElement("span",null,this.renderLayers());return null};m.prototype.$MountedContextMenu5=function(n,o){var p=this.$MountedContextMenu4(),q=c("getContextualLayerCursorOffset")(p,n,o),r=q.offsetX,s=q.offsetY;p.setOffsetX(r).setOffsetY(s);this.setState({offsetX:r,offsetY:s})};m.prototype.componentDidMount=function(){var n=this.$MountedContextMenu2(),o=c("ReactDOM").findDOMNode(this.refs.fakeTrigger),p=this.$MountedContextMenu4(),q=this.refs.popover;this.$MountedContextMenu1=new(c("SubscriptionsHandler"))();this.$MountedContextMenu1.addSubscriptions(c("Event").listen(n,"contextmenu",this.$MountedContextMenu6),c("Event").listen(document.body,"mousedown",this.$MountedContextMenu7),c("Event").listen(n,"focus",this.$MountedContextMenu8),c("Event").listen(o,"focus",this.$MountedContextMenu9),c("Event").listen(window,"blur",this.$MountedContextMenu10),p.subscribe("show",function(){var r=this.state.lastOpenedX,s=this.state.lastOpenedY;this.$MountedContextMenu5(r,s);q.showPopover()}.bind(this)),p.subscribe("hide",function(){q.hidePopover()}))};m.prototype.componentWillUnmount=function(){this.$MountedContextMenu1&&this.$MountedContextMenu1.release()};m.prototype.show=function(){this.setState({shown:true})};m.prototype.showAt=function(n,o){this.setState({lastOpenedX:n,lastOpenedY:o});this.show()};m.prototype.hide=function(){this.setState({shown:false})};m.propTypes={disableFocusOutline:l.bool,menu:function n(o,p,q){if(!k.call(o,p))return new Error(q+"."+p+" is required");var n=o[p],r=n&&n.type;if(!(r&&r.prototype instanceof c("PopoverMenuInterface")))return new Error(p+" must implement PopoverMenuInterface");return null},mountedTriggerElem:function n(o,p,q){if(!k.call(o,p))return new Error(q+"."+p+" is required");else if(!c("isNode")(o[p]))return new Error(q+"."+p+" must be a raw DOM node");return null}};f.exports=m}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","ContextualLayer.react","DOMQuery","Event","Focus","FullScreen","getFullScreenElement","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","VideoContextMenuGK","isNode"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=Object.prototype.hasOwnProperty,m=c("ReactXUIMenu").Item,n=c("React").PropTypes,o=.35,p=6,q=60;j=babelHelpers.inherits(r,c("React").Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.state={permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height},this.$VideoPlayerHTML5ContextMenu2=function(){var x=c("getFullScreenElement")(),y=this.props.videoElem,z=!!(c("FullScreen").isFullScreen()&&x&&y&&c("DOMQuery").contains(x,y));this.setState({fullscreened:z})}.bind(this),this.$VideoPlayerHTML5ContextMenu5=function(){if(this.props.paused)return i._("Play");else return i._("Pause")}.bind(this),this.$VideoPlayerHTML5ContextMenu6=function(){if(this.props.muted)return i._("Unmute");else return i._("Mute")}.bind(this),this.$VideoPlayerHTML5ContextMenu7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$VideoPlayerHTML5ContextMenu8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$VideoPlayerHTML5ContextMenu4=function(){c("Focus").set(c("ReactDOM").findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true})}.bind(this),this.$VideoPlayerHTML5ContextMenu3=function(){this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu9=function(){c("ReactDOM").findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$VideoPlayerHTML5ContextMenu10=function(x){if(c("Event").getKeyCode(x)==c("Keys").ESC)this.setState({permalinkVisible:false})}.bind(this),this.$VideoPlayerHTML5ContextMenu11=function(x){x.preventDefault()},this.$VideoPlayerHTML5ContextMenu12=function(){var x=void 0,y=void 0;if(this.state.fullscreened){x=this.state.screenWidth;y=this.state.screenHeight}else{var z=this.props.videoElem.getBoundingClientRect();x=z.width;y=z.height}return{width:x,height:y}}.bind(this),this.$VideoPlayerHTML5ContextMenu13=function(x){var y=this.props.permalinkURL;if(y){var z={width:x+"px"};return c("React").createElement("div",{className:"_26oo",style:z},c("React").createElement("input",{className:"_26op autofocus",onFocus:this.$VideoPlayerHTML5ContextMenu9,onKeyDown:this.$VideoPlayerHTML5ContextMenu10,onMouseUp:this.$VideoPlayerHTML5ContextMenu11,readOnly:true,ref:"permalinkText",type:"text",value:y}),c("React").createElement("button",{className:"_26oq",onClick:this.$VideoPlayerHTML5ContextMenu3},i._("Close")))}}.bind(this),this.renderLayers=function(){var x=this.props.permalinkURL&&this.state.permalinkVisible,y=0,z=0,A=null,B=this.$VideoPlayerHTML5ContextMenu12(),C=B.width,D=B.height,E=C*o;y=C/2-E/2;z=-D+p;if(this.state.fullscreened)z+=q;A=this.$VideoPlayerHTML5ContextMenu13(E);return c("React").createElement(c("ContextualLayer.react"),{alignment:"left",behaviors:[c("LayerHideOnEscape"),c("LayerAutoFocus")],contextRef:function(){return this.props.videoElem}.bind(this),offsetX:y,offsetY:z,position:"below",ref:"permalinkLayer",shown:x,key:"permalinkOverlay"},A)}.bind(this),this.$VideoPlayerHTML5ContextMenu14=function(){if(this.props.permalinkURL)return c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu4,ref:"permalinkMenuItem"},i._("Show video URL"))}.bind(this),t}r.prototype.componentDidMount=function(){var s=this.refs.permalinkLayer.layer;this.$VideoPlayerHTML5ContextMenu1=new(c("SubscriptionsHandler"))();this.$VideoPlayerHTML5ContextMenu1.addSubscriptions(c("FullScreen").subscribe("changed",this.$VideoPlayerHTML5ContextMenu2),s.subscribe("hide",this.$VideoPlayerHTML5ContextMenu3),s.subscribe("show",this.$VideoPlayerHTML5ContextMenu4))};r.prototype.componentWillUnmount=function(){this.$VideoPlayerHTML5ContextMenu1&&this.$VideoPlayerHTML5ContextMenu1.release()};r.prototype.hidePermalinkOverlay=function(){this.$VideoPlayerHTML5ContextMenu3()};r.prototype.render=function(){var s=this.props.paused!==null&&c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu7},this.$VideoPlayerHTML5ContextMenu5()),t=c("React").createElement(c("ReactXUIMenu"),{className:c("VideoContextMenuGK").menuRedesign?"_45di":""},s,c("React").createElement(m,{onclick:this.$VideoPlayerHTML5ContextMenu8},this.$VideoPlayerHTML5ContextMenu6()),this.$VideoPlayerHTML5ContextMenu14(),this.props.children);return c("React").createElement("span",null,c("React").createElement(c("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoElem,menu:t,ref:"menu"}),this.renderLayers())};r.propTypes={videoElem:function s(t,u,v){if(!l.call(t,u))return new Error(v+"."+u+" is required");else if(!c("isNode")(t[u]))return new Error(v+"."+u+" must be a raw DOM node")},paused:n.bool,muted:n.bool,permalinkURL:n.string,onTogglePause:n.func.isRequired,onToggleMute:n.func.isRequired};f.exports=r}),null);
__d("VideoContextMenu",["EventListener","Bootloader","URI","React","ReactDOM","VideoPlayerHTML5ContextMenu.react","VideoPlayerReason","VideoPlayerStates","UserAgent","CurrentUser","isFacebookURI"],(function a(b,c,d,e,f,g){var h=/(instagram)/g;function i(j,k,l){"use strict";this.$VideoContextMenu10=function(){for(var o in this.$VideoContextMenu8){var p=this.$VideoContextMenu8[o].name,q=this.$VideoContextMenu8[o].option,r=this.$VideoContextMenu8[o].description,s=this.$VideoContextMenu8[o].closeMessage;if(this.$VideoContextMenu2.hasOption(p,q))this.$VideoContextMenu13(p,q,r,s);else this.$VideoContextMenu12(p,q)}this.$VideoContextMenu9()}.bind(this);this.$VideoContextMenu9=function(){if(this.$VideoContextMenu6)this.$VideoContextMenu14()}.bind(this);this.$VideoContextMenu11=function(o){var p=/^a$/i.test(o.target.nodeName||""),q=p||c("CurrentUser").isEmployee()&&(c("UserAgent").isPlatform("Mac OS X")?o.getModifiers().meta:o.getModifiers().ctrl);if(q&&this.$VideoContextMenu6){c("ReactDOM").unmountComponentAtNode(this.$VideoContextMenu4);delete this.$VideoContextMenu6}else if(!q&&!this.$VideoContextMenu6){o.preventDefault();this.$VideoContextMenu14()}}.bind(this);this.$VideoContextMenu8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$VideoContextMenu2=j;this.$VideoContextMenu3=l;this.$VideoContextMenu4=k;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL){var m=new(c("URI"))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI();if(!c("isFacebookURI")(m)){m.setSubdomain("www");m.setDomain(m.getDomain().replace(h,"facebook"))}this.$VideoContextMenu5=m.toString()}var n=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(o){return j.addListener(o,function(){if(this.$VideoContextMenu6)this.$VideoContextMenu6.hidePermalinkOverlay();this.$VideoContextMenu9()}.bind(this))}.bind(this));j.addListener("optionsChange",this.$VideoContextMenu10);this.$VideoContextMenu10();n.forEach(function(o){return j.addListener(o,this.$VideoContextMenu9)}.bind(this));c("EventListener").listen(this.$VideoContextMenu2.getRootNode(),"contextmenu",this.$VideoContextMenu11)}i.prototype.setPermalinkURL=function(j){"use strict";this.$VideoContextMenu5=j;this.$VideoContextMenu9()};i.prototype.$VideoContextMenu12=function(j,k){"use strict";if(this.$VideoContextMenu7)this.$VideoContextMenu7.removeMenuItem(j,k)};i.prototype.$VideoContextMenu13=function(j,k,l,m){"use strict";c("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(n){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new n(this.$VideoContextMenu2,this.$VideoContextMenu9);this.$VideoContextMenu7.addComponentOptionMenuItem(j,k,l,m)}.bind(this),"VideoContextMenu")};i.prototype.$VideoContextMenu15=function(j,k){"use strict";if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(j,k)};i.prototype.$VideoContextMenu14=function(){"use strict";var j=this.$VideoContextMenu15(this.$VideoContextMenu8.debugOverlay.name,this.$VideoContextMenu8.debugOverlay.option),k=this.$VideoContextMenu15(this.$VideoContextMenu8.statsForNerds.name,this.$VideoContextMenu8.statsForNerds.option),l=this.$VideoContextMenu2.getRootNode();this.$VideoContextMenu6=c("ReactDOM").render(c("React").createElement(c("VideoPlayerHTML5ContextMenu.react"),{videoElem:l,paused:this.$VideoContextMenu16()?null:!this.$VideoContextMenu2.isState(c("VideoPlayerStates").PLAYING),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu17()}.bind(this),onToggleMute:function(){return this.$VideoContextMenu18()}.bind(this)},j,k),this.$VideoContextMenu4)};i.prototype.$VideoContextMenu16=function(){"use strict";if(this.$VideoContextMenu2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$VideoContextMenu2.isState(c("VideoPlayerStates").PAUSED))return true;var j=this.$VideoContextMenu2.getOption("VideoWithCommercialBreak","controller");if(j&&j.getIsDuringTransition())return true;return false};i.prototype.$VideoContextMenu18=function(){"use strict";if(this.$VideoContextMenu2.isMuted())this.$VideoContextMenu2.unmute();else this.$VideoContextMenu2.mute()};i.prototype.$VideoContextMenu17=function(){"use strict";if(!this.$VideoContextMenu2.isState("playing"))this.$VideoContextMenu2.play(c("VideoPlayerReason").USER);else this.$VideoContextMenu2.pause(c("VideoPlayerReason").USER)};f.exports=i}),null);
__d("PerfUtils",["cx","React","performanceNow","PerfHelperUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=c("React").Component,j=c("PerfHelperUtils").RedBorderedInnerComponent;function k(n,o){var p,q;p=babelHelpers.inherits(r,i);q=p&&p.prototype;r.prototype.componentDidMount=function(){"use strict";o()};r.prototype.render=function(){"use strict";return c("React").createElement(n,this.props)};function r(){"use strict";p.apply(this,arguments)}return r}function l(n,o,p){var q,r,s=1e4,t=c("performanceNow")()-p;if(t<s)return n;var u=s/1e3,v=Math.round(t)/1e3;q=babelHelpers.inherits(w,i);r=q&&q.prototype;w.prototype.componentDidMount=function(){"use strict"};w.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_4ez8"},c("React").createElement(j,{moduleId:o,timeLimitSecs:u,timeSpentSecs:v},c("React").createElement(n,this.props)))};function w(){"use strict";q.apply(this,arguments)}return w}var m={appendListener:k,markRedInDev:l};f.exports=m}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","React","TimeSlice","performanceNow"],(function a(b,c,d,e,f,g){var h,i,j=c("React").Component,k=c("PerfUtils").appendListener,l=c("PerfUtils").markRedInDev;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$BootloadedComponent1=function(s){var t=this.props.isContinuation,u=void 0;c("TimeSlice").guard(c("JSResource").loadAll,"BootloadedComponent load all JSResource",{isContinuation:t})([this.props.bootloadLoader],function(v){v=this.props.onComponentDidMount?k(v,this.props.onComponentDidMount):v;s(v)}.bind(this))}.bind(this),o}m.prototype.componentWillMount=function(){"use strict";this.props.onBootloaderWillMount&&this.props.onBootloaderWillMount()};m.prototype.render=function(){"use strict";var n=this.props,o=n.bootloadLoader,p=n.isContinuation,q=n.bootloadPlaceholder,r=n.bootloadForcePlaceholder,s=babelHelpers.objectWithoutProperties(n,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);return c("React").createElement(c("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:q,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:r},s))};m.defaultProps={isContinuation:true};f.exports=Object.assign(m,{create:function n(f){var o,p;o=babelHelpers.inherits(q,c("React").Component);p=o&&o.prototype;q.prototype.render=function(){"use strict";var r=this.props,s=r.bootloadLoader,t=babelHelpers.objectWithoutProperties(r,["bootloadLoader"]);return c("React").createElement(m,babelHelpers["extends"]({bootloadLoader:f,bootloadPlaceholder:c("React").createElement("div",null)},t))};function q(){"use strict";o.apply(this,arguments)}q.displayName="BootloadedComponent("+f.getModuleId()+")";return q}})}),null);
__d("fbglyph",[],(function a(b,c,d,e,f,g){function h(i){throw new Error("fbglyph("+JSON.stringify(i)+"): Unexpected fbglyph reference.")}f.exports=h}),null);
__d("EmbeddedVideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","VideoPlayerExperiments","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=2;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={iconColor:"white"}}n.prototype.onMouseOut=function(o){this.setState({iconColor:"white"})};n.prototype.onMouseOver=function(o){this.setState({iconColor:"blue"})};n.prototype.$EmbeddedVideoFBIconControl1=function(){return new(c("URI"))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-m))};n.prototype.render=function(){var o=this.state.iconColor==="blue"?h("115830"):h("114229"),p=null;p=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o});var q=c("VideoPlayerExperiments").embeddedPlayerEnhancements?this.$EmbeddedVideoFBIconControl1():this.props.permalinkURL;return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(this.props.label,"above"),{className:"_3u33",href:q,image:p,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};n.defaultProps={label:j._("Click to watch on Facebook"),labelIsHidden:true};f.exports=n}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control",REPLAY_CONTROL:"replay_control"})}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function a(b,c,d,e,f,g){"use strict";function h(i,j,k){return!c("fbjs/lib/shallowEqual")(i.props,j)||!c("fbjs/lib/shallowEqual")(i.state,k)}f.exports=h}),null);
__d("EmbeddedVideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoWebDriverIDs","VideoPlayerExperiments","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c("shallowCompare")(this,o,p)};n.prototype.onMouseOut=function(o){c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.render=function(){var o=void 0;if(!c("VideoPlayerExperiments").fourArrowFullScreen)o=this.props.isFullscreen?h("115501"):h("115510");else o=this.props.isFullscreen?h("115504"):h("115507");var p=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("Exit Fullscreen"):j._("Enter Fullscreen");return c("React").createElement(c("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_3u33 _39ip","data-testid":c("VideoWebDriverIDs").FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:q,labelIsHidden:true}))};function n(){k.apply(this,arguments)}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n}),null);
__d("EmbeddedVideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoWebDriverIDs","VideoPlayerExperiments","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false}}n.prototype.shouldComponentUpdate=function(o,p){return c("shallowCompare")(this,o,p)};n.prototype.isPlaying=function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying};n.prototype.onButtonClick=function(){var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o)this.props.onPause&&this.props.onPause();else this.props.onPlay&&this.props.onPlay()};n.prototype.componentWillReceiveProps=function(){this.setState({awaitingUpdate:false})};n.prototype.onMouseOut=function(o){c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.render=function(){var o=null,p=null;if(this.props.finishedPlaying){if(this.props.useDarkTheme)o=h("129899");else o=h("115482");p=j._("Replay")}else{if(this.props.useDarkTheme)o=this.isPlaying()?h("129753"):h("129815");else o=this.isPlaying()?h("115336"):h("115398");p=this.isPlaying()?j._("Pause"):j._("Play")}var q=c("React").createElement(c("Image.react"),{className:"_5i0o",src:o});if(c("VideoPlayerExperiments").embeddedPlayerEnhancements)return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(p,"above"),{className:"_3u33","data-testid":c("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return c("React").createElement(c("AbstractButton.react"),{className:"_3u33","data-testid":c("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:q,label:p,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};n.defaultProps={useDarkTheme:false};f.exports=n}),null);
__d("EmbeddedVideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","ReactDOM","VideoPlayerExperiments","setImmediate","shallowCompare"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;function m(o){return o.toFixed(2).replace(/\.0+/,".0")+"x"}j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(o){"use strict";k.constructor.call(this,o);this.state={isFocus:false,isFocusMenuItem:false,rate:1}}n.prototype.shouldComponentUpdate=function(o,p){"use strict";return c("shallowCompare")(this,o,p)};n.prototype.onMouseOut=function(o){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};n.prototype.onButtonFocus=function(o){"use strict";this.setState({isFocus:true})};n.prototype.onButtonBlur=function(){"use strict";this.setState({isFocusMenuItem:false});c("setImmediate")(function(){if(!this.state.isFocusMenuItem)this.setState({isFocus:false})}.bind(this))};n.prototype.createRateItem=function(o,p,q){"use strict";var r=function r(u){q();u.preventDefault()},s=null;if(p)s=c("React").createElement("div",{className:"_25d1"});var t=c("React").createElement("div",{className:"_4v8w",style:{backgroundColor:"inherit"}},s);return c("React").createElement("a",{href:"#",key:o,className:"_4v8v",onBlur:this.onButtonBlur.bind(this),onClick:r,onFocus:function(){this.setState({isFocusMenuItem:true})}.bind(this),tabIndex:this.props.tabIndex},t,c("React").createElement("div",{className:"_4v8x _4trg"},o))};n.prototype.render=function(){"use strict";var o=m(this.state.rate),p=null;if(!this.props.disabled){var q=[.5,1,1.25,1.5,1.75,2,2.5,3],r=q.map(function(u){return this.createRateItem(m(u),this.state.rate==u,function(){if(this.props.onSelectPlaybackRate)this.props.onSelectPlaybackRate(u);this.setState({rate:u})}.bind(this))}.bind(this));p=c("React").createElement("div",{className:"_42fl"+(this.state.isFocus?" _4v4":"")},c("React").createElement("div",{className:"_4v8y"},c("React").createElement("div",{className:"_28h1"},c("React").createElement("div",{className:"_4v8x"},i._("Play Speed")),r)),c("React").createElement("div",{className:"_4v8z"}))}var s="_3u33 _4irg"+(!c("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _4t3m":""),t=c("React").createElement(c("AbstractButton.react"),{className:s,label:o,onBlur:this.onButtonBlur.bind(this),onFocus:this.onButtonFocus.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"});return c("React").createElement("div",{className:"_1esn"},p,t)};n.propTypes={isEmbedded:l.bool,onSelectPlaybackRate:l.func,tabIndex:l.string};n.defaultProps={tabIndex:"-1"};f.exports=n}),null);
__d("DateConsts",[],(function a(b,c,d,e,f,g){var h=1e3,i=60,j=60,k=24,l=7,m=12,n=1e3,o=30.43,p=365.242,q=i*j,r=q*k,s=r*l,t=r*p,u=h*i,v=u*j,w=h*r,x=w*l,y=w*p,z={SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6};Object.freeze(z);var A={getDaysInMonth:function B(C,D){return new Date(C,D,0).getDate()},getCurrentTimeInSeconds:function B(){return Date.now()/h},DAYS:z,MS_PER_SEC:h,MS_PER_MIN:u,MS_PER_HOUR:v,MS_PER_DAY:w,MS_PER_WEEK:x,MS_PER_YEAR:y,SEC_PER_MIN:i,SEC_PER_HOUR:q,SEC_PER_DAY:r,SEC_PER_WEEK:s,SEC_PER_YEAR:t,US_PER_MS:n,MIN_PER_HOUR:j,HOUR_PER_DAY:k,DAYS_PER_WEEK:l,MONTHS_PER_YEAR:m,AVG_DAYS_PER_MONTH:o,AVG_DAYS_PER_YEAR:p,"private":{instantRange:{since:-864e10,until:864e10+1}}};f.exports=A}),null);
__d("EmbeddedVideoPlaybackTimer.react",["cx","DateConsts","React","VideoPlayerExperiments","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false}}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return c("shallowCompare")(this,m,n)};l.prototype.componentWillReceiveProps=function(m){"use strict";if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime})};l.prototype.getClock=function(m){"use strict";var n="";if(isNaN(m))m=0;else if(m<0){m*=-1;n="-"}var o=Math.floor(m/c("DateConsts").SEC_PER_HOUR),p=Math.floor((m-o*c("DateConsts").SEC_PER_HOUR)/c("DateConsts").SEC_PER_MIN),q=null;if(!this.props.displayMilliseconds)q=Math.round(m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN);else q=Math.floor(m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN);if(q===c("DateConsts").SEC_PER_MIN){q=0;p++}if(p===c("DateConsts").MIN_PER_HOUR){p=0;o++}var r=m-o*c("DateConsts").SEC_PER_HOUR-p*c("DateConsts").SEC_PER_MIN-q,s=Math.round(r*c("DateConsts").MS_PER_SEC),t=("0"+p).slice(-2),u=("0"+q).slice(-2),v=("00"+s).slice(-3),w=n;if(o===0)w+=p+":"+u;else w+=o+":"+t+":"+u;if(this.props.displayMilliseconds)w+="."+v;return w};l.prototype.onButtonClick=function(){"use strict";this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true})};l.prototype.render=function(){"use strict";var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg"+(!c("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _4t3m":"");if(this.props.isInScrubberPreview)o="_5lde";var p=Object.assign({},this.props);delete p.displayElapsedTime;delete p.displayMilliseconds;delete p.isInScrubberPreview;delete p.playbackPosTimestamp;delete p.remainingTimestamp;delete p.isEmbedded;return c("React").createElement("div",babelHelpers["extends"]({},p,{className:c("joinClasses")(this.props.className,o),onClick:this.onButtonClick.bind(this),role:"button",tabIndex:"0"}),this.getClock(n))};l.propTypes={isEmbedded:k.bool,isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool,useDarkTheme:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false,useDarkTheme:false};f.exports=l}),null);
__d("isKeyActivation",["Keys"],(function a(b,c,d,e,f,g){"use strict";function h(event){var i=0,j=event.charCode,k=event.keyCode;if(j!=null&&j!==0)i=j;else if(k!=null&&k!==0)i=k;return[c("Keys").RETURN,c("Keys").SPACE].includes(i)}f.exports=h}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function a(b,c,d,e,f,g){"use strict";var h=function(i){var j,k;return k=j=function(){var l,m;l=babelHelpers.inherits(n,c("React").Component);m=l&&l.prototype;function n(){var o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];(o=m.constructor).call.apply(o,[this].concat(q));this.$_class2=function(event){if(c("isKeyActivation")(event)){event.preventDefault();event.stopPropagation();if(this.$_class1)this.$_class1.click()}}.bind(this);this.$_class3=function(s){this.$_class1=s}.bind(this);this.$_class1=null}n.prototype.render=function(){"use strict";return c("React").createElement(i,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$_class2,keyActivationToClickRef:this.$_class3}))};return n}(),j.displayName="KeyActivationToClickHOC",k}.bind(this);f.exports=h}),null);
__d("ShimButton.react",["KeyActivationToClickHOC.react","React","emptyFunction"],(function a(b,c,d,e,f,g){var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ShimButton1=function(event){this.props.keyActivationToClickEvent(event);this.props.onKeyPress(event)}.bind(this),this.$ShimButton2=function(q){this.props.keyActivationToClickRef(q);this.props.onRef(q)}.bind(this),m}k.prototype.render=function(){"use strict";var l=this.props,m=l.children,n=l.form,o=l.inline,p=l.keyActivationToClickEvent,q=l.keyActivationToClickRef,r=l.onRef,s=babelHelpers.objectWithoutProperties(l,["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef"]),t=o?"span":"div";if(n==="link")t="a";return c("React").createElement(t,babelHelpers["extends"]({},s,{ref:this.$ShimButton2,role:"button",onKeyPress:this.$ShimButton1}),m)};k.defaultProps={form:"none",inline:false,keyActivationToClickRef:c("emptyFunction"),tabIndex:"0",onClick:c("emptyFunction"),onKeyPress:c("emptyFunction"),onRef:c("emptyFunction")};k.propTypes={children:j.any,form:j.oneOf(["none","link"]),inline:j.bool,tabIndex:j.oneOf(["-1","0",-1,0]),onClick:j.func,onKeyPress:j.func,onRef:j.func};f.exports=c("KeyActivationToClickHOC.react")(k)}),null);
__d("EmbeddedVideoScrubberPointOfInterestBar.react",["cx","EmbeddedVideoPlaybackTimer.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c("React").PropTypes;i=babelHelpers.inherits(n,c("React").PureComponent);j=i&&i.prototype;function n(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:"hidden"},q}n.prototype.render=function(){"use strict";var p=this.props.timestamp,q=p*100/this.props.playbackDuration+"%",r=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return c("React").createElement("div",null,c("React").createElement(c("ShimButton.react"),{className:"_2f0h"+(this.props.isActive?" _3t5h":""),onClick:function(s){return this.props.onPointOfInterestSelect(p)}.bind(this),onMouseEnter:function(s){return this.setState({visibility:"visible"})}.bind(this),onMouseLeave:function(s){return this.setState({visibility:"hidden"})}.bind(this),style:{left:q}}),r)};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(){var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return c("React").createElement(n,{key:"poi"+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect})}.bind(this),q}o.prototype.shouldComponentUpdate=function(p,q){"use strict";return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r}.bind(this))};o.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_2f0i",tabIndex:this.props.tabIndex},c("React").createElement("div",{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this)))};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired};f.exports=o}),null);
__d("AdBreakInsertionDisabledReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d("VideoInstreamUtils",["fbt","AdBreakInsertionDisabledReason","DateConsts","Set","VideoInstreamAdsConstants"],(function a(b,c,d,e,f,g,h){var i={convertFormattedTimeToSeconds:function j(k){var l=0,m=k.split(".");if(m.length>2)return null;if(m.length===2){if(m[1].length===0)return null;var n=m[1];while(n.length<3)n+="0";var o=Number(n);if(isNaN(o)||o<0||o>=c("DateConsts").MS_PER_SEC)return null;l+=o/c("DateConsts").MS_PER_SEC}var p=m[0].split(":");if(p.length>3)return null;for(var q=0;q<p.length;q++){if(p[q].length===0)return null;var r=Number(p[q]);if(isNaN(r)||r<0||r>=60)return null;l+=r*Math.pow(60,p.length-q-1)}return l},convertTimestampToFormattedString:function j(k){k=Math.round(k*c("DateConsts").MS_PER_SEC)/c("DateConsts").MS_PER_SEC;var l=Math.floor(k/c("DateConsts").SEC_PER_HOUR),m=k-l*c("DateConsts").SEC_PER_HOUR,n=Math.floor(m/c("DateConsts").SEC_PER_MIN),o=Math.floor(m-n*c("DateConsts").SEC_PER_MIN),p=Math.round(m*c("DateConsts").MS_PER_SEC),q=("0"+l).slice(-2),r=("0"+n).slice(-2),s=("0"+o).slice(-2),t=("00"+p).slice(-3),u="";if(l>0)u+=q+":";return u+=r+":"+s+"."+t},getMaxPossibleAdBreaks:function j(k){var l=Math.ceil(k)*c("DateConsts").MS_PER_SEC;if(l<c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;var m=(l-c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(m)+1)},getEligibleTimeSegments:function j(k,l){if(i.getMaxPossibleAdBreaks(l)===0)return[];var m=c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,n=l-c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/c("DateConsts").MS_PER_SEC,o=c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/c("DateConsts").MS_PER_SEC;if(k.length===0)return[{start:m,end:n}];var p=[];k.forEach(function(q,r){if(r===0){var s=q.timeOffset-o;if(s>=m)p.push({start:m,end:s})}if(r-1>=0){var t=k[r-1].timeOffset+o,u=q.timeOffset-o;if(t<=u)p.push({start:t,end:u})}if(r===k.length-1){var v=q.timeOffset+o;if(v<=n)p.push({start:v,end:n})}});return p},isInEligibleTimeSegments:function j(k,l,m){if(k===null||k===undefined)return false;var n=i.getEligibleTimeSegments(m,l);for(var o=0;o<n.length;o++)if(k>=n[o].start&&k<=n[o].end)return true;return false},isAdBreakViolatingInsertionRules:function j(k,l,m){var n=k[l];if(n.timeOffset*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return true;if((m-n.timeOffset)*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return true;for(var o=0;o<k.length;o++){if(o===l||k[o].timeOffset>=n.timeOffset)continue;if((n.timeOffset-k[o].timeOffset)*c("DateConsts").MS_PER_SEC<c("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return true}return false},getAdBreakTabState:function j(k,l,m){var n=new(c("Set"))(k);if(i.getMaxPossibleAdBreaks(m)===0)n.add(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);if(l)n.add(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(n)},_getAdBreakTabStateFromDisabledReasons:function j(k){if(k.size===0)return{disabled:false,errorMessageHeader:null,errorMessageContent:null};else if(k.has(c("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:true,errorMessageHeader:h._({"*":"Videos Must Be {insertion interval} Seconds or Longer"},[h.param("insertion interval",c("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:h._("Your video is too short to include ad breaks.")};else if(k.has(c("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")};else if(k.has(c("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:h._("Ad breaks can't be used in this video because it contains tagged business partners.")};return{disabled:true,errorMessageHeader:h._("Ad Breaks Not Available"),errorMessageContent:null}}};f.exports=i}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return{x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight}},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1},getTotalTimeInSprite:function i(j,k){return j*k}};f.exports=h}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"})}),null);
__d("EmbeddedVideoScrubber.react",["cx","fbt","DateConsts","EmbeddedVideoScrubberPointOfInterestBar.react","EventListener","Keys","Map","EmbeddedVideoPlaybackTimer.react","React","ReactDOM","Tooltip.react","VideoScrubberPreviewSpriteCalculation","VideoStereoFormat","JSResource","BootloadedComponent.react","VideoInstreamUtils","emptyFunction","getElementPosition","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){"use strict";k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new(c("Map"))();this.$EmbeddedVideoScrubber4.set(0,"");this.$EmbeddedVideoScrubber7=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}}}m.prototype.shouldComponentUpdate=function(n,o){"use strict";return c("shallowCompare")(this,n,o)};m.prototype.onDragNubBegin=function(n){"use strict";if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault()};m.prototype.componentWillReceiveProps=function(n){"use strict";this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition))}};m.prototype.componentDidUpdate=function(n,o){"use strict";if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c("EventListener").listen(document,"mousemove",function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p)}.bind(this));this.$EmbeddedVideoScrubber2=c("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this))}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove()}if(!o.mouseOver&&this.state.mouseOver)this.$EmbeddedVideoScrubber3=c("EventListener").listen(document,"mousemove",this.onTimecodeUpdate.bind(this));else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove()};m.prototype.timecodeUpdate=function(n){"use strict";var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r})}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c("ReactDOM").unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)this.updatePreviewThumbnailVideo(p,q,n);else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n)}.bind(this))}};m.prototype.onTimecodeUpdate=function(n){"use strict";this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation()};m.prototype.updatePreviewThumbnail=function(n,o,p,q){"use strict";this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s)}this.updatePreviewThumbnailLocation(p,q)};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){"use strict";this.setState({timecodeTimestamp:n});var q=c("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p)};m.prototype.updatePreviewThumbnailLocation=function(n,o){"use strict";var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q})};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;"use strict";var s=c("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(n,o),t=c("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height)};v.src=u})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s})};m.prototype.onLastImageLoad=function(n,o){"use strict";this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}})};m.prototype.retrievePreviewThumbnailInfo=function(){"use strict";this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};m.prototype.isSpriteMapURIFetched=function(){"use strict";if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size>1;else return false};m.prototype.getPositionRatio=function(n,o){"use strict";var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1)};m.prototype.onDragNubUpdate=function(n){"use strict";this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)})};m.prototype.onDragNubRelease=function(n){"use strict";var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation()};m.prototype.getPlayedRatio=function(n,o){"use strict";if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getBufferedRatio=function(){"use strict";var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p)};m.prototype.getRangeLimitedRatio=function(n){"use strict";if(isNaN(n)||n<0||n>1)return 0;return n};m.prototype.getNumberOfSprites=function(){"use strict";if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0};m.prototype.getAdBreakIndicators=function(){"use strict";if(!this.props.playbackDuration||!this.props.adBreaks)return null;var n=[];for(var o=0;o<this.props.adBreaks.length;o++){var p=this.props.adBreaks[o],q=p.getTimeOffsetInMs();if(q===null||q===undefined)continue;q/=c("DateConsts").MS_PER_SEC;var r=this.props.playbackDuration;if(q<0||q>r)continue;var s={left:q/r*100+"%"},t=[];if(this.props.adBreaksDisableReasons)t=this.props.adBreaksDisableReasons[o];var u="[FB Only] The ad break is disabled for "+t.join(", ")+".";n.push(c("React").createElement("div",{key:"ad_break_indicator_"+o,style:s,className:(t.length===0?"_5z5n":"")+(t.length>0?" _4f8m":"")+(p.getIsAdBreakAutoInserted()&&t.length===0?" _3mi6":"")+(p.getIsAdBreakAutoInserted()&&t.length>0?" _4f8n":"")},t.length>0?c("React").createElement(c("Tooltip.react"),{tooltip:u},"X"):null))}return c("React").createElement("div",null,n)};m.prototype.getInsertedAdBreaks=function(){"use strict";if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+"%"};n.push(c("React").createElement("div",{key:"inserted_ad_break"+p,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?" _9ob":"")},p+1))}.bind(this));return c("React").createElement("div",null,n)};m.prototype.getEligibleAdBreaksTimeSegments=function(){"use strict";if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=0;if(this.state.awaitingUpdate)n=this.$EmbeddedVideoScrubber7;else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,o);if(this.state.nubEngaged)this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp;else this.$EmbeddedVideoScrubber7=n;var q=[];p.forEach(function(r,s){var t=(r.end-r.start)/o*100,u=this.$EmbeddedVideoScrubber7>=r.start&&this.$EmbeddedVideoScrubber7<=r.end;if(u){var v={left:"calc("+r.start/o*100+"% - 4px)",width:t+"%"};q.push(c("React").createElement("span",{key:"time_segment"+s,className:"_2xts",style:v}))}else{var w={left:"calc("+r.start/o*100+"% - 2px)",width:t+"%"};q.push(c("React").createElement("span",{key:"time_segment"+s,className:"_2xtr",style:w}))}}.bind(this));return c("React").createElement("div",{className:"_44bi"},q)};m.prototype.onMouseEnter=function(n){"use strict";if(this.props.alwaysShowThumbnail)return;var o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o})};m.prototype.onMouseLeave=function(n){"use strict";if(this.props.alwaysShowThumbnail)return;c("ReactDOM").findDOMNode(this.refs.bar).blur();c("ReactDOM").unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview)o=this.refs.previewThumbnailContainer;else o=this.refs.timecode;var p=c("ReactDOM").findDOMNode(o);p.style.visibility="hidden"};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview)o=this.refs.previewThumbnailContainer;else o=this.refs.timecode;var p=c("ReactDOM").findDOMNode(o);p.style.visibility="visible"};m.prototype.onKeyDown=function(n){"use strict";var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c("Keys").RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01}else if(n.keyCode===c("Keys").LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0}else if(n.keyCode===c("Keys").HOME){n.preventDefault();n.stopPropagation();q=0}else if(n.keyCode===c("Keys").END){n.preventDefault();n.stopPropagation();q=o-.01}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q)};m.prototype.canShowHeatmap=function(){"use strict";return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};m.prototype.render=function(){"use strict";var n=c("joinClasses")(this.props.className,"_gn0"+(this.state.nubEngaged?" _gn1":"")),o=(this.props.hasScrubberPreview?"_24wr":"")+(!this.props.hasScrubberPreview?" _4irh":""),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},q={width:this.getBufferedRatio()*100+"%"},r={left:this.state.timecodeRatio*100+"%"},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,A=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;A*=this.state.previewThumbnailInformation.imagesPerColumn}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;A*=this.state.lastSpriteDimension.numColumn}var B=this.state.previewThumbnailInformation.stereoMode;if(B===c("VideoStereoFormat").LEFT_RIGHT){x/=2;z*=2}else if(B===c("VideoStereoFormat").TOP_BOTTOM){y/=2;A*=2}var C=.8;if(this.props.isFullscreen)C=1.5;else if(this.props.isInTahoe)C=1.2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*C+"px",height:y*C+"px"};v=c("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s})}else if(this.$EmbeddedVideoScrubber4){var D="";if(this.state.scrubberPreviewSpriteIndex){var E=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);if(E)D="url("+E+")"}var F=void 0;if(z>100)F=z+"% "+A+"%";else D="";s={width:x*C+"px",height:y*C+"px",backgroundImage:D,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*C+"px -"+this.state.scrubberPreviewBackgroundPosition.y*C+"px",backgroundSize:F};v=c("React").createElement("div",{className:"_24wt",ref:"previewThumbnail",style:s})}t={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":undefined};u=c("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:"previewThumbnailContainer",style:t},v,w)}}var G=null;if(this.props.pointsOfInterest.length>0)G=c("React").createElement(c("EmbeddedVideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var H=this.getAdBreakIndicators(),I=null;if(this.canShowHeatmap()){var J=this.props.hasScrubberPreview?u:w,K=null;if(J!=null)K=this.refs[J.ref];I=c("React").createElement("div",{className:"_27ew"},c("React").createElement("div",{className:"_5h19",style:p},c("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("LiveHeatmap.react").__setRef("EmbeddedVideoScrubber.react"),bootloadPlaceholder:c("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:K,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":i._("Change Position")}),J,H)}var L=this.props.playbackDuration>500?10:1,M=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*L)/L,N=M+"%",O=c("React").createElement("div",{className:n,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),role:"presentation"},I?I:c("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":N,"aria-label":i._("Change Position"),className:"_gn2",ref:"bar"},c("React").createElement("div",{className:"_gn3",style:q}),c("React").createElement("div",{style:p,className:"_gn4"},c("React").createElement("div",{className:"_gn5 _5ixx",ref:"nub"})),this.props.hasScrubberPreview?u:w,H,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return c("React").createElement("div",null,O,G)};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c("emptyFunction"),onScrubBegin:c("emptyFunction"),onScrubEnd:c("emptyFunction")};f.exports=m}),null);
__d("EmbeddedVideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle()}.bind(this),p}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("Click to hide details"):j._("Click to show details"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({className:"_3u33"},c("TooltipData").propsFor(o,"above"),{image:c("React").createElement(c("Image.react"),{className:"_345n",src:p}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};n.defaultProps={label:j._("Toggle details"),labelIsHidden:true};n.propTypes={isSidePaneOpen:m.bool,label:m.string,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n}),null);
__d("EmbeddedVideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","shallowCompare"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume}}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return c("shallowCompare")(this,m,n)};l.prototype.componentWillReceiveProps=function(m){"use strict";this.setState({awaitingUpdate:false})};l.prototype.componentDidUpdate=function(m,n){"use strict";if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove()}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c("EventListener").listen(document,"mousemove",this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c("EventListener").listen(document,"mouseup",this.onMouseUp.bind(this))}};l.prototype.onMouseDown=function(m){"use strict";if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal)this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientX)});else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation()};l.prototype.getClampedClickPositionVolume=function(m){"use strict";var n=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.slider)),o=c("getElementPosition")(c("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width))}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height))}};l.prototype.onMouseUp=function(m){"use strict";this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation()};l.prototype.onMouseMove=function(m){"use strict";if(this.props.isHorizontal)this.setState({volume:this.getClampedClickPositionVolume(m.clientX)});else this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation()};l.prototype.getVolume=function(){"use strict";if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume};l.prototype.render=function(){"use strict";var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"},o="_2-ml"+(m?" _3cxz":"")+(this.state.engaged?" _gn1":"");return c("React").createElement("div",{className:o,onMouseDown:this.onMouseDown.bind(this)},c("React").createElement("div",{className:"_3ghu"},c("React").createElement("div",{className:"_2-mm",ref:"slider"},c("React").createElement("div",{className:"_2-mn",style:n},c("React").createElement("div",{className:"_2-mo _5ixx",ref:"nub"})))),c("React").createElement("div",{className:"_2-mp"}))};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l}),null);
__d("XBasicFBNuxDismissController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/megaphone/dismiss_fbnux/",{nux_id:{type:"Int",required:true}})}),null);
__d("SpatialAudioFeedNUX.react",["ix","fbt","cx","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k,l,m=i._("Experience more with Audio 360"),n=i._("Hear sound from all directions when you wear headphones"),o=4576;k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",o).getURI();new(c("AsyncRequest"))().setURI(r).send()}.bind(this);this.state={showNux:true}}p.prototype.render=function(){return c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:"auto"},c("React").createElement("div",{className:"_4r0v"},c("React").createElement("div",{className:"_4r0w"},c("React").createElement("div",{className:"_4r0x"},c("React").createElement(c("Image.react"),{src:h("114375")}))),c("React").createElement("div",{className:"_4r0y"},c("React").createElement(c("XUIText.react"),{size:"medium",className:"_4r0z"},m),c("React").createElement(c("XUIText.react"),{size:"small",className:"_4r0-"},n))))};f.exports=p}),null);
__d("EmbeddedVideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","VideoPlayerVolumeSettings","VideoWebDriverIDs","EmbeddedVideoVolumeSlider.react","fbglyph","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(p){"use strict";m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1}}o.prototype.shouldComponentUpdate=function(p,q){"use strict";return c("shallowCompare")(this,p,q)};o.prototype.onButtonClick=function(){"use strict";this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};o.prototype.onButtonFocus=function(){"use strict";this.setState({focused:true})};o.prototype.onButtonBlur=function(){"use strict";this.setState({focused:false})};o.prototype.onKeyDown=function(p){"use strict";var q=this.props.volume;if(p.keyCode===c("Keys").UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1}else if(p.keyCode===c("Keys").DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0}else return;this.onSliderVolumeChangeEnd(q)};o.prototype.onMouseOut=function(p){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};o.prototype.getVolume=function(){"use strict";if(this.props.isMuted)return 0;return this.props.volume};o.prototype.onSliderVolumeChangeBegin=function(){"use strict";var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(p)}};o.prototype.onSliderVolumeChangeEnd=function(p){"use strict";if(p>0){this.setState({lastVolumeBeforeMute:p});c("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p)}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted()}this.setState({nubEngaged:false})};o.prototype.onSliderVolumeChange=function(p){"use strict";if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p)};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){"use strict";this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0)};o.prototype.render=function(){"use strict";var p=Math.round(this.getVolume()*100),q=null;if(p==0)q=c("React").createElement(c("Image.react"),{className:"_5i0o",src:this.props.useDarkTheme?h("130161"):h("115743")});else{var r=null;if(p<=33)r=this.props.useDarkTheme?h("130155"):h("115737");else if(p<=66)r=this.props.useDarkTheme?h("130158"):h("115740");else r=this.props.useDarkTheme?h("130164"):h("115746");q=c("React").createElement("div",{className:"_44_"},c("React").createElement("div",{className:"_454"},c("React").createElement(c("Image.react"),{className:"_5i0o",src:r})))}var s="_3s02"+(this.state.nubEngaged?" _gn1":"")+(this.state.focused?" _4v4":""),t="_3u33 _3s03",u=!this.getVolume()?j._("Unmute"):j._("Mute"),v=c("React").createElement(c("EmbeddedVideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c("React").createElement(c("AbstractButton.react"),{className:t,"data-testid":c("VideoWebDriverIDs").MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}),x=this.props.showSpatialAudioNUX?c("React").createElement(c("SpatialAudioFeedNUX.react"),{contextRef:function(){return this.refs.button}.bind(this)}):null;if(this.props.isHorizontal)return c("React").createElement("div",{className:s},w,v,x);return c("React").createElement("div",{className:s},v,w,x)};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number,useDarkTheme:n.bool};o.defaultProps={useDarkTheme:false};f.exports=o}),null);
__d("EmbeddedVideoControls.react",["ix","cx","fbt","AbstractButton.react","BootloadedComponent.react","EmbeddedVideoFBIconControl.react","EmbeddedVideoFullscreenControl.react","JSResource","Image.react","EmbeddedVideoPlaybackControl.react","EmbeddedVideoPlaybackRateControl.react","EmbeddedVideoPlaybackTimer.react","React","EmbeddedVideoScrubber.react","EmbeddedVideoSidepaneToggleControl.react","TooltipData","EmbeddedVideoVolumeControl.react","VideoPlayerExperiments","fbglyph","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("React").PropTypes;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;function n(o){"use strict";l.constructor.call(this,o)}n.prototype.shouldComponentUpdate=function(o,p){"use strict";return c("shallowCompare")(this,o,p)};n.prototype.isHidden=function(){"use strict";return this.props.hidden};n.prototype.isTransparent=function(){"use strict";return this.props.transparent};n.prototype.render=function(){"use strict";var o=c("VideoPlayerExperiments").inlineSoundVisible,p="_2mbh"+(this.isHidden()?" _2mbi":"")+(this.isTransparent()&&!o?" _5744":""),q="_i5q"+(this.props.showSidePaneToggle?" _369t":"")+(this.props.useDarkTheme?" _3k_t":""),r="_2mbj _2mbk"+(this.isTransparent()&&o?" _5744":""),s="_2mbj _yaw"+(this.isTransparent()&&o?" _5744":""),t="_2mbj _2mbl"+(this.isTransparent()&&o?" _5744":""),u="_2mbj _4a9j"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _5744":""),v="_5rbl",w="_4lqt _4ubd",x="_4lqt _4ubd _3t0x"+(!this.props.isCommentAttachment?" hidden_elem":""),y=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var z=this.props.playbackPosition-this.props.playbackDuration;y=c("React").createElement(c("EmbeddedVideoPlaybackTimer.react"),{className:"_25e2"+(this.props.displayMilliseconds?" _5ziu":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:z,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})}var A=null,B=null,C=null,D=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c("VideoPlayerExperiments").redesign)C=c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("EmbeddedVideoSettingsControl.react").__setRef("EmbeddedVideoControls.react"),bootloadPlaceholder:c("React").createElement("span",null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isInline:this.props.isInline,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat});if(this.props.isLive)if(c("VideoPlayerExperiments").hlsButton)D=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoToHLSControl.react").__setRef("EmbeddedVideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"});var E=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&this.props.isInline){var F=c("React").createElement(c("Image.react"),{className:"_5i0o",src:h("115510")}),G=j._("Click to enlarge");E=c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(G,"above"),{className:"_3u33 _400z _1vek",image:F,label:G,labelIsHidden:true,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{var H=this.props.isFullscreen?j._("Click to exit fullscreen"):j._("Click to enter fullscreen");E=c("React").createElement(c("EmbeddedVideoFullscreenControl.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(H,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}var I=null;if(this.props.hasWatchAndScroll&&!this.props.isFullscreen)I=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoWatchAndScrollControl.react").__setRef("EmbeddedVideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX});var J=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)J=c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("span",null),bootloadLoader:c("JSResource")("EmbeddedVideoCastingControl.react").__setRef("EmbeddedVideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var K=null;if(c("VideoPlayerExperiments").embeddedPlayerEnhancements)K=this.props.permalinkURL?c("React").createElement(c("EmbeddedVideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var L=null;if(this.props.permalinkURL){L=c("React").createElement(c("Image.react"),{className:"_5i0o",src:h("114229")});K=c("React").createElement(c("AbstractButton.react"),{className:"_3u33",href:this.props.permalinkURL,image:L,label:j._("Open in a new tab"),labelIsHidden:true,ref:"button",tabIndex:"0",target:"_blank",type:"button"})}}var M=null,N=null,O=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){N=c("React").createElement(c("EmbeddedVideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var P=j._("Playback Rate");O=c("React").createElement(c("EmbeddedVideoPlaybackRateControl.react"),babelHelpers["extends"]({},c("TooltipData").propsFor(P,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber)M=c("React").createElement(c("EmbeddedVideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:"0",isInTahoe:this.props.isInTahoe})}var Q=null;if(this.props.showSidePaneToggle)Q=c("React").createElement(c("EmbeddedVideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"});var R=null;if(!this.props.hideGradient)R=c("React").createElement("div",{className:"_4lqu"+(this.isTransparent()?" _5744":"")});var S=c("React").createElement(c("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),T=null;if(this.props.useTwoRows){var U=c("React").createElement(c("EmbeddedVideoVolumeControl.react"),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:"0"});T=c("React").createElement("div",{className:x},c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r}),c("React").createElement("div",{className:s},M),c("React").createElement("div",{className:t},y))),c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r},N,O,U),c("React").createElement("div",{className:s}),c("React").createElement("div",{className:t},B,D,A,C,I,J,E,K))))}var V=null;if(c("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){var W=c("joinClasses")(p,c("VideoPlayerExperiments").embeddedPlayerEnhancements?"_3yhc":""),X=c("joinClasses")(p,"_2cor");V=c("React").createElement("div",{className:W},c("React").createElement("div",{className:v},c("React").createElement("div",{className:X},c("React").createElement("div",{className:r},N,O),c("React").createElement("div",{className:s},M),c("React").createElement("div",{className:t},y)),c("React").createElement("div",{className:p},c("React").createElement("div",{className:r}),c("React").createElement("div",{className:s}),c("React").createElement("div",{className:t},o||S,B,D,A,C,I,J,Q,E,K),c("React").createElement("div",{className:u},!o||S))))}else V=!this.props.useTwoRows||!this.props.isCommentAttachment?c("React").createElement("div",{className:w},c("React").createElement("div",{className:v},c("React").createElement("div",{className:p},c("React").createElement("div",{className:r},N,O),c("React").createElement("div",{className:s},M),c("React").createElement("div",{className:t},y,o||S,B,D,A,C,I,J,Q,E,K),c("React").createElement("div",{className:u},!o||S)))):null;return c("React").createElement("div",{className:q},R,V,T)};n.propTypes={allowFullscreen:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hidePlaybackScrubber:m.bool,hideRemainingTime:m.bool,hideGradient:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isEmbedded:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isSphericalVideo:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onSetVideoPlaybackRate:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaks:m.array,adBreaksDisableReasons:m.array,showSidePaneToggle:m.bool,showWNSNUX:m.bool,useDarkTheme:m.bool};n.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,hideSettings:false,hideGradient:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,isSphericalVideo:false,onSidePaneToggle:function o(){},onStartCast:function o(){},onStopCast:function o(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:false,showSidePaneToggle:false,showWNSNUX:false,transparent:false,useTwoRows:false,volume:0,useDarkTheme:false};f.exports=n}),null);
__d("Tahoe",[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h},set:function j(k){h=k}};f.exports=i}),null);
__d("VideoChainingCaller",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INTERNAL:"internal",WWW_FEED_PIVOTS:"www_feed_pivots",WWW_FEED_SNOWLIFT:"www_feed_snowlift",MISC_PHOTO_SET:"misc_photo_set",MOBILE:"mobile",SEARCH:"search",WWW_FEED_RHC:"www_feed_rhc",WWW_NOTIFICATION:"www_notification",WWW_PERMALINK:"www_permalink",WWW_PERMALINK_RHC:"www_permalink_rhc",WWW_PERMALINK_RHC_FROM_NOTIFICATION:"www_permalink_rhc_from_notification",MY_VIDEO_CHANNELS_ENT_QUERY:"my_video_channels_ent_query",TOP_FOLLOWED_VIDEO_CHANNELS_ENT_QUERY:"top_followed_video_channels_ent_query",BADGE:"badge",PAGINATION:"pagination",SUBTITLE:"subtitle",CHANNEL_VIEW_FROM_UNKNOWN:"channel_view_from_unknown",CHANNEL_VIEW_FROM_NEWSFEED:"channel_view_from_newsfeed",CHANNEL_VIEW_FROM_EXPLOREFEED:"channel_view_from_explorefeed",LIVE_INDEXER_FROM_EXPLOREFEED:"live_indexer_from_explorefeed",LIVE_INDEXER_FROM_NEWSFEED:"live_indexer_from_newsfeed",NN_INDEXER_FROM_NEWSFEED:"nn_indexer_from_newsfeed",CHANNEL_VIEW_FROM_SEARCH:"channel_view_from_search",CHANNEL_VIEW_FROM_NEWSFEED_PIVOT:"channel_view_from_newsfeed_pivot",NEWSFEED_PIVOT_INLINE:"newsfeed_pivot_inline",MOBILE_NEWSFEED_PIVOT_INLINE:"mobile_newsfeed_pivot_inline",CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION:"channel_view_from_page_call_to_action",CHANNEL_VIEW_FROM_PAGE_TIMELINE:"channel_view_from_page_timeline",CHANNEL_VIEW_FROM_PAGE_TIMELINE_FEATURED:"channel_view_from_page_timeline_featured",CHANNEL_VIEW_FROM_PAGE_VIDEO_TAB:"channel_view_from_page_video_tab",CHANNEL_VIEW_FROM_USER_TIMELINE:"channel_view_from_user_timeline",CHANNEL_VIEW_FROM_USER_VIDEO_TAB:"channel_view_from_user_video_tab",CHANNEL_VIEW_FROM_GROUP_TIMELINE:"channel_view_from_group_timeline",CHANNEL_VIEW_FROM_GROUP_VIDEO_TAB:"channel_view_from_group_video_tab",CHANNEL_VIEW_FROM_SAVED_STORY:"channel_view_from_saved_story",SAVED_STORY_INLINE:"saved_story_inline",CHANNEL_VIEW_FROM_SHARED_WITH_YOU_STORY:"channel_view_from_shared_with_you_story",SHARED_WITH_YOU_STORY_INLINE:"shared_with_you_story_inline",CHANNEL_VIEW_FROM_LATEST_FROM_YOUR_CHANNELS_STORY:"channel_view_from_latest_from_your_channels_story",LATEST_FROM_YOUR_CHANNELS_STORY_INLINE:"latest_from_your_channels_story_inline",CHANNEL_VIEW_FROM_CHANNEL_PIVOT:"channel_view_from_channel_pivot",CHANNEL_PIVOT_INLINE:"channel_pivot_inine",CHANNEL_VIEW_FROM_CHANNEL_RECOMMENDED_CHANNEL_STORY:"channel_view_from_recommended_channel_story",RECOMMENDED_CHANNEL_STORY_INLINE:"recommended_channel_story_inline",CHANNEL_VIEW_FROM_VIDEO_HOME:"channel_view_from_video_home",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CHANNEL_SEE_ALL:"video_home_channel_see_all",SOCIAL_PLAYER_UP_NEXT:"social_player_up_next",CHANNEL_VIEW_FROM_CASTING:"channel_view_from_casting",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_HERO:"video_home_hero",FEED_SURVEY_SWIPE:"feed_survey_swipe",FEED_PIVOTS_INLINE:"feed_pivots_inline",CHANNEL_VIEW_FROM_FEED_PIVOTS:"channel_view_from_feed_pivots",VIDEO_SETS_CACHE_REFRESH:"video_sets_cache_refresh",VIDEO_SETS_CACHE_CHECK:"video_sets_cache_check",DUMMY_STORY_RECOMMENDED_VIDEOS:"dummy_story_recommended_videos",DUMMY_STORY_FRIENDS_ENJOYING:"dummy_story_friends_enjoying",LIVE_EVENT_VIDEO_SET:"live_event_video_set",LIVE_VIDEOS_SET:"live_videos_set",SINGLE_CREATOR_VIDEO_SET:"single_creator_video_set",FRT_TOOL:"frt_tool",DUMMY_STORY_FRIENDS_ENJOYING_NOW:"dummy_story_friends_enjoying_now",DUMMY_STORY_DUMMY_ACTION:"dummy_story_dummy_action",OCULUS_VIDEO:"oculus_video",TRENDING_DEMOGRAPHICS_LIVE:"trending_demographics_live",LIVE_MAP:"live_map",UNCONNECTED_LIVE_VIDEO:"unconnected_live_video",PROFILE_VIDEO_GALLERY:"profile_video_gallery",CHANNEL_VIEW_FROM_PLAYLIST:"channel_view_from_playlist",OCULUS_SOCIAL_HUB:"oculus_social_hub",AKIRA:"akira",IS_LIVE_VIDEO_CHAINING:"is_live_video_chaining",TAHOE:"tahoe",SHOWS_COVER_TRAILER:"shows_cover_trailer",SHOWS_EPISODES_TAB:"shows_episodes_tab",SHOWS_PLAYLISTS_TAB:"shows_playlists_tab",SHOWS_HOME_TAB:"shows_home_tab",SHOWS_MORE_VIDEOS_TAB:"shows_more_videos_tab",WNS:"wns",EXPLORE_FEED_DEEP_DIVE:"explore_feed_deep_dive"})}),null);
__d("DOMContainer.react",["invariant","React","ReactDOM","isNode"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.getDOMChild=function(){var r=this.props.children;c("isNode")(r)||h(0);return r}.bind(this),n}l.prototype.shouldComponentUpdate=function(m,n){"use strict";return m.children!==this.props.children};l.prototype.componentDidMount=function(){"use strict";c("ReactDOM").findDOMNode(this).appendChild(this.getDOMChild())};l.prototype.componentDidUpdate=function(){"use strict";var m=c("ReactDOM").findDOMNode(this);while(m.lastChild)m.removeChild(m.lastChild);m.appendChild(this.getDOMChild())};l.prototype.render=function(){"use strict";if(this.props.display==="block")return c("React").createElement("div",this.props,undefined);return c("React").createElement("span",this.props,undefined)};l.propTypes={display:k.oneOf(["inline","block"])};l.defaultProps={display:"inline"};f.exports=l}),18);
__d("getVendorPrefixedEventName",["fbjs/lib/ExecutionEnvironment"],(function a(b,c,d,e,f,g){"use strict";function h(m,n){var o={};o[m.toLowerCase()]=n.toLowerCase();o["Webkit"+m]="webkit"+n;o["Moz"+m]="moz"+n;o["ms"+m]="MS"+n;o["O"+m]="o"+n.toLowerCase();return o}var i={animationend:h("Animation","AnimationEnd"),animationiteration:h("Animation","AnimationIteration"),animationstart:h("Animation","AnimationStart"),transitionend:h("Transition","TransitionEnd")},j={},k={};if(c("fbjs/lib/ExecutionEnvironment").canUseDOM){k=document.createElement("div").style;if(!("AnimationEvent"in window)){delete i.animationend.animation;delete i.animationiteration.animation;delete i.animationstart.animation}if(!("TransitionEvent"in window))delete i.transitionend.transition}function l(m){if(j[m])return j[m];else if(!i[m])return m;var n=i[m];for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&o in k)return j[m]=n[o];return""}f.exports=l}),null);
__d("ReactTransitionEvents",["fbjs/lib/ExecutionEnvironment","getVendorPrefixedEventName"],(function a(b,c,d,e,f,g){"use strict";var h=[];function i(){var m=c("getVendorPrefixedEventName")("animationend"),n=c("getVendorPrefixedEventName")("transitionend");if(m)h.push(m);if(n)h.push(n)}if(c("fbjs/lib/ExecutionEnvironment").canUseDOM)i();function j(m,n,o){m.addEventListener(n,o,false)}function k(m,n,o){m.removeEventListener(n,o,false)}var l={addEndEventListener:function m(n,o){if(h.length===0){window.setTimeout(o,0);return}h.forEach(function(p){j(n,p,o)})},removeEndEventListener:function m(n,o){if(h.length===0)return;h.forEach(function(p){k(n,p,o)})}};f.exports=l}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("CSSCore")}),null);
__d("ReactCSSTransitionGroupChild",["React","ReactDOM","ReactTransitionEvents","fbjs/lib/CSSCore"],(function a(b,c,d,e,f,g){"use strict";var h=17,i=c("React").createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:c("React").PropTypes.oneOfType([c("React").PropTypes.string,c("React").PropTypes.shape({enter:c("React").PropTypes.string,leave:c("React").PropTypes.string,active:c("React").PropTypes.string}),c("React").PropTypes.shape({enter:c("React").PropTypes.string,enterActive:c("React").PropTypes.string,leave:c("React").PropTypes.string,leaveActive:c("React").PropTypes.string,appear:c("React").PropTypes.string,appearActive:c("React").PropTypes.string})]).isRequired,appear:c("React").PropTypes.bool,enter:c("React").PropTypes.bool,leave:c("React").PropTypes.bool,appearTimeout:c("React").PropTypes.number,enterTimeout:c("React").PropTypes.number,leaveTimeout:c("React").PropTypes.number},transition:function j(k,l,m){var n=c("ReactDOM").findDOMNode(this);if(!n){if(l)l();return}var o=this.props.name[k]||this.props.name+"-"+k,p=this.props.name[k+"Active"]||o+"-active",q=null,r=function r(s){if(s&&s.target!==n)return;clearTimeout(q);c("fbjs/lib/CSSCore").removeClass(n,o);c("fbjs/lib/CSSCore").removeClass(n,p);c("ReactTransitionEvents").removeEndEventListener(n,r);if(l)l()};c("fbjs/lib/CSSCore").addClass(n,o);this.queueClassAndNode(p,n);if(m){q=setTimeout(r,m);this.transitionTimeouts.push(q)}else c("ReactTransitionEvents").addEndEventListener(n,r)},queueClassAndNode:function j(k,l){this.classNameAndNodeQueue.push({className:k,node:l});if(!this.timeout)this.timeout=setTimeout(this.flushClassNameAndNodeQueue,h)},flushClassNameAndNodeQueue:function j(){if(this.isMounted())this.classNameAndNodeQueue.forEach(function(k){c("fbjs/lib/CSSCore").addClass(k.node,k.className)});this.classNameAndNodeQueue.length=0;this.timeout=null},componentWillMount:function j(){this.classNameAndNodeQueue=[];this.transitionTimeouts=[]},componentWillUnmount:function j(){if(this.timeout)clearTimeout(this.timeout);this.transitionTimeouts.forEach(function(k){clearTimeout(k)});this.classNameAndNodeQueue.length=0},componentWillAppear:function j(k){if(this.props.appear)this.transition("appear",k,this.props.appearTimeout);else k()},componentWillEnter:function j(k){if(this.props.enter)this.transition("enter",k,this.props.enterTimeout);else k()},componentWillLeave:function j(k){if(this.props.leave)this.transition("leave",k,this.props.leaveTimeout);else k()},render:function j(){return c("React").Children.only(this.props.children)}});f.exports=i}),null);
__d("ReactTransitionChildMapping",["React","emptyFunction","warning"],(function a(b,c,d,e,f,g){"use strict";var h=c("emptyFunction"),i={getChildMapping:function j(k){if(!k)return k;var l={};c("React").Children.toArray(k).forEach(function(m){var n=m.key,o=l[n]===undefined;if(o)l[n]=m});return l},mergeChildMappings:function j(k,l){k=k||{};l=l||{};function m(u){if(Object.prototype.hasOwnProperty.call(l,u))return l[u];else return k[u]}var n={},o=[];for(var p in k)if(Object.prototype.hasOwnProperty.call(l,p)){if(o.length){n[p]=o;o=[]}}else o.push(p);var q,r={};for(var s in l){if(Object.prototype.hasOwnProperty.call(n,s))for(q=0;q<n[s].length;q++){var t=n[s][q];r[n[s][q]]=m(t)}r[s]=m(s)}for(q=0;q<o.length;q++)r[o[q]]=m(o[q]);return r}};f.exports=i}),null);
__d("ReactTransitionGroup",["React","ReactTransitionChildMapping","fbjs/lib/emptyFunction"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.state={children:c("ReactTransitionChildMapping").getChildMapping(this.props.children)},this.performAppear=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillAppear)q.componentWillAppear(this.$ReactTransitionGroup1.bind(this,p));else this.$ReactTransitionGroup1(p)}.bind(this),this.$ReactTransitionGroup1=function(p){var q=this.refs[p];if(q.componentDidAppear)q.componentDidAppear();delete this.currentlyTransitioningKeys[p];var r=c("ReactTransitionChildMapping").getChildMapping(this.props.children);if(!r||!Object.prototype.hasOwnProperty.call(r,p))this.performLeave(p)}.bind(this),this.performEnter=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillEnter)q.componentWillEnter(this.$ReactTransitionGroup2.bind(this,p));else this.$ReactTransitionGroup2(p)}.bind(this),this.$ReactTransitionGroup2=function(p){var q=this.refs[p];if(q.componentDidEnter)q.componentDidEnter();delete this.currentlyTransitioningKeys[p];var r=c("ReactTransitionChildMapping").getChildMapping(this.props.children);if(!r||!Object.prototype.hasOwnProperty.call(r,p))this.performLeave(p)}.bind(this),this.performLeave=function(p){this.currentlyTransitioningKeys[p]=true;var q=this.refs[p];if(q.componentWillLeave)q.componentWillLeave(this.$ReactTransitionGroup3.bind(this,p));else this.$ReactTransitionGroup3(p)}.bind(this),this.$ReactTransitionGroup3=function(p){var q=this.refs[p];if(q.componentDidLeave)q.componentDidLeave();delete this.currentlyTransitioningKeys[p];var r=c("ReactTransitionChildMapping").getChildMapping(this.props.children);if(r&&Object.prototype.hasOwnProperty.call(r,p))this.performEnter(p);else this.setState(function(s){var t=Object.assign({},s.children);delete t[p];return{children:t}})}.bind(this),l}j.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={};this.keysToEnter=[];this.keysToLeave=[]};j.prototype.componentDidMount=function(){var k=this.state.children;for(var l in k)if(k[l])this.performAppear(l)};j.prototype.componentWillReceiveProps=function(k){var l=c("ReactTransitionChildMapping").getChildMapping(k.children),m=this.state.children;this.setState({children:c("ReactTransitionChildMapping").mergeChildMappings(m,l)});var n;for(n in l){var o=m&&Object.prototype.hasOwnProperty.call(m,n);if(l[n]&&!o&&!this.currentlyTransitioningKeys[n])this.keysToEnter.push(n)}for(n in m){var p=l&&Object.prototype.hasOwnProperty.call(l,n);if(m[n]&&!p&&!this.currentlyTransitioningKeys[n])this.keysToLeave.push(n)}};j.prototype.componentDidUpdate=function(){var k=this.keysToEnter;this.keysToEnter=[];k.forEach(this.performEnter);var l=this.keysToLeave;this.keysToLeave=[];l.forEach(this.performLeave)};j.prototype.render=function(){var k=[];for(var l in this.state.children){var m=this.state.children[l];if(m)k.push(c("React").cloneElement(this.props.childFactory(m),{ref:l,key:l}))}var n=Object.assign({},this.props);delete n.transitionLeave;delete n.transitionName;delete n.transitionAppear;delete n.transitionEnter;delete n.childFactory;delete n.transitionLeaveTimeout;delete n.transitionEnterTimeout;delete n.transitionAppearTimeout;delete n.component;return c("React").createElement(this.props.component,n,k)};j.displayName="ReactTransitionGroup";j.propTypes={component:c("React").PropTypes.any,childFactory:c("React").PropTypes.func};j.defaultProps={component:"span",childFactory:c("fbjs/lib/emptyFunction").thatReturnsArgument};f.exports=j}),null);
__d("ReactCSSTransitionGroup",["React","ReactCSSTransitionGroupChild","ReactTransitionGroup"],(function a(b,c,d,e,f,g){"use strict";var h,i;function j(l){var m="transition"+l+"Timeout",n="transition"+l;return function(o){if(o[n])if(o[m]==null)return new Error(m+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");else if(typeof o[m]!=="number")return new Error(m+" must be a number (in milliseconds)")}}h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ReactCSSTransitionGroup1=function(q){return c("React").createElement(c("ReactCSSTransitionGroupChild"),{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},q)}.bind(this),m}k.prototype.render=function(){return c("React").createElement(c("ReactTransitionGroup"),Object.assign({},this.props,{childFactory:this.$ReactCSSTransitionGroup1}))};k.displayName="ReactCSSTransitionGroup";k.propTypes={transitionName:c("ReactCSSTransitionGroupChild").propTypes.name,transitionAppear:c("React").PropTypes.bool,transitionEnter:c("React").PropTypes.bool,transitionLeave:c("React").PropTypes.bool,transitionAppearTimeout:j("Appear"),transitionEnterTimeout:j("Enter"),transitionLeaveTimeout:j("Leave")};k.defaultProps={transitionAppear:false,transitionEnter:true,transitionLeave:true};f.exports=k}),null);
__d("XVideoWnsUpNextAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/wns/upnext/async/{video_id}/",{video_id:{type:"FBID",required:true},viewed_videos:{type:"FBIDSet"}})}),null);
__d("VideoWatchAndScrollDrawer.react",["csx","cx","AsyncRequest","DOM","DOMContainer.react","React","XVideoWnsUpNextAsyncController"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.state={upNext:null}}l.prototype.componentDidMount=function(){"use strict";if(this.props.videoID)this.$VideoWatchAndScrollDrawer2(this.props.videoID)};l.prototype.componentWillUnmount=function(){"use strict";this.$VideoWatchAndScrollDrawer1&&this.$VideoWatchAndScrollDrawer1.abort()};l.prototype.$VideoWatchAndScrollDrawer2=function(m){"use strict";var n=c("XVideoWnsUpNextAsyncController").getURIBuilder().setFBID("video_id",m).setFBIDSet("viewed_videos",this.props.viewedVideos);this.$VideoWatchAndScrollDrawer1=new(c("AsyncRequest"))(n.getURI());this.$VideoWatchAndScrollDrawer1.setHandler(function(o){var p=o.getPayload(),q=p.upNextUnit&&p.upNextUnit.markup;if(q){var r=c("DOM").create("div",{},q),s=c("DOM").scry(r,"._3iqr");if(s.length){this.setState({upNext:r});this.props.onLoadUpNext(r)}}}.bind(this)).send()};l.prototype.render=function(){"use strict";var m=null;if(!this.state.upNext)return null;m=c("React").createElement(c("DOMContainer.react"),null,this.state.upNext);return c("React").createElement("div",{className:"_3rq1 _60a7 _2tyk"},c("React").createElement("div",{className:"_3652"},c("React").createElement("div",{className:"_3653"},"Up Next")),m)};f.exports=l}),null);
__d("VideoWatchAndScrollEndScreen.react",["ix","fbt","cx","Image.react","PopoverMenu.react","React","ReactXUIMenu","ShimButton.react","TooltipData","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c("VideoPlayerExperiments").showWNSClose,n=c("React").PropTypes,o=function o(s){var t=s.onClose;return c("React").createElement(c("ShimButton.react"),{className:"_3r7h",onClick:t},c("React").createElement(c("Image.react"),{src:h("114710")}))},p=function p(s){var t=s.onCollapse;return c("React").createElement("div",babelHelpers["extends"]({className:"_1dtq",onClick:t,role:"button",tabIndex:"1"},c("TooltipData").propsFor(i._("Collapse Video"))),c("React").createElement(c("Image.react"),{src:h("115705")}))},q=function q(s){var t=s.onClose,u=c("React").createElement(c("ReactXUIMenu"),{onItemClick:function v(w,x){var y=x.item;if(y.getValue()==="close")t()}},c("React").createElement(c("ReactXUIMenu").Item,{value:"close"},"Close"));return c("React").createElement(c("PopoverMenu.react"),{className:"_ivg",menu:u},c("React").createElement("a",{href:"#"},c("React").createElement(c("Image.react"),{src:h("114186")})))};k=babelHelpers.inherits(r,c("React").Component);l=k&&k.prototype;r.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_5qdn _2se8"+(this.props.fadeOut?" _2gud":"")+" _1s-2"},c("React").createElement("div",{className:"_1szz _2se8"},c("React").createElement("div",{className:"_1szy _ww8",onClick:this.props.onReplay,role:"presentation"},c("React").createElement(c("VideoChannelProgressCircle.react"),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:true},c("React").createElement(c("VideoChannelReplayImage.react"),{size:"small"})))),c("React").createElement("div",{className:"_ivh"},m?null:c("React").createElement(q,{onClose:this.props.onClose}),c("React").createElement(p,{onCollapse:this.props.onCollapse}),m?c("React").createElement(o,{onClose:this.props.onClose}):null))};function r(){"use strict";k.apply(this,arguments)}r.propTypes={endScreenDuration:n.number.isRequired,fadeOut:n.bool,makeProgress:n.bool.isRequired,onReplay:n.func.isRequired,onClose:n.func.isRequired};f.exports=r}),null);
__d("cancelAnimationFramePolyfill",[],(function a(b,c,d,e,f,g){var h=b.cancelAnimationFrame&&b.cancelAnimationFrame.nativeBackup||b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.clearTimeout;f.exports=h}),null);
__d("cancelAnimationFrame",["TimerStorage","TimeSliceReferenceCounting","cancelAnimationFramePolyfill"],(function a(b,c,d,e,f,g){var h=c("TimerStorage").ANIMATION_FRAME;f.exports=function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];c("TimerStorage").unset(h,j[0]);var l=h+j[0];if(j[0]!=null&&c("TimeSliceReferenceCounting").isValidCancellationToken(l))c("TimeSliceReferenceCounting").cancelTimeSlice(l);return Function.prototype.apply.call(c("cancelAnimationFramePolyfill"),b,j)}}),18);
__d("shouldWNSRenderToRHC",["ge"],(function a(b,c,d,e,f,g){"use strict";function h(){return!!c("ge")("fbRHCVideoWNS-container")}f.exports=h}),null);
__d("VideoWatchAndScrollContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMContainer.react","DOMDimensions","Event","Locale","Parent","React","ReactCSSTransitionGroup","Rect","SubscriptionsHandler","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","VideoWatchAndScrollDrawer.react","VideoWatchAndScrollEndScreen.react","cancelAnimationFrame","getViewportDimensions","requestAnimationFrame","setTimeoutAcrossTransitions","shallowCompare","shouldWNSRenderToRHC","throttle"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k,l=c("React").PropTypes,m=10,n=230,o=476,p=300,q=2e3,r=c("VideoPlayerExperiments").endScreenDuration,s={NW:"nw",NE:"ne",SE:"se",SW:"sw"};j=babelHelpers.inherits(t,c("React").Component);k=j&&j.prototype;function t(u,v){k.constructor.call(this,u,v);this.state=this.$VideoWatchAndScrollContainer3(this.props)}t.prototype.$VideoWatchAndScrollContainer3=function(u){var v=this.$VideoWatchAndScrollContainer4(),w=this.$VideoWatchAndScrollContainer5(this.props.initialPosition,v);return{channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:v,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:false,endScreenShown:false,fadeOut:false,fadeOutPlaceholder:null,hasDrawer:false,height:w.height,left:w.left,playbackFinished:false,overlayShown:false,resizeDirection:null,showDrawer:false,timeUntilNext:0,top:w.top,width:w.width,videoIndex:0}};t.prototype.shouldComponentUpdate=function(u,v){return!this.state.fadeOut&&c("shallowCompare")(this,u,v)};t.prototype.componentDidUpdate=function(u,v){if(!v)return;if(!v.dragging&&this.state.dragging){this.documentSubscriptions=new(c("SubscriptionsHandler"))();this.documentSubscriptions.addSubscriptions(c("Event").listen(document,"mousemove",this.$VideoWatchAndScrollContainer6.bind(this)),c("Event").listen(document,"mouseup",this.$VideoWatchAndScrollContainer7.bind(this)))}else if(v.dragging&&!this.state.dragging)this.documentSubscriptions.release();if(v.playbackFinished!==this.state.playbackFinished&&this.state.playbackFinished&&this.state.timeUntilNext){clearTimeout(this.$VideoWatchAndScrollContainer2);this.$VideoWatchAndScrollContainer8();this.$VideoWatchAndScrollContainer2=c("setTimeoutAcrossTransitions")(function(){this.props.onPlayNext()}.bind(this),this.state.timeUntilNext*1e3)}var w=["._23if","._23ig","._452w","._2i7a"],x=v.channelVideoElements||[];this.state.channelVideoElements.forEach(function(y){if(x.indexOf(y)!==-1)return;w.forEach(function(B){var C=c("DOM").scry(y,B),D=C[0];if(D)c("CSS").hide(D)});var z=c("DOM").scry(y,"._3pay"),A=z[0];if(A){c("CSS").removeClass(A,"_3pay");c("CSS").addClass(A,"_2337")}})};t.prototype.componentDidMount=function(){this.movementListeners=new(c("SubscriptionsHandler"))();this.movementListeners.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(this.$VideoWatchAndScrollContainer9.bind(this),100)),c("Arbiter").subscribe("sidebar/visibility",c("throttle")(this.$VideoWatchAndScrollContainer9.bind(this),100)))};t.prototype.componentWillUnmount=function(){if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.movementListeners)this.movementListeners.release();this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer2&&clearTimeout(this.$VideoWatchAndScrollContainer2)};t.prototype.getFadeOutStatus=function(){return this.state.fadeOut};t.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements};t.prototype.$VideoWatchAndScrollContainer9=function(){var u=this.$VideoWatchAndScrollContainer4(),v=this.$VideoWatchAndScrollContainer5({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},u);this.setState({containerBoundingBox:u,height:v.height,left:v.left,top:v.top,width:v.width})};t.prototype.$VideoWatchAndScrollContainer10=function(u,event){this.$VideoWatchAndScrollContainer11(event,u)};t.prototype.$VideoWatchAndScrollContainer12=function(event){if(c("Parent").bySelector(event.target,"._5-32")||!c("Parent").bySelector(event.target,"._3t-6"))return;this.$VideoWatchAndScrollContainer11(event,null)};t.prototype.$VideoWatchAndScrollContainer13=function(event){return event.button!==0||c("Parent").bySelector(event.target,"._3t-6")||c("Parent").bySelector(event.target,"._2se8")};t.prototype.$VideoWatchAndScrollContainer14=function(event){if(this.$VideoWatchAndScrollContainer13(event))return;this.props.onClick&&this.props.onClick()};t.prototype.$VideoWatchAndScrollContainer15=function(event){if(this.$VideoWatchAndScrollContainer13(event))return;this.props.onDoubleClick&&this.props.onDoubleClick()};t.prototype.$VideoWatchAndScrollContainer11=function(event,u){var v=event.button,w=event.target;if(v!==0)return;if(c("Parent").bySelector(w,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer4(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:u});event.preventDefault()};t.prototype.$VideoWatchAndScrollContainer4=function(){var u=0,v=c("DOM").scry(document.body,".fbChatSidebar");if(v.length===1)u=c("DOMDimensions").getElementDimensions(v[0]).width;var w=c("getViewportDimensions").withoutScrollbars(),x=43+m,y=w.height-m,z=m,A=w.width-m;if(c("Locale").isRTL())z+=u;else A-=u;return new(c("Rect"))(x,A,y,z)};t.prototype.$VideoWatchAndScrollContainer5=function(u,v){var w=new(c("Rect"))(u.top,u.left+u.width,u.top+u.height,u.left);w=w.boundWithin(v);return{height:w.h(),left:w.getLeft(),top:w.getTop(),width:w.w()}};t.prototype.$VideoWatchAndScrollContainer16=function(u,v,w){var x=u.top,y=v.getTop(),z=y-x;if(z>0){if(w===s.NE||w===s.NW)u.height-=z;u.top=y}var A=u.left,B=v.getLeft(),C=B-A;if(C>0){if(w===s.NW||w===s.SW)u.width-=C;u.left=B}var D=u.top+u.height,E=v.getTop()+v.h(),F=D-E;if(F>0)u.height=E-u.top;var G=u.left+u.width,H=v.getLeft()+v.w(),I=G-H;if(I>0)u.width=H-u.left};t.prototype.$VideoWatchAndScrollContainer17=function(u,v,w){if(u.width<n){if(w===s.NW||w===s.SW)u.left-=n-u.width;u.width=n}if(u.height<n){if(w===s.NE||w===s.NW)u.top-=n-u.height;u.height=n}};t.prototype.$VideoWatchAndScrollContainer18=function(u,v,w){if(u.width>o){if(w===s.NW||w===s.SW)u.left+=u.width-o;u.width=o}if(u.height>o){if(w===s.NE||w===s.NW)u.top+=u.height-o;u.height=o}};t.prototype.$VideoWatchAndScrollContainer19=function(u,v,w){var x=u.width/u.height,y=v.width/v.height;if(x>y){var z=u.height*y,A=u.height;if(z<n){A*=n/z;z=n;if(w===s.NE||w===s.NW)u.top+=u.height-A}if(w===s.NW||w===s.SW)u.left+=u.width-z;u.width=z;u.height=A}else if(x<y){var B=u.width/y;if(w===s.NE||w===s.NW)u.top+=u.height-B;u.height=B}};t.prototype.$VideoWatchAndScrollContainer20=function(u,v,w,x){this.$VideoWatchAndScrollContainer16(u,w,x);this.$VideoWatchAndScrollContainer17(u,v,x);this.$VideoWatchAndScrollContainer18(u,v,x);this.$VideoWatchAndScrollContainer19(u,v,x);return{height:u.height,left:u.left,top:u.top,width:u.width}};t.prototype.$VideoWatchAndScrollContainer6=function(event){c("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=c("requestAnimationFrame")(this.$VideoWatchAndScrollContainer21.bind(this,event))};t.prototype.$VideoWatchAndScrollContainer22=function(u){if(u.height!==this.state.height||u.width!==this.state.width)this.props.onInitialPositionUpdate(u)};t.prototype.$VideoWatchAndScrollContainer21=function(event){if(!this.state.dragging)return;var u=event.screenX-this.state.draggingStartMousePositionX,v=event.screenY-this.state.draggingStartMousePositionY,w=this.state.resizeDirection,x=void 0;if(!w){x=this.$VideoWatchAndScrollContainer5({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+u,top:this.state.draggingStartTop+v,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.$VideoWatchAndScrollContainer22(x);this.setState({height:x.height,left:x.left,top:x.top,width:x.width})}else{var y=this.state.draggingStartHeight,z=this.state.draggingStartLeft,A=this.state.draggingStartTop,B=this.state.draggingStartWidth;if(w===s.NE||w===s.SE)B+=u;if(w===s.NW||w===s.SW){z+=u;B-=u}if(w===s.SE||w===s.SW)y+=v;if(w===s.NE||w===s.NW){A+=v;y-=v}x=this.$VideoWatchAndScrollContainer20({height:y,left:z,top:A,width:B},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,w);this.$VideoWatchAndScrollContainer22(x);this.setState({height:x.height,left:x.left,top:x.top,width:x.width})}event.preventDefault()};t.prototype.$VideoWatchAndScrollContainer7=function(event){c("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault()};t.prototype.$VideoWatchAndScrollContainer23=function(){this.$VideoWatchAndScrollContainer8()};t.prototype.$VideoWatchAndScrollContainer24=function(){clearTimeout(this.$VideoWatchAndScrollContainer2);this.setState({playbackFinished:false});this.props.onReplay()};t.prototype.$VideoWatchAndScrollContainer8=function(){if(this.$VideoWatchAndScrollContainer1)clearTimeout(this.$VideoWatchAndScrollContainer1);else this.setState({showDrawer:true});this.$VideoWatchAndScrollContainer1=c("setTimeoutAcrossTransitions")(function(){this.setState({showDrawer:false});this.$VideoWatchAndScrollContainer1=null}.bind(this),q)};t.prototype.$VideoWatchAndScrollContainer25=function(u,v){if(u>this.state.channelVideoElements.length)return null;var w=this.state.channelVideoElements[u];if(!w)return null;return c("React").createElement("div",{className:"_2yq3"+(v==="left"?" _2yq4":"")+(v==="center"?" _2yq5":"")+(v==="right"?" _2yq6":""),key:w.id},c("React").createElement(c("DOMContainer.react"),null,w))};t.prototype.$VideoWatchAndScrollContainer26=function(){if(c("shouldWNSRenderToRHC")())return[];return[c("React").createElement("div",{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer10.bind(this,s.NW),key:s.NW}),c("React").createElement("div",{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer10.bind(this,s.NE),key:s.NE}),c("React").createElement("div",{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer10.bind(this,s.SE),key:s.SE}),c("React").createElement("div",{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer10.bind(this,s.SW),key:s.SW})]};t.prototype.getWidth=function(){return this.state.width};t.prototype.onLoadUpNext=function(u){this.props.onLoadUpNext(u);this.setState({hasDrawer:true});this.$VideoWatchAndScrollContainer8()};t.prototype.canPlayAnotherVideo=function(){var u=this.state.channelVideoElements;return this.state.videoIndex<u.length-1};t.prototype.render=function(){var u=null;if(!this.props.isDrawerEnabled)u={height:Math.round(this.state.height)+"px",left:this.state.left+"px",top:this.state.top+"px",width:Math.round(this.state.width)+"px"};var v=this.state.channelVideoElements,w=v[this.state.videoIndex];if(w){c("CSS").addClass(w,"_1kfp");c("CSS").conditionClass(w,"_1blk",this.state.width<p)}var x=null;if(this.state.endScreenShown)x=c("React").createElement(c("VideoWatchAndScrollEndScreen.react"),{endScreenDuration:r/1e3,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer2);this.$VideoWatchAndScrollContainer2=null;this.props.onClose()}.bind(this),onCollapse:this.props.onCollapse});var y=null;if(this.state.fadeOutPlaceholder)y=c("React").createElement(c("DOMContainer.react"),null,this.state.fadeOutPlaceholder);else y=c("React").createElement("ul",{className:"_2yq7"},v.map(function(B,C){if(C>this.state.videoIndex+1||C<this.state.videoIndex-1)c("CSS").removeClass(B,"_1kfp");if(C<=this.state.videoIndex+1)return null;return c("React").createElement("li",{key:B.id},c("React").createElement(c("DOMContainer.react"),null,B))}.bind(this)));var z=null;if(this.state.playbackFinished)z=c("React").createElement("div",{role:"presentation",onClick:this.$VideoWatchAndScrollContainer24.bind(this),className:"_1szy _ww8"},c("React").createElement(c("VideoChannelProgressCircle.react"),{makeProgress:!!this.state.timeUntilNext,timeoutSec:this.state.timeUntilNext,watchAndScroll:true},c("React").createElement(c("VideoChannelReplayImage.react"),{size:"small"})));var A=null;if(this.props.isDrawerEnabled)A=c("React").createElement(c("VideoWatchAndScrollDrawer.react"),{videoID:this.props.videoID,viewedVideos:this.props.viewedVideos,onLoadUpNext:this.onLoadUpNext.bind(this)});return c("React").createElement(c("ReactCSSTransitionGroup"),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_tie",appearActive:"_tik"}},c("React").createElement("div",{className:"_360g"+(this.state.showDrawer?" _hzi":"")+(this.state.fadeOut?" _473b":"")+(this.state.hasDrawer?" _60a6":"")+(this.props.isLiveVideo()?" _29mh":""),onMouseMove:this.$VideoWatchAndScrollContainer23.bind(this),style:u},c("React").createElement("div",{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer14.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer15.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer12.bind(this),role:"presentation"},c("React").createElement("div",{className:"_hzj"},this.$VideoWatchAndScrollContainer25(this.state.videoIndex-1,"left"),this.$VideoWatchAndScrollContainer25(this.state.videoIndex,"center"),this.$VideoWatchAndScrollContainer25(this.state.videoIndex+1,"right"),z),A),this.$VideoWatchAndScrollContainer26(),y))};t.propTypes={initialPosition:l.object.isRequired,initialVideoElement:l.instanceOf(HTMLElement).isRequired,onChannelNavigation:l.func.isRequired,onClick:l.func.isRequired,onClose:l.func.isRequired,onDoubleClick:l.func.isRequired,onDrop:l.func.isRequired,onGrab:l.func.isRequired,onInitialPositionUpdate:l.func.isRequired,onReplay:l.func.isRequired};f.exports=t}),null);
__d("XVideoWNSSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/wns_survey/",{__asyncDialog:{type:"Int"}})}),null);
__d("VideoWatchAndScrollController",["csx","cx","invariant","Arbiter","AsyncRequest","Bootloader","CSS","DOM","DOMDimensions","Event","EventListener","Locale","React","ReactDOM","Set","SubscriptionsHandler","Tahoe","VideoAutoplayControllerX","VideoChainingCaller","VideoChannelLogger","VideoChannelStoryFetcher","VideoFrameBuffer","VideoPlayerExperiments","VideoPlayerShakaExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerStates","VideoPlayerVolumeSettings","ViewportBounds","VideoWatchAndScrollContainer.react","VideoWatchAndScrollVariables","XVideoWNSSurveyController","cancelAnimationFrame","destroyOnUnload","getViewportDimensions","ifRequired","setTimeoutAcrossTransitions","shouldWNSRenderToRHC","throttle"],(function a(b,c,d,e,f,g,h,i,j){var k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=[c("VideoPlayerReason").AUTOPLAY,c("VideoPlayerReason").PAGE_VISIBILITY],s=750,t=308,u=3,v=null,w=c("VideoPlayerExperiments").persistentWNSEnabled;function x(){return Math.max(c("getViewportDimensions")().height,400)-n-80}function y(z,A,B,C){var D;"use strict";this.$VideoWatchAndScrollController31=new(c("SubscriptionsHandler"))();this.$VideoWatchAndScrollController32=new(c("SubscriptionsHandler"))();this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController35=B;this.$VideoWatchAndScrollController38=false;this.$VideoWatchAndScrollController30=false;this.$VideoWatchAndScrollController48=C;this.$VideoWatchAndScrollController49=C;this.$VideoWatchAndScrollController34=new(c("VideoChannelStoryFetcher"))(A,z,this.$VideoWatchAndScrollController35,null);this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController40=[];this.$VideoWatchAndScrollController5=k;this.$VideoWatchAndScrollController6=l;this.$VideoWatchAndScrollController10=window.document.getElementById("leftCol");this.$VideoWatchAndScrollController11=window.document.getElementById("rightCol");this.$VideoWatchAndScrollController12=window.document.getElementById("pagelet_bluebar");this.$VideoWatchAndScrollController44={};this.$VideoWatchAndScrollController47=null;this.$VideoWatchAndScrollController52();(D=this.$VideoWatchAndScrollController31).addSubscriptions.apply(D,this.$VideoWatchAndScrollController53());if(!w)c("destroyOnUnload")(function(){this.$VideoWatchAndScrollController54();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController55();if(this.$VideoWatchAndScrollController31)this.$VideoWatchAndScrollController31.release();if(this===v)v=null}.bind(this))}y.prototype.$VideoWatchAndScrollController53=function(){var z,A=this;"use strict";var B=[];B.push(c("Arbiter").subscribe("VideoChannelView/opened",function(C,D){if(this.$VideoWatchAndScrollController4&&(!D.controller||this.$VideoWatchAndScrollController16!==D.controller))this.$VideoWatchAndScrollController55()}.bind(this)));B.push(c("Arbiter").subscribe("fbVideoWatchAndScroll/closeWNS",function(){if(!this.$VideoWatchAndScrollController4)return;var C=this.$VideoWatchAndScrollController16,D=C.getOption("CommercialBreakVideoAdOverlay","videoController");if(D)C=D;C.logEvent(c("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_EXITED);this.$VideoWatchAndScrollController56();var E=c("XVideoWNSSurveyController").getURIBuilder().getURI(),F=new(c("AsyncRequest"))().setURI(E);F.send()}.bind(this)));if(c("VideoPlayerExperiments").rhcWNSEnabled){B.push(c("Arbiter").subscribe("RHCVideoWNSController/collapseStart",function(){var C=this.$VideoWatchAndScrollController14;if(!C||!c("shouldWNSRenderToRHC")())return;C.setState({endScreenFadeOut:true,endScreenShown:false})}.bind(this)),c("Arbiter").subscribe("RHCVideoWNSController/collapseEnd",function(){var C=this.$VideoWatchAndScrollController14;if(!C||!c("shouldWNSRenderToRHC")())return;this.pauseActiveVideo(c("VideoPlayerReason").USER);C.setState({endScreenFadeOut:false})}.bind(this)),c("Arbiter").subscribe("RHCVideoWNSController/expandStart",function(){var C=this.$VideoWatchAndScrollController14;if(!C||!this.isActiveVideoDonePlaying()||!c("shouldWNSRenderToRHC")())return;C.setState({endScreenShown:true})}.bind(this)));if(w)(function(){var C=function(){var D=this.$VideoWatchAndScrollController16.getVideoNode();D instanceof HTMLVideoElement||j(0);D.currentTime=D.currentTime}.bind(A);B.push(c("Arbiter").subscribe("RHCVideoWNSController/eject",function(D,E){if(!c("shouldWNSRenderToRHC")())return;this.$VideoWatchAndScrollController2=E;c("DOM").appendContent(document.body,E);if(!c("VideoPlayerShakaExperiments").timeoutsPersistOnPageTransition)C();if(this.$VideoWatchAndScrollController16.isState(c("VideoPlayerStates").PLAYING))this.playActiveVideo(c("VideoPlayerReason").USER)}.bind(A)),c("Arbiter").subscribe("RHCVideoWNSController/dock",function(){if(!c("shouldWNSRenderToRHC")())return;if(!c("VideoPlayerShakaExperiments").timeoutsPersistOnPageTransition)C();if(this.$VideoWatchAndScrollController16.isState(c("VideoPlayerStates").PLAYING))this.playActiveVideo(c("VideoPlayerReason").USER)}.bind(A)),c("Event").listen(window,"resize",c("throttle")(function(){if(!c("shouldWNSRenderToRHC")())return;this.$VideoWatchAndScrollController57()}.bind(A))),c("Arbiter").subscribe("RHCVideoWNSController/mount",function(){this.$VideoWatchAndScrollController57()}.bind(A)))})()}return B};y.prototype.$VideoWatchAndScrollController57=function(){"use strict";var z=this.$VideoWatchAndScrollController14;if(!z||this.$VideoWatchAndScrollController38)return;var A=this.$VideoWatchAndScrollController16.getVideoNode(),B=this.$VideoWatchAndScrollController58(A);this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(B.width,B.height);z.setState({width:B.width,height:B.height});this.$VideoWatchAndScrollController47=B;c("Arbiter").inform("VideoWatchAndScrollController/resize")};y.prototype.isActiveVideoDonePlaying=function(){"use strict";var z=this.$VideoWatchAndScrollController16.getState();return z===c("VideoPlayerStates").FINISHED};y.isActiveVideoDonePlaying=function(){"use strict";return v?v.isActiveVideoDonePlaying():false};y.prototype.$VideoWatchAndScrollController59=function(z,A,B){"use strict";z||j(0);A.length||j(0);this.$VideoWatchAndScrollController48=true;this.$VideoWatchAndScrollController38=false;this.$VideoWatchAndScrollController32=new(c("SubscriptionsHandler"))();this.$VideoWatchAndScrollController37=B;this.$VideoWatchAndScrollController34=z;this.$VideoWatchAndScrollController39=z.getPreloadedData().thumbnails||[];this.$VideoWatchAndScrollController40=[];this.$VideoWatchAndScrollController36=A.slice(0);this.$VideoWatchAndScrollController36.forEach(function(D){this.$VideoWatchAndScrollController60(D);this.$VideoWatchAndScrollController61(D);D.updateSource(c("VideoPlayerLoggerSource").WATCH_SCROLL)}.bind(this));var C=this.$VideoWatchAndScrollController36.shift();this.$VideoWatchAndScrollController62(C,c("VideoPlayerReason").USER)};y.prototype.$VideoWatchAndScrollController63=function(z,A,B,C,D){"use strict";this.$VideoWatchAndScrollController9=D;this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController58(D.videoRootNode);this.$VideoWatchAndScrollController59(z,A,B);if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({channelVideoElements:C},function(){this.$VideoWatchAndScrollController64()}.bind(this));this.$VideoWatchAndScrollController9=null};y.registerVideoController=function(z,A,B,C){"use strict";if(v==null)v=new y(z.getVideoChannelID(),z.getVideoID(),A,C);v.$VideoWatchAndScrollController31.addSubscriptions(z.addListener("enterWatchAndScroll",function(){if(v)v.$VideoWatchAndScrollController65(z)}),z.addListener("crossfadeWatchAndScroll",function(){if(v){v.$VideoWatchAndScrollController66();var E=z.getVideoNode();v.$VideoWatchAndScrollController47=v.$VideoWatchAndScrollController58(E);v.$VideoWatchAndScrollController62(z,c("VideoPlayerReason").USER,false,true);z.unmute()}}),z.addListener("exitWatchAndScroll",function(){if(v&&v.$VideoWatchAndScrollController4)v.$VideoWatchAndScrollController55()}),z.addListener("VideoChannelController/enterChannel",function(){if(v)v.$VideoWatchAndScrollController38=true}),z.addListener("VideoChannelController/exitChannel",function(){if(v)v.$VideoWatchAndScrollController38=false}));if(A===c("VideoChainingCaller").WNS)v.$VideoWatchAndScrollController36.push(z);if(!B)return;var D=["beginPlayback","changeVolume","muteVideo","toggleFullscreen","unmuteVideo","VideoChannelController/enterChannel"];D.forEach(function(event){if(v)v.$VideoWatchAndScrollController31.addSubscriptions(z.addListener(event,function(E){if(v)v.$VideoWatchAndScrollController67(z,event,E)}))})};y.isActive=function(){"use strict";if(!v)return false;return v.$VideoWatchAndScrollController4&&!v.$VideoWatchAndScrollController38};y.updateSlidingCalculations=function(){"use strict";if(!v)return;if(v.$VideoWatchAndScrollController19)v.$VideoWatchAndScrollController68(v.$VideoWatchAndScrollController19)};y.registerChannelVideoController=function(z){"use strict";if(!v)return;z.updateSource(c("VideoPlayerLoggerSource").WATCH_SCROLL);v.$VideoWatchAndScrollController60(z);v.$VideoWatchAndScrollController61(z);v.$VideoWatchAndScrollController36.push(z)};y.getStoryFetcherData=function(){"use strict";return v&&v.$VideoWatchAndScrollController69()};y.prototype.$VideoWatchAndScrollController69=function(){"use strict";return{storyFetcher:this.$VideoWatchAndScrollController34,videoPlayerControllers:this.$VideoWatchAndScrollController36,channelVideoIndex:this.$VideoWatchAndScrollController37,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController40,isFromWNS:true}};y.getVideoPlaceholder=function(){"use strict";if(!v)return null;return v.$VideoWatchAndScrollController18};y.getReactContainer=function(){"use strict";if(!v)return null;return v.$VideoWatchAndScrollController14};y.registerChannelInteraction=function(z){"use strict";if(v)v.$VideoWatchAndScrollController40.push(z)};y.onEnterTahoe=function(){"use strict";if(!v)return;v.$VideoWatchAndScrollController70()};y.prototype.$VideoWatchAndScrollController70=function(){"use strict";this.$VideoWatchAndScrollController38=true;this.$VideoWatchAndScrollController34.abandonRequest()};y.onEnterChannel=function(){"use strict";if(!v)return;v.$VideoWatchAndScrollController71()};y.prototype.$VideoWatchAndScrollController71=function(){"use strict";this.$VideoWatchAndScrollController38=true;this.$VideoWatchAndScrollController34.abandonRequest();var z=this.$VideoWatchAndScrollController14;if(!z)return;var A=["._23if","._23ig","._452w","._2i7a"];z.getChannelVideoElements().forEach(function(B){A.forEach(function(E){var F=c("DOM").scry(B,E),G=F[0];if(G)c("CSS").show(G)});var C=c("DOM").scry(B,"._2337"),D=C[0];if(D){c("CSS").removeClass(D,"_2337");c("CSS").addClass(D,"_3pay")}})};y.resetFromChannelView=function(z,A,B){"use strict";if(!v)return;v.$VideoWatchAndScrollController59(z,A,B)};y.startFromChannelView=function(z,A,B,C,D){"use strict";if(!v)return;v.$VideoWatchAndScrollController63(z,A,B,C,D)};y.prototype.$VideoWatchAndScrollController67=function(z,event,A){"use strict";if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===z)return;if(A&&r.includes(A.reason))return;if(!z.isIntentionallyViewing())return;var B=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");if(B)this.$VideoWatchAndScrollController16.mute();else this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER)}if(event==="toggleFullscreen"&&z.isFullscreen()||event==="VideoChannelController/enterChannel"){if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController54()}else if((event!=="beginPlayback"||A&&A.reason===c("VideoPlayerReason").USER||z.getSource()===c("VideoPlayerLoggerSource").PERMALINK)&&z.isIntentionallyViewing()&&!z.isFullscreen()&&!z.getIsInChannel()){var C=this.$VideoWatchAndScrollController72(z.getVideoNode()),D=C.top;if(D>window.scrollY||event==="beginPlayback"&&A&&A.reason===c("VideoPlayerReason").AUTOPLAY)this.$VideoWatchAndScrollController68(z)}};y.prototype.$VideoWatchAndScrollController73=function(z){"use strict";if(this.$VideoWatchAndScrollController38||z!==this.$VideoWatchAndScrollController16)return;if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({endScreenShown:true,playbackFinished:true,timeUntilNext:this.$VideoWatchAndScrollController51?u:0})};y.prototype.$VideoWatchAndScrollController74=function(z){"use strict";return z.addListener("finishPlayback",function(){return this.$VideoWatchAndScrollController73(z)}.bind(this))};y.prototype.$VideoWatchAndScrollController68=function(z){"use strict";var A=z.getVideoNode();if(!A.offsetParent)return;this.$VideoWatchAndScrollController19=z;this.$VideoWatchAndScrollController26=c("throttle")(this.$VideoWatchAndScrollController75.bind(this),100);window.addEventListener("resize",this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController76(A);this.$VideoWatchAndScrollController77()};y.prototype.$VideoWatchAndScrollController75=function(){"use strict";if(this.$VideoWatchAndScrollController19){this.$VideoWatchAndScrollController76(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode());this.$VideoWatchAndScrollController27&&this.$VideoWatchAndScrollController27()}};y.prototype.$VideoWatchAndScrollController78=function(z){"use strict";var A=this.$VideoWatchAndScrollController72(z),B=z.scrollWidth,C=z.scrollHeight,D=q,E=p;if(B<C){D*=B/C;E*=B/C}var F=D;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var G=this.$VideoWatchAndScrollController72(this.$VideoWatchAndScrollController10);if(G.left<=A.left)F=Math.min(G.left-2*m,E);else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var H=this.$VideoWatchAndScrollController72(this.$VideoWatchAndScrollController11);F=Math.min(H.left-2*m,E)}}else{var I=document.getElementById("timeline_tab_content");if(I){var J=this.$VideoWatchAndScrollController72(I).left;F=Math.min(J-2*m,E)}}return Math.max(F,D)};y.prototype.$VideoWatchAndScrollController72=function(z){"use strict";var A={left:0,top:0};do{A.top+=z.offsetTop;A.left+=z.offsetLeft}while(z=z.offsetParent);return A};y.prototype.$VideoWatchAndScrollController79=function(){"use strict";if(c("VideoPlayerExperiments").rhcWNSEnabled)return t;var z=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var A=this.$VideoWatchAndScrollController72(this.$VideoWatchAndScrollController10),B=window.getComputedStyle(this.$VideoWatchAndScrollController10),C=parseInt(B.width,10);if(w)C=C||l;z=C+A.left-m}else{var D=document.getElementById("timeline_tab_content");if(!D){var E=document.getElementById("pagelet_timeline_main_column");if(E)D=E.parentNode;else D=document.getElementById("contentArea")}if(D){var F=this.$VideoWatchAndScrollController72(D).left;z=F-2*m}}return z};y.prototype.$VideoWatchAndScrollController58=function(z){"use strict";var A=!z&&this.$VideoWatchAndScrollController9,B={left:0},C=16,D=9;if(!A){B=this.$VideoWatchAndScrollController72(z);D=1;C=parseFloat(z.getAttribute("data-original-aspect-ratio"));var E=z.parentElement;if((!C||D===0)&&E){B=this.$VideoWatchAndScrollController72(E);C=E.scrollWidth;D=E.scrollHeight}}var F=q,G=p;if(C<D){F*=C/D;G*=C/D}var H=this.$VideoWatchAndScrollController79(),I=m;if(this.$VideoWatchAndScrollController12)I+=this.$VideoWatchAndScrollController12.scrollHeight;I=Math.max(I,o);var J=c("VideoPlayerExperiments").rhcWNSEnabled?H:Math.max(Math.min(H,G),q),K=void 0;if(c("VideoPlayerExperiments").rhcWNSEnabled)K=c("Locale").isRTL()?m+c("ViewportBounds").getRight():c("getViewportDimensions")().width-J-m;else{K=H>G?H-G+m:m;K=Math.max(K,m)}var L=J*D/C;if(c("VideoPlayerExperiments").rhcWNSEnabled)L=Math.min(L,x());return{hasEnoughSpace:!!A||H>=F,height:L,left:K,top:I,width:J}};y.hasEnoughSpaceToEnter=function(z){"use strict";if(!v||!z||!z.getVideoNode())return false;var A=z.getVideoNode(),B=1,C=parseFloat(A.getAttribute("data-original-aspect-ratio")),D=A.parentElement;if((!C||B===0)&&D){C=D.scrollWidth;B=D.scrollHeight}var E=q;if(C<B)E*=C/B;return v.$VideoWatchAndScrollController79()>E};y.prototype.$VideoWatchAndScrollController76=function(z){"use strict";this.$VideoWatchAndScrollController22=this.$VideoWatchAndScrollController72(z);this.$VideoWatchAndScrollController28=z.scrollWidth;this.$VideoWatchAndScrollController29=z.scrollHeight;var A=Math.max(this.$VideoWatchAndScrollController28,this.$VideoWatchAndScrollController29);if(A<q){var B=q/A;this.$VideoWatchAndScrollController28*=B;this.$VideoWatchAndScrollController29*=B}this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController22.top+this.$VideoWatchAndScrollController29*.5-n;this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController22.top+this.$VideoWatchAndScrollController29*.5-window.innerHeight;this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController58(z);this.$VideoWatchAndScrollController30=!this.$VideoWatchAndScrollController47.hasEnoughSpace};y.prototype.$VideoWatchAndScrollController77=function(){"use strict";if(this.$VideoWatchAndScrollController19.isIntentionallyViewing()){this.$VideoWatchAndScrollController80(this.$VideoWatchAndScrollController81.bind(this));this.$VideoWatchAndScrollController81()}else this.$VideoWatchAndScrollController54()};y.isVideoAlmostFinished=function(z){"use strict";var A=z.getPlaybackDuration(),B=z.getCurrentTimePosition(),C=c("VideoWatchAndScrollVariables").noWNSRemainingTime;if(A*.2<C)return B/A>.8;else return A-B<C};y.isSlidingEnabled=function(z){"use strict";var A=v;if(A==null)return false;var B=A.$VideoWatchAndScrollController19;if(B==null||B!==z)return false;if(A.$VideoWatchAndScrollController30||!z.isIntentionallyViewing()||!z.getVideoNode().offsetParent||y.isVideoAlmostFinished(z)||z.getSource()===c("VideoPlayerLoggerSource").TAHOE||z.hasLooped()){A.$VideoWatchAndScrollController54();return false}return true};y.prototype.$VideoWatchAndScrollController81=function(){"use strict";var z=this.$VideoWatchAndScrollController19;if(z==null)return;if(!z.isIntentionallyViewing()||!z.getVideoNode().offsetParent){this.$VideoWatchAndScrollController54();return}if((window.scrollY>this.$VideoWatchAndScrollController21||window.scrollY<this.$VideoWatchAndScrollController20)&&y.isSlidingEnabled(z)&&z!==this.$VideoWatchAndScrollController16&&!z.isFullscreen()&&!this.$VideoWatchAndScrollController38){this.$VideoWatchAndScrollController66();this.$VideoWatchAndScrollController62(z,c("VideoPlayerReason").AUTOPLAY,false,true);this.$VideoWatchAndScrollController54()}};y.prototype.$VideoWatchAndScrollController66=function(){"use strict";this.$VideoWatchAndScrollController48=this.$VideoWatchAndScrollController49};y.prototype.$VideoWatchAndScrollController80=function(z){"use strict";window.removeEventListener("scroll",this.$VideoWatchAndScrollController27);this.$VideoWatchAndScrollController27=z||null;window.addEventListener("scroll",this.$VideoWatchAndScrollController27);c("cancelAnimationFrame")(this.$VideoWatchAndScrollController33);delete this.$VideoWatchAndScrollController33};y.prototype.$VideoWatchAndScrollController54=function(){"use strict";window.removeEventListener("resize",this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController80();delete this.$VideoWatchAndScrollController19;this.$VideoWatchAndScrollController30=false};y.prototype.$VideoWatchAndScrollController65=function(z){"use strict";this.$VideoWatchAndScrollController54();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==z)this.$VideoWatchAndScrollController82(z);else{this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController58(z.getVideoNode());this.$VideoWatchAndScrollController66();this.$VideoWatchAndScrollController62(z,c("VideoPlayerReason").USER)}};y.prototype.$VideoWatchAndScrollController82=function(z){"use strict";this.$VideoWatchAndScrollController23=z;this.$VideoWatchAndScrollController83()};y.prototype.$VideoWatchAndScrollController62=function(z,A,B,C){"use strict";if(z.getSource()===c("VideoPlayerLoggerSource").TAHOE){this.$VideoWatchAndScrollController38=false;var D=c("Tahoe").get();if(D)D.onExit("wns")}var E=!!this.$VideoWatchAndScrollController46;if(this.$VideoWatchAndScrollController46){clearTimeout(this.$VideoWatchAndScrollController46);this.$VideoWatchAndScrollController46=null;c("ReactDOM").unmountComponentAtNode(this.$VideoWatchAndScrollController84());this.$VideoWatchAndScrollController85()}var F=this.$VideoWatchAndScrollController1&&(B||C)&&!!this.$VideoWatchAndScrollController17&&this.$VideoWatchAndScrollController17!==z;if(F){this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController17;this.$VideoWatchAndScrollController44=babelHelpers["extends"]({},this.$VideoWatchAndScrollController8);this.$VideoWatchAndScrollController45=this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController14;this.$VideoWatchAndScrollController43=this.$VideoWatchAndScrollController2;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController32.release();this.$VideoWatchAndScrollController32=new(c("SubscriptionsHandler"))()}this.$VideoWatchAndScrollController17=z;this.$VideoWatchAndScrollController86(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController37>0?this.$VideoWatchAndScrollController87(this.$VideoWatchAndScrollController37):z);if(this.$VideoWatchAndScrollController50)this.$VideoWatchAndScrollController50.add(z.getVideoID());else this.$VideoWatchAndScrollController50=new(c("Set"))([z.getVideoID()]);if(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36.length>this.$VideoWatchAndScrollController37)this.$VideoWatchAndScrollController87(this.$VideoWatchAndScrollController37+1).preload();this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var G=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),H=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState("playing"),I=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState("finished");if(!this.$VideoWatchAndScrollController1||F){if(!this.$VideoWatchAndScrollController9)c("VideoChannelLogger").startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController35);if(!B||E){if(E)this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController58(this.$VideoWatchAndScrollController15);this.$VideoWatchAndScrollController52(this.$VideoWatchAndScrollController15)}if(this.$VideoWatchAndScrollController9){this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9;if(this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController88(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());c("DOM").appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var J=c("DOM").scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),K=J[0];if(K)c("DOM").remove(K)}}else{this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:c("DOMDimensions").getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()};this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController88(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode());c("DOM").insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18)}var L=null;if(this.$VideoWatchAndScrollController9)L=this.$VideoWatchAndScrollController9.videoRootNode;if(!L&&this.$VideoWatchAndScrollController15)L=this.$VideoWatchAndScrollController15.parentNode;if(L)this.$VideoWatchAndScrollController13=c("EventListener").listen(L,"click",function(){this.$VideoWatchAndScrollController56();z.play(c("VideoPlayerReason").USER);c("setTimeoutAcrossTransitions")(function(){this.$VideoWatchAndScrollController67(z,"beginPlayback",{reason:c("VideoPlayerReason").USER})}.bind(this),s)}.bind(this));this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER);if(this.$VideoWatchAndScrollController16.isPlayerVersion("silvercity"))this.$VideoWatchAndScrollController16.detachRootNode();var M=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,N=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(M,N);this.$VideoWatchAndScrollController4=true;if(F)this.$VideoWatchAndScrollController89();this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController90();if(!this.$VideoWatchAndScrollController1&&c("shouldWNSRenderToRHC")())c("Arbiter").inform("VideoWatchAndScrollController/init");if(I)this.$VideoWatchAndScrollController73(this.$VideoWatchAndScrollController16)}else{this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER);this.$VideoWatchAndScrollController64()}H&&this.$VideoWatchAndScrollController16.play(A);if(G){this.$VideoWatchAndScrollController16.unmute();if(this.$VideoWatchAndScrollController16.getVolume()===0){var O=c("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(O);this.$VideoWatchAndScrollController16.emit("unmuteVideo")}}this.$VideoWatchAndScrollController16.updateSource(c("VideoPlayerLoggerSource").WATCH_SCROLL);var P=this.$VideoWatchAndScrollController34;if((!this.$VideoWatchAndScrollController1||F)&&P){P.abandonRequest();if(!this.$VideoWatchAndScrollController9)P.reset(z.getVideoID(),z.getVideoChannelID());this.$VideoWatchAndScrollController91();this.$VideoWatchAndScrollController60(z);this.$VideoWatchAndScrollController61(z)}this.$VideoWatchAndScrollController1=true;if(c("shouldWNSRenderToRHC")())c("Arbiter").inform("VideoWatchAndScrollController/start")};y.prototype.$VideoWatchAndScrollController60=function(z){"use strict";if(!z.hasOption("WatchAndScroll","isActive"))z.registerOption("WatchAndScroll","isActive",y.isActive)};y.prototype.$VideoWatchAndScrollController61=function(z){"use strict";this.$VideoWatchAndScrollController32.addSubscriptions(this.$VideoWatchAndScrollController74(z),z.addListener("VideoChannelController/enterChannel",function(){this.$VideoWatchAndScrollController32.release()}.bind(this)),z.addListener("WatchAndScroll/close",function(){this.$VideoWatchAndScrollController56();var A=c("XVideoWNSSurveyController").getURIBuilder().getURI(),B=new(c("AsyncRequest"))().setURI(A);B.send()}.bind(this)))};y.prototype.$VideoWatchAndScrollController92=function(){"use strict";if(!this.$VideoWatchAndScrollController14)return;this.$VideoWatchAndScrollController14.setState({endScreenShown:false});if(this.$VideoWatchAndScrollController16)this.$VideoWatchAndScrollController16.play(c("VideoPlayerReason").USER)};y.prototype.$VideoWatchAndScrollController91=function(){"use strict";if(!this.$VideoWatchAndScrollController48)return;this.$VideoWatchAndScrollController34.fetchStories(true,function(z,A){var B=this.$VideoWatchAndScrollController14;if(!z||!z.length||!B)return;var C=B.getChannelVideoElements().concat(z);B.setState({channelVideoElements:C},function(){c("setTimeoutAcrossTransitions")(function(){this.$VideoWatchAndScrollController87(this.$VideoWatchAndScrollController37+1).preload()}.bind(this))}.bind(this));this.$VideoWatchAndScrollController39=this.$VideoWatchAndScrollController39.concat(A)}.bind(this))};y.prototype.$VideoWatchAndScrollController87=function(z){"use strict";var A=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],B=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController36),C=null;B.forEach(function(D){if(A[z].contains(D.getRootNode()))C=D});C||j(0);return C};y.prototype.$VideoWatchAndScrollController93=function(){"use strict";if(v)if(v.$VideoWatchAndScrollController51)for(var z=0;z<v.$VideoWatchAndScrollController36.length;z++){var A=v.$VideoWatchAndScrollController36[z];if(v.$VideoWatchAndScrollController51.contains(A.getRootNode()))return A}return null};y.prototype.$VideoWatchAndScrollController64=function(){"use strict";var z=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER);if(this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController16.abortLoading();this.$VideoWatchAndScrollController86(this.$VideoWatchAndScrollController87(this.$VideoWatchAndScrollController37));this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var A=this.$VideoWatchAndScrollController16.getVideoNode(),B=parseFloat(A.getAttribute("data-original-aspect-ratio"));if(!B)B=16/9;var C=this.$VideoWatchAndScrollController47;if(!C)C=this.$VideoWatchAndScrollController58(A);this.$VideoWatchAndScrollController14&&(C.width=this.$VideoWatchAndScrollController14.getWidth());C.height=C.width/B;if(c("VideoPlayerExperiments").rhcWNSEnabled)C.height=Math.min(C.height,x());else if(C.height>p){C.height=p;C.width=C.height*B}this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(C.width,C.height);this.$VideoWatchAndScrollController52(A);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({playbackFinished:false,videoIndex:this.$VideoWatchAndScrollController37,width:C.width,height:C.height},function(){if(c("shouldWNSRenderToRHC")())c("Arbiter").inform("VideoWatchAndScrollController/resize")});this.$VideoWatchAndScrollController47=C;this.$VideoWatchAndScrollController16.play(c("VideoPlayerReason").AUTOPLAY);z&&this.$VideoWatchAndScrollController16.mute();if(this.$VideoWatchAndScrollController36.length<=this.$VideoWatchAndScrollController37)this.$VideoWatchAndScrollController91();else this.$VideoWatchAndScrollController87(this.$VideoWatchAndScrollController37+1).preload()};y.prototype.$VideoWatchAndScrollController94=function(){"use strict";var z=m;if(this.$VideoWatchAndScrollController12)z+=this.$VideoWatchAndScrollController12.scrollHeight;return Math.max(z,o)};y.prototype.$VideoWatchAndScrollController52=function(z){"use strict";if(this.$VideoWatchAndScrollController47){this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController47.height,left:this.$VideoWatchAndScrollController47.left,top:this.$VideoWatchAndScrollController47.top,width:this.$VideoWatchAndScrollController47.width};return}if(z){var A=z.scrollWidth,B=z.scrollHeight,C=this.$VideoWatchAndScrollController78(z),D=C*B/A;this.$VideoWatchAndScrollController7.height=D;this.$VideoWatchAndScrollController7.width=C}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:m,top:this.$VideoWatchAndScrollController94(),width:this.$VideoWatchAndScrollController6}};y.prototype.$VideoWatchAndScrollController88=function(z,A){"use strict";var B=c("DOM").create("canvas",{className:"_57n6"});B.height=z.height;B.width=z.width;if(B.getContext&&B.getContext("2d"))if(A.scrollHeight===0){var C=c("DOM").scry(A.parentNode,"._3t5i"),D=C[0];if(D){var E=B.getContext("2d");E.drawImage(D,0,0)}}else if(A instanceof window.HTMLVideoElement){var F=new(c("VideoFrameBuffer"))(B,A);F.updateFrameBuffer()}var G=c("DOM").create("div");G.appendChild(B);var H=c("DOM").create("i",{className:"_1jto _bsl _3htz"});G.appendChild(H);return G};y.prototype.$VideoWatchAndScrollController56=function(){"use strict";if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController54();this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER);this.$VideoWatchAndScrollController83()};y.prototype.$VideoWatchAndScrollController95=function(){"use strict";this.$VideoWatchAndScrollController16.emit("WatchAndScroll/collapse")};y.prototype.$VideoWatchAndScrollController96=function(){"use strict";var z=this.$VideoWatchAndScrollController88(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),true);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:true,fadeOutPlaceholder:z});this.$VideoWatchAndScrollController97(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8);if(this.$VideoWatchAndScrollController18){c("DOM").remove(this.$VideoWatchAndScrollController18);this.$VideoWatchAndScrollController18=null}if(this.$VideoWatchAndScrollController13){this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController13=null}};y.prototype.$VideoWatchAndScrollController97=function(z,A,B){"use strict";var C=z.getOption("VideoWithLiveBroadcast","isLive");z.pause(c("VideoPlayerReason").USER);if(z.isPlayerVersion("silvercity"))z.detachRootNode();B&&c("ReactDOM").unmountComponentAtNode(B);if(A.dimensions&&A.dimensions.width&&A.dimensions.height){z.addOffsetStylings();z.setDimensions(A.dimensions.width,A.dimensions.height)}if(A.videoRootNode)c("DOM").prependContent(A.videoRootNode,z.getRootNode());z.emit("WatchAndScroll/positionUpdated");z.updateSource(A.source||c("VideoPlayerLoggerSource").INLINE);var D=this.$VideoWatchAndScrollController72(z.getVideoNode()),E=D.top,F=c("getViewportDimensions")().height;if(z.getSource()!==c("VideoPlayerLoggerSource").PERMALINK)z.mute();if(E<window.scrollY||E>window.scrollY+F){z.pause(c("VideoPlayerReason").AUTOPLAY);z.emit("resumeAutoplay")}else z.play(c("VideoPlayerReason").USER)};y.prototype.$VideoWatchAndScrollController89=function(){"use strict";this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController41||j(0);this.$VideoWatchAndScrollController41.setState({fadeOut:true});this.$VideoWatchAndScrollController46=c("setTimeoutAcrossTransitions")(function(){this.$VideoWatchAndScrollController42||j(0);this.$VideoWatchAndScrollController43||j(0);this.$VideoWatchAndScrollController97(this.$VideoWatchAndScrollController42,this.$VideoWatchAndScrollController44,this.$VideoWatchAndScrollController43);if(this.$VideoWatchAndScrollController45){c("DOM").remove(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null}this.$VideoWatchAndScrollController46=null}.bind(this),s)};y.prototype.$VideoWatchAndScrollController55=function(){"use strict";this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController14||j(0);if(!this.$VideoWatchAndScrollController23&&c("shouldWNSRenderToRHC")())c("Arbiter").inform("VideoWatchAndScrollController/exit");this.$VideoWatchAndScrollController36.forEach(function(z){return z.abortLoading()});this.$VideoWatchAndScrollController96();this.$VideoWatchAndScrollController46=c("setTimeoutAcrossTransitions")(function(){c("ReactDOM").unmountComponentAtNode(this.$VideoWatchAndScrollController84());this.$VideoWatchAndScrollController85()}.bind(this),s)};y.prototype.$VideoWatchAndScrollController85=function(){"use strict";this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController34&&this.$VideoWatchAndScrollController34.abandonRequest();this.$VideoWatchAndScrollController37=0;this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController32.release();this.$VideoWatchAndScrollController32=new(c("SubscriptionsHandler"))();this.$VideoWatchAndScrollController8={};this.$VideoWatchAndScrollController16=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController36=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController14=null;clearTimeout(this.$VideoWatchAndScrollController46);this.$VideoWatchAndScrollController46=null;if(this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43&&this.$VideoWatchAndScrollController44)this.$VideoWatchAndScrollController97(this.$VideoWatchAndScrollController42,this.$VideoWatchAndScrollController44,this.$VideoWatchAndScrollController43);this.$VideoWatchAndScrollController42=null;this.$VideoWatchAndScrollController44={};if(this.$VideoWatchAndScrollController45){c("DOM").remove(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null}c("VideoAutoplayControllerX").setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController23){this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController58(this.$VideoWatchAndScrollController23.getVideoNode());this.$VideoWatchAndScrollController66();this.$VideoWatchAndScrollController62(this.$VideoWatchAndScrollController23,c("VideoPlayerReason").USER);this.$VideoWatchAndScrollController23=null}this.$VideoWatchAndScrollController30=false;this.$VideoWatchAndScrollController47=null;c("VideoChannelLogger").endSession()};y.prototype.$VideoWatchAndScrollController90=function(){"use strict";return c("ReactDOM").render(c("React").createElement(c("VideoWatchAndScrollContainer.react"),{isDrawerEnabled:c("VideoPlayerExperiments").rhcWNSDrawerEnabled&&c("shouldWNSRenderToRHC")()&&c("VideoPlayerExperiments").rhcWNSExpandToTahoe,isLiveVideo:function(){return this.$VideoWatchAndScrollController16.isLiveVideo()}.bind(this),initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController98.bind(this),onClick:this.$VideoWatchAndScrollController99.bind(this),onClose:this.$VideoWatchAndScrollController56.bind(this),onCollapse:this.$VideoWatchAndScrollController95.bind(this),onDoubleClick:this.$VideoWatchAndScrollController100.bind(this),onDrop:this.$VideoWatchAndScrollController101.bind(this),onGrab:this.$VideoWatchAndScrollController102.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController103.bind(this),onLoadUpNext:this.registerUpNextUnit.bind(this),onPlayNext:this.$VideoWatchAndScrollController104.bind(this),onReplay:this.$VideoWatchAndScrollController92.bind(this),viewedVideos:Array.from(this.$VideoWatchAndScrollController50),videoID:this.$VideoWatchAndScrollController16.getVideoID()}),this.$VideoWatchAndScrollController84())};y.prototype.$VideoWatchAndScrollController83=function(){"use strict";if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit("exitWatchAndScroll")};y.prototype.$VideoWatchAndScrollController98=function(z){"use strict";if(z>0&&this.$VideoWatchAndScrollController36.length<=this.$VideoWatchAndScrollController37){if(!c("shouldWNSRenderToRHC")())this.$VideoWatchAndScrollController56();return}this.$VideoWatchAndScrollController37+=z;this.$VideoWatchAndScrollController64()};y.prototype.$VideoWatchAndScrollController104=function(){"use strict";var z=this.$VideoWatchAndScrollController93();if(z){this.$VideoWatchAndScrollController51=null;z.emit("crossfadeWatchAndScroll");z.play(c("VideoPlayerReason").AUTOPLAY)}};y.prototype.$VideoWatchAndScrollController102=function(){"use strict";if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController54();var z=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");if(z)return;this.$VideoWatchAndScrollController24=this.$VideoWatchAndScrollController16.isState("playing");this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER)};y.prototype.$VideoWatchAndScrollController101=function(){"use strict";var z=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");if(z)return;if(this.$VideoWatchAndScrollController24)this.$VideoWatchAndScrollController16.play(c("VideoPlayerReason").USER);this.$VideoWatchAndScrollController24=null};y.prototype.$VideoWatchAndScrollController99=function(){"use strict";var z=this.$VideoWatchAndScrollController16.getOption("VideoWithLiveBroadcast","isLive");if(this.$VideoWatchAndScrollController19||z)return;if(this.$VideoWatchAndScrollController16.isState("playing"))this.$VideoWatchAndScrollController16.pause(c("VideoPlayerReason").USER);else if(this.$VideoWatchAndScrollController16.isState("paused")||this.$VideoWatchAndScrollController16.isState("finished")||this.$VideoWatchAndScrollController16.isState("ready"))this.$VideoWatchAndScrollController16.play(c("VideoPlayerReason").USER)};y.prototype.$VideoWatchAndScrollController86=function(z){"use strict";if(this.$VideoWatchAndScrollController16===z)return;if(c("VideoPlayerExperiments").rhcWNSEnabled)z.addListener("WatchAndScroll/collapse",function(){if(z!=this.$VideoWatchAndScrollController16){z.removeCurrentListener();return}if(!c("shouldWNSRenderToRHC")())return;c("Arbiter").inform("VideoWatchAndScrollController/collapse")}.bind(this));this.$VideoWatchAndScrollController16=z};y.prototype.$VideoWatchAndScrollController100=function(){"use strict";if(this.$VideoWatchAndScrollController19)return;var z=this.$VideoWatchAndScrollController16.getOption("VideoWithClickToChannelView","isChannelEligible"),A=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();if(A&&!z)return;c("Bootloader").loadModules(["VideoChannelController"],function(B){this.$VideoWatchAndScrollController71();B.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController35,this.$VideoWatchAndScrollController69())}.bind(this),"VideoWatchAndScrollController")};y.prototype.pauseActiveVideo=function(z){"use strict";if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.pause(z)};y.pauseActiveVideo=function(){var z=arguments.length<=0||arguments[0]===undefined?c("VideoPlayerReason").USER:arguments[0];"use strict";if(!v)return;v.pauseActiveVideo(z)};y.prototype.playActiveVideo=function(z){"use strict";if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.play(z)};y.prototype.registerUpNextUnit=function(z){"use strict";var A=c("DOM").find(z,"._3iqr");if(!v||!A)return;v.$VideoWatchAndScrollController51=z;c("EventListener").listen(A,"click",function(event){if(!v)return;var B=v.$VideoWatchAndScrollController93();if(B){event.preventDefault();v.$VideoWatchAndScrollController51=null;B.emit("crossfadeWatchAndScroll")}})};y.playActiveVideo=function(){var z=arguments.length<=0||arguments[0]===undefined?c("VideoPlayerReason").USER:arguments[0];"use strict";if(!v)return;v.playActiveVideo(z)};y.prototype.$VideoWatchAndScrollController103=function(z){"use strict";this.$VideoWatchAndScrollController7=z;if(this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()){this.$VideoWatchAndScrollController16.removeOffsetStylings();this.$VideoWatchAndScrollController16.setDimensions(z.width,z.height);this.$VideoWatchAndScrollController16.emit("WatchAndScroll/positionUpdated")}};y.prototype.$VideoWatchAndScrollController105=function(){"use strict";var z=c("DOM").create("div");if(c("shouldWNSRenderToRHC")())c("ifRequired")("RHCVideoWNSController",function(A){return A.mount(z)});else c("DOM").appendContent(document.body,z);return z};y.prototype.$VideoWatchAndScrollController84=function(){"use strict";if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController105();return this.$VideoWatchAndScrollController2};f.exports=y}),null);
__d("XBasicFBNuxGenShouldShowController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ajax/megaphone/should_show_fbnux/",{nux_id:{type:"Int",required:true}})}),null);
__d("EmbeddedVideoControls",["cx","csx","Arbiter","AsyncRequest","CSS","DeferredComponent.react","EventListener","FullScreen","Parent","React","ReactDOM","Set","SubscriptionsHandler","TahoeVariables","VideoChannelViewVariables","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerUIComponentDrawer","VideoPlayerVersions","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","logVideosClickTracking","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function a(b,c,d,e,f,g,h,i){var j=c("VideoChannelViewVariables").channelRedesign,k=new(c("Set"))([c("VideoPlayerLoggerSource").EMBEDDED,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_PREVIEW,c("VideoPlayerLoggerSource").EMBEDDED_PAGE_PLUGIN,c("VideoPlayerLoggerSource").EMBEDDED_VIDEO_FROM_UFI]),l=4936,m=c("VideoPlayerExperiments").persistentWNSEnabled;function n(o,p,q){"use strict";this.$EmbeddedVideoControls6=function(){this.$EmbeddedVideoControls48=false;this.scheduleRenderReactComponent()}.bind(this);this.$EmbeddedVideoControls7=o;this.$EmbeddedVideoControls43=p;this.$EmbeddedVideoControls5=0;this.$EmbeddedVideoControls39=0;this.$EmbeddedVideoControls38=0;this.$EmbeddedVideoControls12=0;this.$EmbeddedVideoControls54=false;this.$EmbeddedVideoControls23=q.hideOnEvents.autoplay;this.$EmbeddedVideoControls24=q.hideOnEvents.finish;this.$EmbeddedVideoControls18=q.hideOnEvents.pause;this.$EmbeddedVideoControls19=q.hidePlaybackControl;this.$EmbeddedVideoControls20=q.hidePlaybackScrubber;this.$EmbeddedVideoControls46=q.showPlaybackRateControl;this.$EmbeddedVideoControls21=q.hideRemainingTime;this.$EmbeddedVideoControls22=q.hideSettings;this.$EmbeddedVideoControls52=q.useTwoRows;this.$EmbeddedVideoControls26=q.isCommentAttachment;this.$EmbeddedVideoControls71=q.pointsOfInterestConfig||{};this.$EmbeddedVideoControls72=q.displayElapsedTime||false;this.$EmbeddedVideoControls73=q.displayMilliseconds||false;this.$EmbeddedVideoControls74=q.adBreaks;this.$EmbeddedVideoControls75=q.adBreaksDisableReasons;this.$EmbeddedVideoControls76=q.showSpatialAudioNUX;this.$EmbeddedVideoControls34=false;this.$EmbeddedVideoControls45=q.shouldShowWNSNUX;this.$EmbeddedVideoControls48=false;this.$EmbeddedVideoControls49=false;this.$EmbeddedVideoControls80=q.insertedAdBreaks;this.$EmbeddedVideoControls81=q.isAdBreakDisabled;var r=o.isPlayerVersion(c("VideoPlayerVersions").PLEASANTVILLE);this.$EmbeddedVideoControls16=q.showButtons.watchandscroll&&r;this.$EmbeddedVideoControls1=q.showButtons.casting;this.$EmbeddedVideoControls2=q.showButtons.fullscreen&&!!c("FullScreen").isSupported();this.$EmbeddedVideoControls37=q.permalinkURL;this.$EmbeddedVideoControls30=q.isLive;this.$EmbeddedVideoControls31=q.isSphericalVideo;this.$EmbeddedVideoControls78=q.forceVisible||false;this.$EmbeddedVideoControls79=q.hideGradient||false;this.$EmbeddedVideoControls82=q.useDarkTheme||false;this.$EmbeddedVideoControls17=false;this.$EmbeddedVideoControls68=q.showQualitySelector;this.$EmbeddedVideoControls69=q.qualitySelectorMinStreams;this.$EmbeddedVideoControls56=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls9=this.enterTahoe.bind(this);this.$EmbeddedVideoControls58=this.play.bind(this);this.$EmbeddedVideoControls57=this.pause.bind(this);this.$EmbeddedVideoControls59=this.scrubBegin.bind(this);this.$EmbeddedVideoControls60=this.scrubEnd.bind(this);this.$EmbeddedVideoControls50=this.startCasting.bind(this);this.$EmbeddedVideoControls51=this.stopCasting.bind(this);this.$EmbeddedVideoControls62=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls63=this.toggleHD.bind(this);this.$EmbeddedVideoControls64=this.toggleHLS.bind(this);this.$EmbeddedVideoControls65=this.toggleMuted.bind(this);this.$EmbeddedVideoControls66=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls55=this.changeVolume.bind(this);this.$EmbeddedVideoControls61=this.setVideoPlaybackRate.bind(this);this.$EmbeddedVideoControls67=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls70=this.$EmbeddedVideoControls7.registerDrawer(c("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,36);this.$EmbeddedVideoControls36=q.needsInitialVideoInfoUpdate;this.$EmbeddedVideoControls77=this.$EmbeddedVideoControls7.getSource();if(!m)c("destroyOnUnload")(function(){return c("ReactDOM").unmountComponentAtNode(p)});var s=this.$EmbeddedVideoControls7.getRootNode();c("EventListener").listen(this.$EmbeddedVideoControls43,"focusin",function(){this.$EmbeddedVideoControls11=true;this.scheduleRenderReactComponent()}.bind(this));c("EventListener").listen(this.$EmbeddedVideoControls43,"focusout",function(){if(!c("containsNode")(this.$EmbeddedVideoControls43,c("getActiveElement")())){this.$EmbeddedVideoControls11=false;this.scheduleRenderReactComponent()}}.bind(this));c("EventListener").listen(s,"click",function(u){if(this.$EmbeddedVideoControls11&&u.detail)c("getActiveElement")().blur()}.bind(this));c("EventListener").listen(s,"mouseleave",function(){this.$EmbeddedVideoControls35=false;this.scheduleRenderReactComponent()}.bind(this));c("EventListener").listen(s,"mouseenter",function(){this.$EmbeddedVideoControls35=true;this.scheduleRenderReactComponent()}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","acquireForceHideLock",function(){this.$EmbeddedVideoControls12++;return{release:function(){this.$EmbeddedVideoControls12--;this.scheduleRenderReactComponent()}.bind(this)}}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnFinish",function(){return this.$EmbeddedVideoControls24}.bind(this),function(u){this.$EmbeddedVideoControls24=u}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","hideOnPause",function(){return this.$EmbeddedVideoControls18}.bind(this),function(u){this.$EmbeddedVideoControls18=u}.bind(this));this.$EmbeddedVideoControls7.registerOption("VideoControls","available",function(){return true});this.$EmbeddedVideoControls7.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(u){c("EventListener").listen(this.$EmbeddedVideoControls7.getRootNode(),u,c("throttle")(this.flashControls.bind(this),200))}.bind(this));this.$EmbeddedVideoControls47=new(c("SubscriptionsHandler"))();this.scheduleRenderReactComponent();var t=["changeVolume","loadedSubtitles","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];t.forEach(function(event){return this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)))}.bind(this));this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("beginPlayback",function(){return this.$EmbeddedVideoControls83()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateStatus",function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("casting/updateStatus",function(u){this.$EmbeddedVideoControls39=u.position;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("updateBuffer",function(u){this.$EmbeddedVideoControls5=u.duration+u.offset;this.scheduleRenderReactComponent()}.bind(this)),this.$EmbeddedVideoControls7.addListener("optionsChange",function(u){this.$EmbeddedVideoControls84()}.bind(this)),this.$EmbeddedVideoControls7.addListener("resumeAutoplay",function(u){this.$EmbeddedVideoControls85();this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)),this.$EmbeddedVideoControls7.addListener("turnOffAutoplay",function(u){this.$EmbeddedVideoControls25=false}.bind(this)));if(this.$EmbeddedVideoControls45)this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("VideoWithStallRecovery/bufferingStateOn",function(){if(!this.$EmbeddedVideoControls49)this.$EmbeddedVideoControls86(l)}.bind(this)),this.$EmbeddedVideoControls7.addListener("VideoWithStallRecovery/bufferingStateOff",function(){this.$EmbeddedVideoControls48=false}.bind(this)));this.$EmbeddedVideoControls47.addSubscriptions(this.$EmbeddedVideoControls7.addListener("finishPlayback",function(){this.scheduleRenderReactComponent(true)}.bind(this)));this.$EmbeddedVideoControls85();this.$EmbeddedVideoControls87()}n.prototype.$EmbeddedVideoControls88=function(){"use strict";return this.$EmbeddedVideoControls7.isState("playing")&&this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")};n.prototype.$EmbeddedVideoControls87=function(){"use strict";this.$EmbeddedVideoControls44=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites");this.$EmbeddedVideoControls14=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails");this.$EmbeddedVideoControls40=this.$EmbeddedVideoControls7.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};n.prototype.$EmbeddedVideoControls85=function(){"use strict";this.$EmbeddedVideoControls25=this.$EmbeddedVideoControls7.getOption("FeedAutoplay","isAutoplaying")};n.prototype.$EmbeddedVideoControls84=function(){"use strict";this.$EmbeddedVideoControls85();this.$EmbeddedVideoControls87()};n.prototype.$EmbeddedVideoControls83=function(){"use strict";this.flashControls();this.$EmbeddedVideoControls33=true;this.scheduleRenderReactComponentWithVideoInfoUpdate()};n.prototype.$EmbeddedVideoControls86=function(o){"use strict";var p=c("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",o).getURI();new(c("AsyncRequest"))().setURI(p).setMethod("GET").setReadOnly(true).setHandler(function(q){var r=q.getPayload();this.$EmbeddedVideoControls48=r.should_show_nux}.bind(this)).send()};n.prototype.updateConfig_DEPRECATED=function(o,p){"use strict";this.$EmbeddedVideoControls37=o.permalinkURL||null;this.$EmbeddedVideoControls1=o.showButtons?o.showButtons.casting:false;this.$EmbeddedVideoControls30=!!o.isLive;this.scheduleRenderReactComponent()};n.prototype.updateAdBreaksConfig=function(o){"use strict";this.$EmbeddedVideoControls80=o.insertedAdBreaks;this.$EmbeddedVideoControls81=o.isAdBreakDisabled;this.$EmbeddedVideoControls78=!o.isPreviewingAdBreak;this.scheduleRenderReactComponent()};n.prototype.flashControls=function(){"use strict";if(!this.$EmbeddedVideoControls41){this.$EmbeddedVideoControls41=true;this.scheduleRenderReactComponent()}clearTimeout(this.$EmbeddedVideoControls10);this.$EmbeddedVideoControls10=setTimeout(function(){this.$EmbeddedVideoControls41=false;this.scheduleRenderReactComponent()}.bind(this),3e3)};n.prototype.areControlsVisible=function(){"use strict";if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls78||this.$EmbeddedVideoControls48)return true;if(this.$EmbeddedVideoControls7.isState("playing")){if(this.$EmbeddedVideoControls23&&this.$EmbeddedVideoControls25)return false;return this.$EmbeddedVideoControls11||this.$EmbeddedVideoControls35&&this.$EmbeddedVideoControls41}else if(this.$EmbeddedVideoControls7.isState("finished"))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls24;else if(this.$EmbeddedVideoControls7.isState("paused"))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls18;return false};n.prototype.areControlsEnabled=function(){"use strict";if(this.$EmbeddedVideoControls12>0||this.$EmbeddedVideoControls7.isState("loading")||this.$EmbeddedVideoControls7.isState("fallback")||this.$EmbeddedVideoControls7.isState("finished")&&this.$EmbeddedVideoControls24&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true};n.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){"use strict";this.$EmbeddedVideoControls36=true;this.scheduleRenderReactComponent(true)};n.prototype.shouldRenderComponent=function(){"use strict";if(this.$EmbeddedVideoControls7.isState("loading")||this.$EmbeddedVideoControls7.isState("fallback"))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls17=false;return true}if(!this.$EmbeddedVideoControls17){this.$EmbeddedVideoControls17=true;return true}return false};n.prototype.scheduleRenderReactComponent=function(){var o=arguments.length<=0||arguments[0]===undefined?false:arguments[0];"use strict";if(!o&&!this.shouldRenderComponent())return;c("cancelAnimationFrame")(this.$EmbeddedVideoControls42);this.$EmbeddedVideoControls42=c("requestAnimationFrame")(this.renderReactComponent.bind(this))};n.prototype.renderReactComponent=function(){"use strict";if(this.$EmbeddedVideoControls36)this.$EmbeddedVideoControls89();var o=this.areControlsVisible();if(this.$EmbeddedVideoControls54!==o){this.$EmbeddedVideoControls7.emit("VideoControls/visibilityUpdate",{areControlsVisible:o});if(o)this.$EmbeddedVideoControls70.reserve();else this.$EmbeddedVideoControls70.release();if(!this.$EmbeddedVideoControls7.isState("destroyed"))c("CSS").conditionClass(this.$EmbeddedVideoControls7.getRootNode(),"_6103",!o)}this.$EmbeddedVideoControls54=o;var p=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),q=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),r=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),s=this.$EmbeddedVideoControls7.getStreamingFormat(),t=null;if(this.$EmbeddedVideoControls7.hasOption("LiveHeatmap","interestLevels"))t=this.$EmbeddedVideoControls7.getOption("LiveHeatmap","interestLevels");var u=this.$EmbeddedVideoControls34;this.$EmbeddedVideoControls34=c("VideoPlayerExperiments").slidingWNSv3&&this.$EmbeddedVideoControls16&&c("VideoWatchAndScrollController").isSlidingEnabled(this.$EmbeddedVideoControls7);if(u!==this.$EmbeddedVideoControls34)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls34?c("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);c("ReactDOM").render(c("React").createElement(c("DeferredComponent.react"),{deferredPlaceholder:c("React").createElement("span",null),deferredComponent:function v(w){return e(["EmbeddedVideoControls.react"],w)},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,areSubtitlesActive:this.$EmbeddedVideoControls3,areHLSActive:this.$EmbeddedVideoControls4,bufferedPosition:this.$EmbeddedVideoControls5,finishedPlaying:this.$EmbeddedVideoControls7.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls13,hasSubtitles:this.$EmbeddedVideoControls15,hasWatchAndScroll:this.$EmbeddedVideoControls16&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$EmbeddedVideoControls79,isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls26,isEmbedded:k.has(this.$EmbeddedVideoControls77),isFullscreen:this.$EmbeddedVideoControls27,isHD:this.$EmbeddedVideoControls28,isInline:this.$EmbeddedVideoControls29,isInTahoe:this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").TAHOE,isLive:this.$EmbeddedVideoControls30,isSphericalVideo:this.$EmbeddedVideoControls31,isMuted:this.$EmbeddedVideoControls32,isPlaying:this.$EmbeddedVideoControls33,isSidePaneOpen:this.getIsInChannel()&&!!c("Parent").bySelector(this.$EmbeddedVideoControls43,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls34,interestLevels:t,drawer:this.$EmbeddedVideoControls70,onEnterWatchAndScroll:this.$EmbeddedVideoControls56,onEnterTahoe:this.$EmbeddedVideoControls9,doesFullscreenEnterTahoe:this.$EmbeddedVideoControls8,onWNSNUXClose:this.$EmbeddedVideoControls6,onPause:this.$EmbeddedVideoControls57,onPlay:this.$EmbeddedVideoControls58,onScrubBegin:this.$EmbeddedVideoControls59,onScrubEnd:this.$EmbeddedVideoControls60,onSetVideoPlaybackRate:this.$EmbeddedVideoControls61,onSidePaneToggle:function v(){c("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$EmbeddedVideoControls50,onStopCast:this.$EmbeddedVideoControls51,onToggleFullscreen:this.$EmbeddedVideoControls62,onToggleHD:this.$EmbeddedVideoControls63,onToggleHLS:this.$EmbeddedVideoControls64,onToggleMuted:this.$EmbeddedVideoControls65,onToggleSubtitles:this.$EmbeddedVideoControls66,onVolumeChange:this.$EmbeddedVideoControls55,permalinkURL:this.$EmbeddedVideoControls37,playbackDuration:this.$EmbeddedVideoControls38,playbackPosition:this.$EmbeddedVideoControls39,transparent:!o,hidePlaybackControl:this.$EmbeddedVideoControls19,hidePlaybackScrubber:this.$EmbeddedVideoControls20,showPlaybackRateControl:this.$EmbeddedVideoControls46,hideRemainingTime:this.$EmbeddedVideoControls21,hideSettings:this.$EmbeddedVideoControls22,useTwoRows:this.$EmbeddedVideoControls52,volume:this.$EmbeddedVideoControls53,scrubberPreviewSprites:this.$EmbeddedVideoControls44,hasScrubberPreview:this.$EmbeddedVideoControls14,previewThumbnailInformation:this.$EmbeddedVideoControls40,availableQualities:p,selectedQuality:q,canAutoSelectVideoQuality:r,onSelectQuality:this.$EmbeddedVideoControls67,showQualitySelector:this.$EmbeddedVideoControls68,qualitySelectorMinStreams:this.$EmbeddedVideoControls69,streamingFormat:s,showSpatialAudioNUX:this.$EmbeddedVideoControls76,onPointOfInterestSelect:this.$EmbeddedVideoControls71.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls71.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls71.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls72,displayMilliseconds:this.$EmbeddedVideoControls73,adBreaks:this.$EmbeddedVideoControls74,adBreaksDisableReasons:this.$EmbeddedVideoControls75,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls27&&j,showWNSNUX:this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls45,insertedAdBreaks:this.$EmbeddedVideoControls80,isAdBreakDisabled:this.$EmbeddedVideoControls81,useDarkTheme:this.$EmbeddedVideoControls82}),this.$EmbeddedVideoControls43);if(this.$EmbeddedVideoControls48&&this.areControlsEnabled()&&this.$EmbeddedVideoControls45)this.$EmbeddedVideoControls49=true};n.prototype.$EmbeddedVideoControls89=function(){"use strict";var o=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(o){this.$EmbeddedVideoControls3=o.areSubtitlesActive;this.$EmbeddedVideoControls15=o.hasSubtitles;this.$EmbeddedVideoControls13=o.hasHD;this.$EmbeddedVideoControls28=o.isHD;this.$EmbeddedVideoControls32=o.isMuted;this.$EmbeddedVideoControls33=o.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls38=o.playbackDuration;this.$EmbeddedVideoControls53=o.volume;var p=this.$EmbeddedVideoControls7.getOption("CommercialBreakVideoAdOverlay","videoController");if(p)this.$EmbeddedVideoControls27=p.isFullscreen();else this.$EmbeddedVideoControls27=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls29=this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").INLINE||this.$EmbeddedVideoControls7.getSource()===c("VideoPlayerLoggerSource").CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls30=o.isLiveStream;this.$EmbeddedVideoControls4=o.areHLSActive;this.$EmbeddedVideoControls36=false;this.$EmbeddedVideoControls8=this.$EmbeddedVideoControls7.listeners("enterTahoe").length!==0&&c("TahoeVariables").fullscreenControlBehavior==="tahoe"}};n.prototype.toggleHD=function(){"use strict";this.$EmbeddedVideoControls7.toggleHD()};n.prototype.setPreferredVideoQuality=function(o){"use strict";if(o)this.$EmbeddedVideoControls7.setPreferredVideoQuality(o);else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality()};n.prototype.toggleHLS=function(){"use strict";this.$EmbeddedVideoControls7.switchToStreamType("hls")};n.prototype.enterWatchAndScroll=function(){"use strict";if(c("shouldWNSRenderToRHC")())this.$EmbeddedVideoControls7.emit("crossfadeWatchAndScroll");else this.$EmbeddedVideoControls7.emit("enterWatchAndScroll")};n.prototype.enterTahoe=function(){"use strict";this.$EmbeddedVideoControls7.emit("enterTahoe")};n.prototype.scrubBegin=function(){"use strict";if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c("VideoPlayerReason").SEEK)};n.prototype.scrubEnd=function(o){"use strict";this.$EmbeddedVideoControls7.seek(o);this.$EmbeddedVideoControls39=o;var p=this.$EmbeddedVideoControls33||this.$EmbeddedVideoControls7.isState("finished")&&!this.$EmbeddedVideoControls24;if(!this.isCasting()&&p)this.$EmbeddedVideoControls7.play(c("VideoPlayerReason").SEEK)};n.prototype.toggleMuted=function(){"use strict";if(this.$EmbeddedVideoControls7.isMuted()){c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute()}else this.$EmbeddedVideoControls7.mute()};n.prototype.toggleFullscreen=function(){"use strict";if(!this.$EmbeddedVideoControls7.isFullscreen())c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen()};n.prototype.toggleSubtitles=function(){"use strict";this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent()};n.prototype.changeVolume=function(o){"use strict";this.$EmbeddedVideoControls7.setVolume(o)};n.prototype.play=function(){"use strict";c("logVideosClickTracking")(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting())this.$EmbeddedVideoControls7.setOption("casting","isPlaying",true);else this.$EmbeddedVideoControls7.play(c("VideoPlayerReason").USER)};n.prototype.pause=function(){"use strict";if(this.isCasting())this.$EmbeddedVideoControls7.setOption("casting","isPlaying",false);else this.$EmbeddedVideoControls7.pause(c("VideoPlayerReason").USER)};n.prototype.setVideoPlaybackRate=function(o){"use strict";this.$EmbeddedVideoControls7.setPlaybackRate(o)};n.prototype.startCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",true)};n.prototype.stopCasting=function(){"use strict";this.$EmbeddedVideoControls7.setOption("casting","isCasting",false)};n.prototype.isCastPlaying=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isPlaying")};n.prototype.hasFoundReceiver=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","hasFoundReceiver")};n.prototype.isCasting=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isCasting")};n.prototype.isCastingSupported=function(){"use strict";return this.$EmbeddedVideoControls7.getOption("casting","isSupported")};n.prototype.updatePointsOfInterestConfig=function(o){"use strict";Object.assign(this.$EmbeddedVideoControls71,o);this.scheduleRenderReactComponent()};n.prototype.updateDisplayElapsedTime=function(o){"use strict";this.$EmbeddedVideoControls72=o;this.scheduleRenderReactComponent()};n.prototype.getIsInChannel=function(){"use strict";return this.$EmbeddedVideoControls7.getIsInChannel()};n.prototype.unregister=function(){"use strict";c("cancelAnimationFrame")(this.$EmbeddedVideoControls42);this.$EmbeddedVideoControls47.release()};f.exports=n}),null);